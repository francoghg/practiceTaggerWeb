{"version":3,"sources":["./src/app/tagger/draws/draws.service.ts","./src/assets/source/elements/controller.js","./src/assets/source/elements/input/hover-box.js","./src/assets/source/util/svg.js","./src/assets/source/elements/graph/node.js","./src/assets/source/elements/interactive.ts","./src/assets/source/elements/graph/edge.js","./src/assets/source/elements/svg/element.js","./src/app/tagger/navbar/navbar.component.ts","./src/app/tagger/navbar/navbar.component.html","./src/assets/source/elements/input/radio-control.js","./src/assets/source/elements/input/slider.js","./node_modules/export-to-csv/build/index.js","./src/app/tagger/imagebar/image-class.ts","./src/assets/source/elements/svg/rectangle.ts","./src/assets/source/elements/input/input.js","./src/assets/source/elements/svg/circle.js","./src/assets/source/elements/svg/use.js","./src/assets/source/elements/svg/clip-path.js","./src/app/tagger/tagger.module.ts","./src/assets/source/model/dependency-graph.js","./src/assets/source/elements/svg/symbol.js","./src/assets/source/elements/svg/description.js","./src/assets/source/elements/svg/svg.js","./src/assets/source/elements/svg/path.js","./src/app/tagger/sidebar/sidebar.component.ts","./src/app/tagger/sidebar/sidebar.component.html","./src/assets/source/elements/graph/graph.js","./node_modules/bcryptjs/dist/bcrypt.js","./src/assets/source/elements/svg/script.js","./node_modules/ngx-papaparse/node_modules/tslib/tslib.es6.js","./src/assets/source/elements/input/control-circle.js","./node_modules/papaparse/papaparse.min.js","./src/app/tagger/sidebar/sidebar.service.ts","./src/assets/source/elements/svg/t-span.js","./node_modules/ngx-papaparse/__ivy_ngcc__/fesm2015/ngx-papaparse.js","./src/assets/source/elements/maps/map.js","./src/assets/source/elements/input/check-box.js","./src/assets/source/elements/input/scrubber.js","./src/app/tagger/imagebar/imagebar.component.ts","./src/app/tagger/imagebar/imagebar.component.html","./src/assets/source/util/save-as.js","./src/app/home/home/home.service.ts","./src/assets/source/elements/svg/rectangle.js","./src/app/tagger/main/main.component.ts","./src/app/tagger/main/main.component.html","./node_modules/export-to-csv/build/export-to-csv.js","./src/app/tagger/draws/draws-class.ts","./src/assets/source/elements/visual/icon.js","(webpack)/buildin/module.js","./src/assets/source/elements/svg/line.ts","./src/assets/source/elements/base-element.js","./src/assets/source/elements/math/point.js","./src/assets/source/elements/svg/a.js","./src/assets/source/elements/svg/definitions.js","./src/app/tagger/imports/imports.component.ts","./src/app/tagger/imports/imports.component.html","./src/assets/source/model/linked-list.js","./src/app/tagger/tagger-routing.module.ts","./src/assets/source/elements/svg/shape.js","./src/assets/source/elements/svg/ellipse.js","./src/assets/source/elements/input/control.js","./src/assets/source/util/file.js","./src/assets/source/elements/svg/polygon.js","./src/assets/source/elements/svg/text.js","./node_modules/tslib/tslib.es6.js","./src/app/tagger/imagebar/imagebar.service.ts","./src/assets/source/elements/svg/marker.js","./src/assets/source/elements/svg/line.js","./src/assets/source/elements/svg/title.js","./src/assets/source/elements/svg/group.js","./src/assets/source/util/math.js","./src/assets/source/elements/math/plot.js","./src/assets/source/elements/svg/meta-data.js","./src/assets/source/elements/interactive.js","./src/assets/source/elements/input/dropdown-control.js","./src/assets/source/elements/input/button.js","./src/app/tagger/draws/draws.component.ts","./src/app/tagger/draws/draws.component.html","./src/assets/source/index.ts"],"names":[],"mappings":"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AAQ,GAAC,OAAO,CAAC;iBAC9B;gBACD,IAAG,KAAK,CAAC,KAAK,CAAC,KAAG,IAAI,IAAI,KAAK,CAAC,KAAK,CAAC,KAAG,IAAI,EAAC;oBAC1C,SAAS,CAAC,QAAQ,GAAC,aAAa,CAAC;iBACpC;gBACD,IAAG,KAAK,CAAC,KAAK,CAAC,KAAG,GAAG,EAAC;oBAClB,SAAS,CAAC,QAAQ,GAAC,KAAK,CAAC;iBAC5B;gBACD,IAAG,KAAK,CAAC,KAAK,CAAC,KAAG,KAAK,EAAC;oBACpB,SAAS,CAAC,QAAQ,GAAC,gBAAgB,CAAC;iBACvC;gBAED,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC;aAC9B;QACL,CAAC;KAAA;;wEAzoCI,YAAY;+FAAZ,YAAY,WAAZ,YAAY,mBAHd,MAAM;6FAGJ,YAAY;cAJxB,wDAAU;eAAC;gBACZ,UAAU,EAAC,MAAM;aAChB;;;;;;;;;;;;;;ACTD;AAAA;AAAA;AAA2D;AAC3D;AACA;AACA;AACe;AACf;AACA;AACA;AACA;AACA,mCAAmC,kEAAe;AAClD;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,kEAAe,GAAG;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sC;;;;;;;;;;;;ACjDA;AAAA;AAAA;AAAA;AAAkC;AACH;AAC/B;AACA;AACA;AACe,uBAAuB,iDAAK;AAC3C;AACA;AACA;AACA;AACA;AACA,yBAAyB,oDAAI;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qC;;;;;;;;;;;;AClEA;AAAA;AAAA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA,+B;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAA;AAAwC;AACJ;AACF;AAClC;AACA;AACA;AACA;AACe,mBAAmB,qDAAK;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,oDAAI;AAChC;AACA;AACA,+BAA+B,uDAAO;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnIA,OAAO;AACkC;AACC;AAE1C,iBAAiB;AACoB;AAIN;AACI;AAEnC,kBAAkB;AACkB;AAEpC,iBAAiB;AACsB;AACK;AACH;AACa;AACF;AACM;AACf;AACe;AACd;AAE5C,iBAAiB;AAC4B;AACA;AACkB;AAE/D,eAAe;AAC2C;AAG1D,gBAAgB;AAC6C;AAU7D;;;;;;;EAOE;AACa,MAAM,WAAY,SAAQ,mDAAG;IAkC1C;;;;;;MAME;IACF,YAAa,KAA0B,EAAE,UAA6B,EAAE;QACtE,KAAK,EAAE,CAAC;QAER,oEAAoE;QACpE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CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gC;;;;;;;;;;;;AChEA;AAAA;AAAA;AAA6C;AAC7C;AACA;AACA;AACe,sBAAsB,wDAAW;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,wDAAW;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,wDAAW;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mC;;;;;;;;;;;;ACxFA;AAAA;AAAA;AAAA;AAAkD;;;AAS3C,MAAM,eAAe;IAM1B,YAAqB,WAAuB;QAAvB,gBAAW,GAAX,WAAW,CAAY;IAAI,CAAC;IAJjD,IAAI,IAAI;QACN,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC;IAC/B,CAAC;IAKD,QAAQ;IACR,CAAC;;8EAVU,eAAe;+FAAf,eAAe;QCT5B,qEACI;QAAA,oEACA;QAKA,0EAA4B;QAAA,uDAAiB;QAAA,4DAAO;QACxD,4DAAK;;QAD2B,0DAAiB;QAAjB,kFAAiB;;6FDEpC,eAAe;cAL3B,uDAAS;eAAC;gBACT,QAAQ,EAAE,YAAY;gBACtB,WAAW,EAAE,yBAAyB;gBACtC,SAAS,EAAE,CAAC,wBAAwB,CAAC;aACtC;;;;;;;;;;;;;;AERD;AAAA;AAAA;AAAA;AAA+B;AACO;AACtC;AACA;AACA;AACe,2BAA2B,iDAAK;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD,EAAE,GAAG,EAAE;AAChE;AACA;AACA;AACA;AACA;AACA,+BAA+B,qDAAQ;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,yC;;;;;;;;;;;;ACzDA;AAAA;AAAA;AAAA;AAAgD;AACjB;AAC/B;AACA;AACA;AACA;AACA;AACe,qBAAqB,iDAAK;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,0DAAa;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kC;;;;;;;;;;;;ACtHa;AACb;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,SAAS,mBAAO,CAAC,6BAAiB;AAClC,iC;;;;;;;;;;;;ACDE;AAAA;AAAO,MAAM,UAAU;CAKtB;;;;;;;;;;;;;ACTH;AAAA;AAAA;AAAoD;AAIpD;;;EAGE;AACa,MAAM,SAAU,SAAQ,iDAAK;IAK1C;;MAEE;IACF,YAAa,CAAQ,EAAE,CAAQ,EAAE,KAAY,EAAE,MAAa;QAC1D,IAAI,IAAI,GAAG,QAAQ,CAAC,eAAe,CAAE,4BAA4B,EAAE,MAAM,CAAC,CAAC;QAC3E,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC;QAC7C,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC;QAC7C,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,OAAO,EAAE,KAAK,CAAC,QAAQ,EAAE,CAAC,CAAC;QACrD,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,QAAQ,EAAE,MAAM,CAAC,QAAQ,EAAE,CAAC,CAAC;QACvD,KAAK,CAAC,IAAI,CAAC,CAAC;IACd,CAAC;IAED,oCAAoC;IACpC,YAAY,CAAC,IAA4D,EAAE,KAAa;QACtF,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,EAAC,KAAK,CAAC,CAAC;QACnC,OAAO,IAAI,CAAC;IACd,CAAC;IAED,oCAAoC;IACpC,YAAY,CAAC,IAA4D;QACvE,OAAO,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;IACtC,CAAC;IAED;;MAEE;IACF,IAAI,CAAC;QACH,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC;IACnC,CAAC;IAED;;MAEE;IACF,IAAI,CAAC,CAAE,CAAQ;QACb,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,GAAG,CAAC,CAAC;IAChC,CAAC;IAED;;MAEE;IACF,IAAI,CAAC;QACH,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC;IACnC,CAAC;IAED;;MAEE;IACF,IAAI,CAAC,CAAE,CAAQ;QACb,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,GAAG,CAAC,CAAC;IAChC,CAAC;IAED;;MAEE;IACF,IAAI,KAAK;QACP,OAAO,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC;IACvC,CAAC;IAED;;MAEE;IACF,IAAI,KAAK,CAAE,CAAQ;QACjB,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,GAAG,CAAC,CAAC;IACpC,CAAC;IAED;;MAEE;IACF,IAAI,MAAM;QACR,OAAO,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC;IACxC,CAAC;IAED;;MAEE;IACF,IAAI,MAAM,CAAE,CAAQ;QAClB,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,GAAG,CAAC,CAAC;IACrC,CAAC;IAED;;;;;MAKE;IACF,SAAS,CAAC,CAAQ,EAAE,CAAQ;QAC1B,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,GAAG,CAAC,CAAC;QAC1D,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,GAAG,CAAC,CAAC;IAC5D,CAAC;IAED;;MAEE;IACF,IAAI,IAAI;QACN,OAAO,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC;IAC9B,CAAC;IAED;;MAEE;IACF,IAAI,IAAI,CAAC,CAAQ;QACf,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,CAAC,CAAC;IAC3B,CAAC;IAED;;MAEE;IACF,IAAI,MAAM;QACR,OAAO,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;IAChC,CAAC;IAED;;MAEE;IACF,IAAI,MAAM,CAAC,CAAS;QAClB,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC;IAC7B,CAAC;CACF;;;;;;;;;;;;;ACnID;AAAA;AAAA;AAAoC;AACpC;AACA;AACA;AACe,oBAAoB,qDAAK;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iC;;;;;;;;;;;;AC5BA;AAAA;AAAA;AAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,qBAAqB,iDAAK;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kC;;;;;;;;;;;;AC5FA;AAAA;AAAA;AAAmC;AACpB,kBAAkB,mDAAO;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+B;;;;;;;;;;;;ACjEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiC;AACE;AACN;AACA;AACM;AACI;AACJ;AACQ;AACL;AACP;AAChB,uBAAuB,mDAAO;AAC7C;AACA;AACA;AACA;AACA;AACA,oCAAoC,kDAAM;AAC1C;AACA;AACA,oCAAoC,mDAAO;AAC3C;AACA;AACA,oCAAoC,gDAAI;AACxC;AACA;AACA,oCAAoC,gDAAI;AACxC;AACA;AACA,oCAAoC,mDAAO;AAC3C;AACA;AACA,oCAAoC,qDAAS;AAC7C;AACA;AACA,oCAAoC,uDAAW;AAC/C;AACA;AACA,oCAAoC,qDAAQ;AAC5C;AACA;AACA,oCAAoC,iDAAK;AACzC;AACA;AACA,qC;;;;;;;;;;;;AC3CA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+C;AACL;AACe;AACS;AACH;AACT;AACS;AACH;AACE;;AAqBvD,MAAM,YAAY;;2FAAZ,YAAY;kJAAZ,YAAY,mBAFV,EAAE,YAfJ;YACL,4DAAY;YACZ,0EAAmB;SACtB;mIAcQ,YAAY,mBATjB,qEAAc;QACd,8EAAiB;QACjB,2EAAgB;QAChB,kEAAa;QACb,2EAAgB;QAChB,wEAAe,aAZf,4DAAY;QACZ,0EAAmB,aAGnB,wEAAe;6FAYV,YAAY;cAlBxB,sDAAQ;eAAC;gBACN,OAAO,EAAE;oBACL,4DAAY;oBACZ,0EAAmB;iBACtB;gBACD,OAAO,EAAE;oBACL,wEAAe;iBAClB;gBACD,YAAY,EAAE;oBACV,qEAAc;oBACd,8EAAiB;oBACjB,2EAAgB;oBAChB,kEAAa;oBACb,2EAAgB;oBAChB,wEAAe;iBAClB;gBACD,SAAS,EAAE,EAAE;aAChB;;;;;;;;;;;;;;AC5BD;AAAA;AAAA;AAA0C;AAC1C;AACA;AACA;AACe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,uDAAU;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mEAAmE,uDAAU;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4C;;;;;;;;;;;;ACjLA;AAAA;AAAA;AAAmC;AACnC;AACA;AACA;AACe,qBAAqB,mDAAO;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kC;;;;;;;;;;;;AC5DA;AAAA;AAAA;AAAmC;AACpB,0BAA0B,mDAAO;AAChD;AACA;AACA;AACA;AACA;AACA,uC;;;;;;;;;;;;ACPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmC;AACF;AACK;AACF;AACO;AACR;AACJ;AACF;AACI;AACK;AACT;AACM;AACI;AACN;AACJ;AACE;AACJ;AACJ;AACU;AACjC;AACA;AACA;AACA;AACe,kBAAkB,mDAAO;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yEAAyE,YAAY;AACrF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,EAAE,GAAG,EAAE,GAAG,MAAM,GAAG,OAAO;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,uDAAW;AAC/C;AACA;AACA,oCAAoC,qDAAQ;AAC5C;AACA;AACA,oCAAoC,kDAAK;AACzC;AACA;AACA;AACA,oCAAoC,kDAAM;AAC1C;AACA;AACA,oCAAoC,mDAAO;AAC3C;AACA;AACA,oCAAoC,gDAAI;AACxC;AACA;AACA,oCAAoC,iDAAI;AACxC;AACA;AACA,oCAAoC,oDAAO;AAC3C;AACA;AACA,oCAAoC,sDAAS;AAC7C;AACA;AACA;AACA,oCAAoC,uDAAI;AACxC;AACA;AACA,oCAAoC,iDAAK;AACzC;AACA;AACA;AACA;AACA;AACA,oCAAoC,mDAAM;AAC1C;AACA;AACA,oCAAoC,gDAAG;AACvC;AACA;AACA;AACA,oCAAoC,iDAAI;AACxC;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,8CAAC;AACrC;AACA;AACA;AACA;AACA;AACA,oCAAoC,qDAAQ;AAC5C;AACA;AACA;AACA;AACA;AACA,oCAAoC,kDAAM;AAC1C;AACA;AACA;AACA;AACA;AACA,oCAAoC,mDAAM;AAC1C;AACA;AACA,+B;;;;;;;;;;;;ACxMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+B;AACE;AACE;AACN;AACU;AACvC;AACA;AACA;AACe,mBAAmB,iDAAK;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,kDAAM;AAClC;AACA;AACA,iCAAiC,mDAAO;AACxC;AACA;AACA,iCAAiC,gDAAI;AACrC;AACA;AACA;AACA;AACA;AACA,iCAAiC,qDAAS;AAC1C;AACA;AACA;AACA;AACA,gC;;;;;;;;;;;;ACpDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkD;;;;;;;AAS3C,MAAM,gBAAgB;IAE3B,YAAmB,cAA6B;QAA7B,mBAAc,GAAd,cAAc,CAAe;IAAI,CAAC;IAErD,QAAQ;IACR,CAAC;IAED,aAAa,CAAC,EAAE;QACd,IAAG,QAAQ,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,OAAO,IAAE,MAAM,EAAC;YACnD,QAAQ,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,OAAO,GAAC,OAAO;SAClD;aACG;YACJ,QAAQ,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,OAAO,GAAC,MAAM;SAAC;IAEnD,CAAC;IAED,UAAU;QACR,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE,CAAC;IACpC,CAAC;IAED,SAAS,CAAC,KAAY;QACpB,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;IAExC,CAAC;IACD,QAAQ;QACN,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE,CAAC;IACpC,CAAC;;gFA1BU,gBAAgB;gGAAhB,gBAAgB;QCP7B,yEAEI;QAAA,uEAA8D;QAAlC,mIAAS,kBAAc,QAAQ,CAAC,IAAC;QAAC,wEAAQ;QAAA,4DAAI;QAC1E,yEACI;QAAA,0EAA6B;QACjC,4DAAM;QAEN,uEAAqC;QAAlC,mIAAS,kBAAc,QAAQ,CAAC,IAAC;QAAC,oEAAS;QAAA,4DAAI;QAClD,yEACI;QAAA,uEAAuB;QAC3B,4DAAM;QAEN,uEAAqC;QAAlC,mIAAS,kBAAc,QAAQ,CAAC,IAAC;QAAC,iEAAK;QAAA,4DAAI;QAC9C,0EACI;QAAA,0EAA2B;QAC/B,4DAAM;QA2BV,4DAAM;;6FDnCO,gBAAgB;cAL5B,uDAAS;eAAC;gBACT,QAAQ,EAAE,aAAa;gBACvB,WAAW,EAAE,0BAA0B;gBACvC,SAAS,EAAE,CAAC,yBAAyB,CAAC;aACvC;;;;;;;;;;;;;;AERD;AAAA;AAAA;AAAA;AAAA;AAA6B;AACA;AACO;AACrB,oBAAoB,qDAAK;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wLAAwL;AACxL;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,uBAAuB;AAC9C;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,gDAAI;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,gDAAI;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,0BAA0B;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,qCAAqC;AACpE;AACA;AACA;AACA;AACA;AACA,yCAAyC,QAAQ;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,qCAAqC;AAC5E;AACA;AACA;AACA;AACA;AACA,2CAA2C,aAAa;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,iC;;;;;;;;;;;AChOA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,6DAA6D;AAC7D,kBAAkB;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB,IAA6C;AAC/D,QAAQ,iCAAO,EAAE,oCAAE,OAAO;AAAA;AAAA;AAAA,oGAAC;AAC3B,wBAAwB,EAGoD;;AAE5E,CAAC;AACD;;AAEA;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA,cAAc;AACd;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,gBAAgB;AACjC,gBAAgB,MAAM;AACtB;AACA;AACA;AACA,uBAAuB,KAA6B;AACpD;AACA,uBAAuB,mBAAO,CAAC,gIAAQ;AACvC,aAAa;AACb;AACA,kBAAkB;AAClB;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,kCAAkC;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,iBAAiB,OAAO;AACxB,gBAAgB,MAAM;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2EAA2E;AAC3E;AACA;;AAEA;AACA;AACA,eAAe,mCAAmC;AAClD,eAAe,mCAAmC;AAClD,eAAe,0BAA0B;AACzC,iBAAiB,SAAS;AAC1B,gBAAgB,MAAM;AACtB;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iCAAiC;AACjC;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;;AAEA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,iBAAiB;AAChC,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,cAAc;AAC7B,eAAe,0BAA0B;AACzC,eAAe,kBAAkB;AACjC;AACA,iBAAiB,SAAS;AAC1B,gBAAgB,MAAM;AACtB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;;AAEA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,qCAAqC,KAAK;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,QAAQ;AACzB,gBAAgB,MAAM;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,0BAA0B;AACzC,eAAe,kBAAkB;AACjC;AACA,iBAAiB,SAAS;AAC1B,gBAAgB,MAAM;AACtB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;;AAEA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB,gBAAgB,MAAM;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB,gBAAgB,MAAM;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,iBAAiB;AAChC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,gBAAgB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;;AAEA;;AAEA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;;AAEA;AACA;AACA,eAAe,gBAAgB;AAC/B,eAAe,OAAO;AACtB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,UAAU;AAC/B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;;AAEA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,mCAAmC;AACtD;AACA,mBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;AACA;AACA,kCAAkC,aAAa;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,wBAAwB;AAC3C;AACA,mBAAmB,kBAAkB;AACrC,oBAAoB,WAAW;AAC/B,oBAAoB,MAAM;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,wBAAwB;AAC3C;AACA,mBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,mCAAmC;AACtD;AACA,mBAAmB,kBAAkB;AACrC,oBAAoB,WAAW;AAC/B;AACA;AACA;AACA;AACA,4CAA4C,aAAa;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,wBAAwB;AAC3C;AACA,mBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA,mBAAmB,wBAAwB;AAC3C;AACA,mBAAmB,kBAAkB;AACrC,oBAAoB,WAAW;AAC/B,oBAAoB,MAAM;AAC1B;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA,mBAAmB,OAAO;AAC1B,qBAAqB,OAAO;AAC5B;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,0BAA0B;AAC7C;AACA,qBAAqB,OAAO;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,0BAA0B;AAC7C;AACA,qBAAqB,gBAAgB;AACrC;AACA;AACA;AACA;AACA,oBAAoB;AACpB,aAAa;AACb;AACA;;AAEA;AACA,KAAK;;AAEL,uCAAuC,kBAAkB;;AAEzD;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAe,eAAe;AAC9B,eAAe,OAAO;AACtB,eAAe,eAAe;AAC9B,eAAe,eAAe;AAC9B,iBAAiB;AACjB;AACA;AACA,uCAAuC;AACvC;AACA;AACA;;AAEA;;AAEA;AACA,8CAA8C,MAAM;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,eAAe,eAAe;AAC9B,eAAe,OAAO;AACtB,kBAAkB;AAClB;AACA;AACA;AACA,iCAAiC,OAAO;AACxC;AACA;AACA,gBAAgB;AAChB;;AAEA;AACA,eAAe,eAAe;AAC9B,eAAe,eAAe;AAC9B,eAAe,eAAe;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,UAAU;AACjC;AACA;AACA;AACA,mBAAmB,UAAU;AAC7B;AACA;AACA;AACA,mBAAmB,UAAU;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,eAAe;AAC9B,eAAe,eAAe;AAC9B,eAAe,eAAe;AAC9B,eAAe,eAAe;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,UAAU;AACjC;AACA;AACA;AACA;AACA,mBAAmB,UAAU;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,UAAU;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,eAAe;AAC9B,eAAe,eAAe;AAC9B,eAAe,OAAO;AACtB,eAAe,kCAAkC;AACjD;AACA,gBAAgB,kBAAkB;AAClC,iBAAiB,0BAA0B;AAC3C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;;AAEA;AACA;AACA,qBAAqB,yBAAyB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,YAAY;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,2BAA2B,QAAQ;AACnC,+BAA+B,iBAAiB;AAChD;AACA;AACA,2BAA2B,UAAU;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB,eAAe,0BAA0B;AACzC;AACA,gBAAgB,kBAAkB;AAClC,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,mBAAmB,eAAe;AAClC,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA;AACA,eAAe,gBAAgB;AAC/B,eAAe,OAAO;AACtB,iBAAiB;AACjB;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB;AACjB;AACA;AACA;;AAEA;AACA,CAAC;;;;;;;;;;;;;;ACl2CD;AAAA;AAAA;AAAmC;AACpB,qBAAqB,mDAAO;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kC;;;;;;;;;;;;ACnBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;;AAEO;AACP;AACA,mBAAmB,sBAAsB;AACzC;AACA;;AAEO;AACP;AACA,gDAAgD,OAAO;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA,4DAA4D,cAAc;AAC1E;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;;AAEO;AACP,mCAAmC,oCAAoC;AACvE;;AAEO;AACP;AACA;;AAEO;AAC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W,CAAC;YAC3B,OAAO,EAAC,CAAC,EAAG,CAAC,EAAE,CAAC,EAAG,CAAC,EAAC,CAAC;QAC1B,CAAC;IAGL,CAAC;;4EA/FY,cAAc;iGAAd,cAAc,WAAd,cAAc,mBAHb,MAAM;6FAGP,cAAc;cAJ1B,wDAAU;eAAC;gBACV,UAAU,EAAE,MAAM;aACnB;;;;;;;;;;;;;;ACJD;AAAA;AAAA;AAAmC;AACnC;AACA;AACA;AACA;AACe,oBAAoB,mDAAO;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kC;;;;;;;;;;;;AC5CA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmC;AAC4B;AACb;;AAEV;AACxC;AACA;AACA,qBAAqB,uDAAG;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,0BAA0B;AAChE,aAAa,wEAAkB,EAAE,mCAAmC,mBAAmB,EAAE,mCAAmC;AAC5H,4BAA4B,CAAC,+DAAwB;AACrD,cAAc,wDAAU;AACxB;AACA;AACA,aAAa;AACb,KAAK,gBAAgB,WAAW,EAAE,QAAQ,EAAE;;AAE5C;AACA;AACA;;AAEA;AACA;AACA;;AAEgB;;AAEhB,yC;;;;;;;;;;;;ACxFA;AAAA;AAAA;AAAA;AAAgC;AACI;AACpC;AACA;AACA;AACe,qBAAqB,mDAAG;AACvC;AACA;AACA;AACA;AACA;AACA,uDAAuD;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,qDAAK;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,0BAA0B;AACrD,+BAA+B,kDAAkD;AACjF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,OAAO,GAAG,YAAY;AAC5D,mCAAmC,wDAAwD;AAC3F;AACA;AACA,2CAA2C,EAAE,GAAG,OAAO;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,OAAO,GAAG,YAAY;AAC5D,mCAAmC,qDAAqD;AACxF;AACA;AACA,2CAA2C,EAAE,GAAG,OAAO;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+B;;;;;;;;;;;;AC1LA;AAAA;AAAA;AAAA;AAAA;AAA4C;AACV;AACH;AAC/B;AACA;AACA;AACA;AACe,uBAAuB,iDAAK;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD,EAAE,GAAG,EAAE;AAChE,uBAAuB,yDAAS;AAChC;AACA,yBAAyB,oDAAI;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qC;;;;;;;;;;;;AC9DA;AAAA;AAAA;AAAiC;AACjC;AACA;AACA;AACe,uBAAuB,kDAAM;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,OAAO,GAAG;AACrD,sCAAsC,oCAAoC,GAAG;AAC7E,sCAAsC,oCAAoC,GAAG;AAC7E;AACA;AACA;AACA;AACA;AACA,gEAAgE,EAAE,IAAI,EAAE;AACxE;AACA;AACA;AACA;AACA;AACA,yCAAyC,KAAK,GAAG;AACjD,oCAAoC,KAAK,GAAG;AAC5C,oCAAoC,IAAI,GAAG;AAC3C,oCAAoC,IAAI,GAAG,EAAE;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,iEAAiE,OAAO,IAAI,EAAE;AAC9E;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oC;;;;;;;;;;;;;;;;;;;;;;;;AC1GkD;AACP;AAGK;;;;;;;;ICWhD,uEAAsB;IAAA,uDAAW;IAAA,4DAAO;;;IAAlB,0DAAW;IAAX,+EAAW;;;;IAMzB,yEAAkI;IAAvD,8VAAgC;IAAuB,uDAAa;IAAA,4DAAK;;;IAAhJ,uFAAgB;IAAwF,0FAAqB;IAAC,0DAAa;IAAb,6EAAa;;ADJhJ,MAAM,iBAAiB;IAE5B,YAAmB,YAA+B,EAC/B,YAA0B,EAC1B,cAA6B,EAC5B,IAAS;QAHV,iBAAY,GAAZ,YAAY,CAAmB;QAC/B,iBAAY,GAAZ,YAAY,CAAc;QAC1B,mBAAc,GAAd,cAAc,CAAe;QAC5B,SAAI,GAAJ,IAAI,CAAK;QAOtB,WAAM,GAAE,IAAI,uDAAU,EAAE,CAAC;IANhB,CAAC;IAEjB,QAAQ;IACR,CAAC;IAMD,uCAAuC;IACvC,uBAAuB;IACvB,OAAO,CAAC,KAAK;QAEX,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC,EAAC;YACrB,OAAO;SACR;QACD,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAC/D,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,MAAM,EAAE,CAAC;QACzC,IAAI,CAAC,YAAY,CAAC,aAAa,GAAC,IAAI,6DAAW,CAAC,gBAAgB,CAAC,CAAC;QAClE,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,KAAK,GAAC,IAAI,CAAC;QAC3C,IAAI,CAAC,YAAY,CAAC,iBAAiB,EAAE,CAAC;QAGtC,IAAI,QAAQ,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;QAC7B,IAAI,QAAQ,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,IAAI,EAAE;YACtC,IAAI,CAAC,OAAO,GAAG,4BAA4B,CAAC;YAC5C,OAAO;SACR;QACD,eAAe;QACf,IAAG,KAAK,CAAC,MAAM,KAAG,CAAC,EAAC;YAClB,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAE,EAAE;gBAC/B,IAAI,CAAC,YAAY,CAAC,EAAE,GAAC,KAAK,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,GAAE,EAAE;oBAC1C,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,CAAC,IAAI,CAAC,GAAE,EAAE;wBACtC,IAAI,CAAC,oBAAoB,EAAE,CAAC;wBAC5B,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC;wBAC7B,IAAI,CAAC,SAAS,EAAE,CAAC,IAAI,CAAC,GAAG,EAAE;wBAC3B,CAAC,CAAC;oBACJ,CAAC,CAAC;gBACJ,CAAC,CAAC;YACJ,CAAC,CAAC;SAEH;QACD,kBAAkB;aACb,IAAI,KAAK,CAAC,MAAM,GAAC,CAAC,EAAE;YACvB,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,GAAE,EAAE;gBAC7B,IAAI,CAAC,YAAY,CAAC,EAAE,GAAC,KAAK,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,GAAE,EAAE;oBAC1C,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,CAAC,IAAI,CAAC,GAAE,EAAE;wBACtC,IAAI,CAAC,oBAAoB,EAAE,CAAC;wBAC5B,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC;wBAC7B,IAAI,CAAC,SAAS,EAAE,CAAC,IAAI,CAAC,GAAG,EAAE;4BACzB,IAAI,KAAK,GAAC,QAAQ,CAAC,cAAc,CAAC,eAAe,CAAC,CAAC,UAAyB;4BAC5E,KAAK,CAAC,KAAK,EAAE;wBACf,CAAC,CAAC;oBACJ,CAAC,CAAC;gBACJ,CAAC,CAAC;YACJ,CAAC,CAAC;SAEF;IACJ,CAAC;IAEK,oBAAoB;;YAExB,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,OAAO,CAAC,OAAO,GAAE;gBACxC,IAAK,MAAM,GAAC,IAAI,CAAC;gBACjB,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,OAAO,CAAC,SAAS,GAAE;oBAClD,IAAG,OAAO,CAAC,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,OAAO,CAAC,KAAG,CAAC,EAAC;wBACnD,MAAM,GAAC,KAAK,CAAC;qBACd;gBACH,CAAC,CAAC,CAAC;gBACH,IAAG,MAAM,EAAC;oBACR,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;iBAC7C;YACH,CAAC,CAAC;QACJ,CAAC;KAAA;IAGK,SAAS,CAAC,KAAK;;YACnB,KAAK,IAAI,KAAK,GAAG,CAAC,EAAE,KAAK,GAAG,KAAK,CAAC,MAAM,EAAE,KAAK,EAAE,EAAE;gBACjD,MAAM,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC;aACnC;QACH,CAAC;KAAA;IAEK,QAAQ,CAAC,IAAI;;YAEjB,IAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,EAAC;gBAChC,IAAI,UAAU,GAAG,IAAI,uDAAU,EAAE,CAAC;gBAClC,IAAI,MAAM,GAAG,IAAI,UAAU,EAAE,CAAC;gBAC9B,MAAM,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;gBAC3B,MAAM,CAAC,MAAM,GAAC,KAAK,GAAE;oBACnB,UAAU,CAAC,IAAI,GAAC,IAAI,CAAC,IAAI,CAAC;oBAC1B,UAAU,CAAC,MAAM,GAAC,MAAM,CAAC,MAAM,CAAC;oBAChC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;oBACvC,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,GAAE;wBAE5B,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE,CAAC;wBAClC,IAAI,GAAG,GAAC,QAAQ,CAAC,cAAc,CAAC,OAAO,CAAqB,CAAC;wBAC7D,UAAU,CAAC,MAAM,GAAC,GAAG,CAAC,aAAa,CAAC,QAAQ,EAAE,CAAC;wBAC/C,UAAU,CAAC,KAAK,GAAC,GAAG,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC;wBAC7C,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;wBACzC,QAAQ,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC,KAAK,CAAC,SAAS,GAAC,GAAG,GAAC,GAAG,CAAC,YAAY,CAAC,QAAQ,EAAE,GAAC,IAAI,CAAC;wBAC1F,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,MAAM,GAAC,GAAG,CAAC,YAAY,CAAC;wBACxD,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;wBAExC,yBAAyB;wBACzB,MAAM,MAAM,GAAC,QAAQ,CAAC,cAAc,CAAC,eAAe,CAAC;wBACrD,MAAM,QAAQ,GAAC,MAAM,CAAC,sBAAsB,CAAC,MAAM,CAAC,CAAC;wBACrD,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,GAAE;4BAC5B,KAAI,IAAI,CAAC,GAAE,CAAC,EAAC,CAAC,GAAC,QAAQ,CAAC,MAAM,EAAC,CAAC,EAAE,EAAC;gCACjC,QAAQ,CAAC,CAAC,CAAC,CAAC,gBAAgB,CAAC,OAAO,EAAC;oCACnC,IAAI,OAAO,GAAC,QAAQ,CAAC,sBAAsB,CAAC,aAAa,CAAC,CAAC;oCAC3D,IAAG,OAAO,CAAC,MAAM,GAAC,CAAC,EAAC;wCAClB,OAAO,CAAC,CAAC,CAAC,CAAC,SAAS,GAAC,OAAO,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,OAAO,CAAC,cAAc,EAAC,EAAE,CAAC,CAAC;qCACtE;oCACD,IAAI,CAAC,SAAS,IAAE,cAAc,CAAC;gCACjC,CAAC,CAAC,CAAC;6BAEJ;wBACH,CAAC,CAAC,CAAC;oBACL,CAAC,CAAC,CAAC;gBACL,CAAC;aACF;QACH,CAAC;KAAA;IAEK,SAAS;;YACb,IAAI,CAAC,EAAE,SAAS,EAAE,YAAY,CAAC;YAC/B,SAAS,GAAC,IAAI,CAAC;YACf,OAAM,SAAS,EAAC;gBACd,SAAS,GAAC,KAAK,CAAC;gBAChB,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,MAAM,GAAC,CAAC,EAAE,CAAC,EAAE,EAAE;oBACtD,YAAY,GAAC,KAAK,CAAC;oBACnB,IAAI,CAAC,GAAC,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;oBACvC,IAAI,CAAC,GAAC,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,GAAC,CAAC,CAAC,CAAC,IAAI,CAAC;oBACzC,IAAI,IAAI,GAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;oBAC5B,IAAG,IAAI,KAAG,CAAC,EAAC;wBACV,YAAY,GAAC,IAAI,CAAC;wBAClB,MAAM;qBACP;iBACF;gBACD,IAAG,YAAY,EAAC;oBACd,IAAI,CAAC,GAAC,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;oBAClC,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,CAAC,GAAC,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,GAAC,CAAC,CAAC,CAAC;oBAC1D,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,GAAC,CAAC,CAAC,GAAC,CAAC,CAAC;oBAChC,SAAS,GAAC,IAAI,CAAC;iBAChB;aACF;QACH,CAAC;KAAA;IAEK,QAAQ,CAAC,EAAE;;YAEf,IAAI,IAAI,EAAE,CAAC,EAAE,SAAS,EAAE,YAAY,CAAC;YACrC,IAAI,GAAG,QAAQ,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC;YAEnC,SAAS,GAAG,IAAI,CAAC;YACjB;0CAC8B;YAC5B,IAAI,CAAC,GAAG,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAmB,CAAC;YAC1D,OAAO,SAAS,EAAE;gBAClB,yCAAyC;gBACvC,SAAS,GAAG,KAAK,CAAC;gBACpB,+BAA+B;gBAC7B,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;oBACnC,gDAAgD;oBAChD,YAAY,GAAG,KAAK,CAAC;oBACrB;0DACsC;oBACtC,IAAI,IAAI,GAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC;oBACtC,IAAI,IAAI,GAAC,CAAC,CAAC,CAAC,GAAC,CAAC,CAAC,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC;oBACxC,IAAI,IAAI,GAAC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;oBAClC,IAAI,IAAI,KAAG,CAAC,EAAE;wBACZ;;8CAEsB;wBACtB,YAAY,GAAG,IAAI,CAAC;wBACpB,MAAM;qBACP;iBACF;gBACD,IAAI,YAAY,EAAE;oBAChB;mDAC+B;oBAC/B,CAAC,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBAE7C,SAAS,GAAG,IAAI,CAAC;iBAClB;aAEJ;QAGH,CAAC;KAAA;IAEH,cAAc,CAAC,OAAc;QAC3B,IAAI,MAAM,GAAC,IAAI,CAAC;QAChB,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,OAAO,CAAC,OAAO,GAAE;YACxC,IAAG,OAAO,CAAC,aAAa,CAAC,OAAO,CAAC,IAAI,CAAC,KAAG,CAAC,EAAC;gBACzC,MAAM,GAAE,KAAK,CAAC;aACf;QACH,CAAC,CAAC;QACF,OAAO,MAAM,CAAC;IAChB,CAAC;IAEC,oBAAoB,CAAC,CAAC;QACpB,OAAO,IAAI,OAAO,CAAC,OAAO,CAAC,EAAE;YAC3B,UAAU,CAAC,GAAG,EAAE;gBACd,OAAO,CAAC,CAAC,CAAC,CAAC;YACb,CAAC,EAAE,CAAC,CAAC,CAAC;QACR,CAAC,CAAC,CAAC;IACL,CAAC;IAEK,YAAY,CAAC,CAAC;;YAClB,MAAM,CAAC,GAAG,MAAM,IAAI,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC;YAC7C,MAAM,CAAC,GAAG,MAAM,IAAI,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC;YAC7C,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACnB,CAAC;KAAA;IAED,+CAA+C;IAC/C,wCAAwC;IACxC,WAAW,CAAE,IAAI;QACf,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,GAAE,EAAE;YACtE,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,MAAM,EAAE,CAAC;YAC3C,0EAA0E;YAC1E,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE;gBACzC,IAAI,OAAO,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,KAAG,CAAC,EAAE;oBACxC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;oBACpC,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE;wBAC7B,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE,CAAC;wBAClC,IAAI,GAAG,GAAC,QAAQ,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;wBACzC,QAAQ,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC,KAAK,CAAC,SAAS,GAAC,GAAG,GAAC,GAAG,CAAC,YAAY,CAAC,QAAQ,EAAE,GAAC,IAAI,CAAC;wBAC1F,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,MAAM,GAAC,GAAG,CAAC,YAAY,CAAC;wBACxD,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;oBAC1C,CAAC,CAAC,CAAC;iBAEJ;YACH,CAAC,CAAC,CAAC;YACH,kDAAkD;YAClD,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,OAAO,CAAC,OAAO,GAAE;gBAC/C,IAAG,OAAO,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,KAAG,CAAC,EAAC;oBACtC,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;iBACvC;YACH,CAAC,CAAC;YACF,IAAI,CAAC,YAAY,CAAC,aAAa,GAAC,IAAI,6DAAW,CAAC,gBAAgB,CAAC,CAAC;YAClE,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,KAAK,GAAC,IAAI,CAAC;YAC3C,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,MAAM,GAAC,KAAK,CAAC;YAC7C,IAAI,GAAG,GAAC,QAAQ,CAAC,cAAc,CAAC,OAAO,CAAqB,CAAC;YAE7D,QAAQ,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC,KAAK,CAAC,SAAS,GAAC,GAAG,GAAC,GAAG,CAAC,YAAY,CAAC,QAAQ,EAAE,GAAC,IAAI,CAAC;YAC1F,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,MAAM,GAAC,GAAG,CAAC,YAAY,CAAC;YAExD,kBAAkB;YAClB,IAAI,CAAC,YAAY,CAAC,iBAAiB,EAAE,CAAC;YACtC,kCAAkC;YAClC,IAAI,MAAM,GAAC,CAAC,CAAC;YACb,IAAI,MAAM,GAAC,CAAC,CAAC;YACb,IAAI,KAAK,GAAC,KAAK,CAAC;YAChB,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE;gBAC/C,IAAI,CAAC,CAAC,OAAO,CAAC,OAAO,KAAG,IAAI,CAAC,EAAE;oBAC3B,MAAM,EAAE,CAAC;iBACZ;qBACG;oBACA,MAAM,GAAC,MAAM,CAAC;oBACd,KAAK,GAAC,IAAI,CAAC;iBAEd;YACL,CAAC,CAAC,CAAC;YACH,wCAAwC;YACxC,IAAG,KAAK,EAAC;gBACP,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,SAAS,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE;oBACnE,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;gBAE3C,CAAC,CAAC,CAAC;aACJ;QACD,CAAC,CAAC;IAEJ,CAAC;IAID,iEAAiE;IACjE,aAAa,CAAC,GAAG;QACf,IAAG,QAAQ,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,OAAO,IAAE,MAAM,EAAC;YACpD,QAAQ,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,OAAO,GAAC,OAAO,CAAC;SACpD;aACG;YACF,QAAQ,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,OAAO,GAAC,MAAM,CAAC;SACnD;IACH,CAAC;IAED,gDAAgD;IAChD,QAAQ;QACN,MAAM,MAAM,GAAC,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;QACrE,MAAM,MAAM,GAAC,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC;QAEnF,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC;QACzD,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC;QAC7B,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;QACtC,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;QACxC,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,MAAM,EAAE,CAAC;QACzC,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;IAC/B,CAAC;IAED,eAAe,CAAC,EAAE;QAChB,IAAG,QAAQ,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,OAAO,IAAE,MAAM,EAAC;YACnD,QAAQ,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,OAAO,GAAC,OAAO;SAClD;aACG;YACJ,QAAQ,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,OAAO,GAAC,MAAM;SAAC;IAEnD,CAAC;;kFAvTU,iBAAiB;iGAAjB,iBAAiB,uECjBlB,mIAAuD;;QAAnE,qEAEA;QAAA,sEACI;QAAA,uEAA2D;QAA1C,oIAAS,oBAAgB,cAAc,CAAC,IAAC;QAAC,iEAAM;QAAA,4DAAI;QACrE,yEAEI;QAAA,8EACA;QADgF,sRAAU,sBAAoB,IAAC;QAA/G,4DACA;QAAA,2EAAmF;QAAA,wEAAQ;QAAA,4DAAQ;QACnG,gEACA;QAAA,+EACA;QADgF,wRAAU,sBAAmB,IAAC;QAA9G,4DACA;QAAA,4EAAoF;QAAA,oFAAmB;QAAA,4DAAQ;QAEnH,4DAAM;QACV,4DAAM;QAEN,iHAAwC;QACxC,wEAAyD;QAAxC,qIAAS,oBAAgB,YAAY,CAAC,IAAC;QAAC,kFAAiB;QAAA,4DAAI;QAC9E,2EAEI;QAAA,2EACA;QAAA,0EACI;QAAA,8GAAoJ;QACxJ,4DAAK;QACL,4DAAM;QAEN,2EACI;QAAA,8EAAuE;QAAlC,0IAAS,kBAAc,QAAQ,CAAC,IAAC;QAAC,2EAAe;QAAA,4DAAS;QACnG,4DAAM;QAEV,4DAAM;QAIN,2EACI;QAAA,2EACI;QAAA,qEACI;QAAA,0EAAQ;QAAA,yEAAQ;QAAA,4DAAS;QAAA,wDAC7B;QAAA,4DAAI;QACJ,2EACI;QAAA,8EACI;QAD2B,0IAAS,cAAU,IAAC;QAC/C,mEACJ;QAAA,4DAAS;QACT,8EAAiE;QAAlC,0IAAS,kBAAc,QAAQ,CAAC,IAAC;QAAC,iEAAK;QAAA,4DAAS;QAEnF,4DAAM;QACV,4DAAM;QAEN,sEAA4D;QAChE,4DAAM;;QAjCC,2DAAa;QAAb,6EAAa;QAMuC,0DAAsB;QAAtB,4FAAsB;QAe5C,0DAC7B;QAD6B,qJAC7B;;6FDpBK,iBAAiB;cAL7B,uDAAS;eAAC;gBACT,QAAQ,EAAE,cAAc;gBACxB,WAAW,EAAE,2BAA2B;gBACxC,SAAS,EAAE,CAAC,0BAA0B,CAAC;aACxC;;;;;;;;;;;;;;AEhBD;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,6BAA6B,EAAE,OAAO;AACtE,gCAAgC,UAAU,EAAE;AAC5C;AACA;AACA,mC;;;;;;;;;;;;;;;;;;;;;;AC7D2C;AAEqB;AAE9B;AACC;;;AAM5B,MAAM,WAAW;IAMtB,YACU,IAAe;QAAf,SAAI,GAAJ,IAAI,CAAW;QANjB,YAAO,GAAC,qEAAW,CAAC,OAAO,CAAC;IAO9B,CAAC;IALP,IAAI,IAAI;QACN,yBAAW,IAAI,CAAC,KAAM,EAAC;IACzB,CAAC;IAKK,IAAI,CAAC,IAAI;;YACb,MAAM,QAAQ,GAAM;gBAClB,EAAE,EAAC,EAAE;gBACL,QAAQ,EAAC,EAAE;gBACX,QAAQ,EAAC,EAAE;gBACX,IAAI,EAAC,IAAI;gBACT,IAAI,EAAC,CAAC;aACP,CAAC;YACF,0CAA0C;YAC1C,uBAAuB;YAEvB,MAAM,cAAc,GAAC;gBACnB,MAAM,EAAC,MAAM;gBACb,IAAI,EAAC,QAAQ;aACd;YACD,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAO,GAAG,IAAI,CAAC,OAAO,QAAQ,EAAC,QAAQ,CAAC;iBAC5D,IAAI,CACH,0DAAG,CAAC,IAAI,GAAE;gBACR,IAAI,CAAC,KAAK,GAAC,IAAI,CAAC;YAClB,CAAC,CAAC,CACH,CAAC;YAEF,8CAA8C;YAC9C,kBAAkB;YAClB,GAAG;QACL,CAAC;KAAA;IAEK,MAAM,CAAC,IAAI,EAAC,IAAI,EAAC,IAAI,EAAC,IAAI;;YAC9B,MAAM,IAAI,GAAG,oDAAkB,CAAC,EAAE,CAAC,CAAC;YACpC,MAAM,KAAK,GAAG,iDAAe,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;YAC1C,MAAM,QAAQ,GAAM;gBAClB,EAAE,EAAC,EAAE;gBACL,QAAQ,EAAC,IAAI;gBACb,QAAQ,EAAC,KAAK;gBACd,IAAI,EAAC,IAAI;gBACT,IAAI,EAAC,IAAI;aACV,CAAC;YACF,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAO,GAAG,IAAI,CAAC,OAAO,OAAO,EAAC,QAAQ,CAAC;QAG9D,CAAC;KAAA;;sEAlDU,WAAW;8FAAX,WAAW,WAAX,WAAW,mBAHV,MAAM;6FAGP,WAAW;cAJvB,wDAAU;eAAC;gBACV,UAAU,EAAE,MAAM;aACnB;;;;;;;;;;;;;;ACTD;AAAA;AAAA;AAA+B;AAC/B;AACA;AACA;AACA;AACe,wBAAwB,iDAAK;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qC;;;;;;;;;;;;;;;;;;;;;;;;AC7GgE;AAKC;;;;;;;;;AAO1D,MAAM,aAAa;IAExB,YAAoB,KAAqB,EACtB,YAA+B,EAC/B,YAAyB,EACzB,cAA6B;QAH5B,UAAK,GAAL,KAAK,CAAgB;QACtB,iBAAY,GAAZ,YAAY,CAAmB;QAC/B,iBAAY,GAAZ,YAAY,CAAa;QACzB,mBAAc,GAAd,cAAc,CAAe;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ACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,2CAA2C;AAC3C,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,yCAAyC,yBAAyB;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,gCAAgC,aAAa,GAAG;AAC1F;AACA;AACA;AACA;AACA;AACA;AACA,8DAA8D;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,yBAAyB;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,uBAAuB;AAC9C;AACA,gCAAgC,sBAAsB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,IAAI;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,IAAI;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,WAAW,IAAI;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,IAAI;AACf,WAAW,MAAM;AACjB;AACA;AACA;AACA,oBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,oBAAoB;AAC/C;AACA;AACA;AACA;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C;QAAtG,4DACA;QAAA,2EAAwH;QAAA,yEAAc;QAAA,4DAAQ;QAE9I,gEAEA;QAAA,4EAAmG;QAAxE,wIAAS,gBAAY,IAAC;QAAkD,yEAAc;QAAA,4DAAS;QAE9H,4DAAM;;6FDKG,gBAAgB;cAL5B,uDAAS;eAAC;gBACT,QAAQ,EAAE,aAAa;gBACvB,WAAW,EAAE,0BAA0B;gBACvC,SAAS,EAAE,CAAC,yBAAyB,CAAC;aACvC;;;;;;;;;;;;;;AEdD;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uC;;;;;;;;;;;;ACtGA;AAAA;AAAA;AAAA;AAAA;AAAyC;AACc;AACD;;;AAEtD,MAAM,MAAM,GAAQ;IAClB;QACE,IAAI,EAAC,EAAE;QACP,SAAS,EAAC,kEAAa;KACxB;IACD;QACE,IAAI,EAAC,IAAI;QACT,UAAU,EAAC,EAAE;KACd;CACF;AAUM,MAAM,mBAAmB;;kGAAnB,mBAAmB;gKAAnB,mBAAmB,kBAPrB;YACP,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;SAC9B,EAEC,4DAAY;mIAGH,mBAAmB,uFAH5B,4DAAY;6FAGH,mBAAmB;cAR/B,sDAAQ;eAAC;gBACR,OAAO,EAAE;oBACP,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;iBAC9B;gBACD,OAAO,EAAC;oBACN,4DAAY;iBACb;aACF;;;;;;;;;;;;;;ACtBD;AAAA;AAAA;AAAmC;AACnC;AACA;AACA;AACe,oBAAoB,mDAAO;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iC;;;;;;;;;;;;AC7CA;AAAA;AAAA;AAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,sBAAsB,iDAAK;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mC;;;;;;;;;;;;ACtGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA6C;AACd;AACG;AACI;AACM;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,sBAAsB,iDAAK;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA,2FAA2F,iBAAiB;AAC5G;AACA;AACA;AACA;AACA;AACA,yEAAyE,iBAAiB;AAC1F,2EAA2E,iBAAiB;AAC5F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,wDAAW;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,wDAAW;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,wDAAW;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,uBAAuB,GAAG,aAAa;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D,OAAO,IAAI,OAAO;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,oDAAI;AACnC;AACA;AACA,oCAAoC,sDAAM;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,oCAAoC,yDAAS;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D;AAC3D,2DAA2D;AAC3D,0DAA0D;AAC1D,0DAA0D;AAC1D,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,oDAAI;AACnC;AACA;AACA,oCAAoC,sDAAM;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,yDAAS;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mC;;;;;;;;;;;;AC/cA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkC;AACI;AACtC;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA,mBAAmB,iCAAiC;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,6BAA6B;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP,iCAAiC,wBAAwB;AACzD,IAAI,0DAAM,mBAAmB;AAC7B;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP,WAAW,uDAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,gC;;;;;;;;;;;;AC1IA;AAAA;AAAA;AAA+B;AAC/B;AACA;AACA;AACe,sBAAsB,iDAAK;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mC;;;;;;;;;;;;ACdA;AAAA;AAAA;AAAA;AAAmC;AACH;AAChC;AACA;AACA;AACe,mBAAmB,mDAAO;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,kDAAK;AAC7B;AACA;AACA;AACA;AACA,gC;;;;;;;;;;;;ACjFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,8EAA8E;AACvG;AACA;;AAEO;AACP;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;;AAEO;AACP;AACA,gDAAgD,OAAO;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA,4DAA4D,cAAc;AAC1E;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;;AAEO;AACP,mCAAmC,oCAAoC;AACvE;;AAEO;AACP;AACA;;AAEO;AACP,2BAA2B,+DAA+D,gBAAgB,EAAE,EAAE;AAC9G;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,qFAAqF;AACpH;AACA,KAAK;AACL;;AAEO;AACP,aAAa,6BAA6B,0BAA0B,aAAa,EAAE,qBAAqB;AACxG,gBAAgB,qDAAqD,oEAAoE,aAAa,EAAE;AACxJ,sBAAsB,sBAAsB,qBAAqB,GAAG;AACpE;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC,kCAAkC,SAAS;AAC3C,kCAAkC,WAAW,UAAU;AACvD,yCAAyC,cAAc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ACA,oCAAoC,qDAAS;AAC7C;AACA;AACA;AACA,oCAAoC,iDAAI;AACxC;AACA;AACA,kC;;;;;;;;;;;;ACxHA;AAAA;AAAA;AAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,mBAAmB,iDAAK;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gC;;;;;;;;;;;;AC3GA;AAAA;AAAA;AAAmC;AACpB,oBAAoB,mDAAO;AAC1C;AACA;AACA;AACA;AACA;AACA,iC;;;;;;;;;;;;ACPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmC;AACZ;AACU;AACK;AACF;AACD;AACN;AACA;AACM;AACI;AACN;AACN;AACE;AACE;AACJ;AACgB;AACL;AACtC;AACA;AACA;AACA;AACA;AACe,oBAAoB,mDAAO;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,wDAAW;AAC/C;AACA;AACA,oCAAoC,sDAAQ;AAC5C;AACA;AACA,oCAAoC,kDAAK;AACzC;AACA;AACA;AACA,oCAAoC,uDAAI;AACxC;AACA;AACA;AACA;AACA;AACA,oCAAoC,gDAAG;AACvC;AACA;AACA,oCAAoC,mDAAM;AAC1C;AACA;AACA,oCAAoC,gDAAG;AACvC;AACA;AACA;AACA,oCAAoC,kDAAM;AAC1C;AACA;AACA,oCAAoC,mDAAO;AAC3C;AACA;AACA,oCAAoC,gDAAI;AACxC;AACA;AACA,oCAAoC,gDAAI;AACxC;AACA;AACA,oCAAoC,mDAAO;AAC3C;AACA;AACA,oCAAoC,qDAAS;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,iDAAI;AACxC;AACA;AACA;AACA;AACA;AACA,oCAAoC,6CAAC;AACrC;AACA;AACA;AACA;AACA;AACA,oCAAoC,qDAAQ;AAC5C;AACA;AACA,iC;;;;;;;;;;;;ACxGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA,mBAAmB,mBAAmB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gC;;;;;;;;;;;;ACrFA;AAAA;AAAA;AAAA;AAAgC;AACE;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,mBAAmB,mDAAG;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD,YAAY;AACrE,8DAA8D,cAAc,IAAI,cAAc;AAC9F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa,GAAG,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,oDAAI;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oHAAoH,eAAe;AACnI;AACA;AACA;AACA;AACA;AACA,+FAA+F,eAAe;AAC9G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,EAAE,GAAG,EAAE;AAC5B;AACA;AACA;AACA;AACA,oBAAoB,UAAU;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,aAAa,GAAG,aAAa;AACvD;AACA;AACA;AACA,0BAA0B,aAAa,GAAG,aAAa;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,gBAAgB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,iBAAiB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,SAAS,IAAI,SAAS;AACtF,iDAAiD,eAAe,GAAG,eAAe,GAAG,kBAAkB,GAAG,mBAAmB;AAC7H;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,mDAAG;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gC;;;;;;;;;;;;AC7hBA;AAAA;AAAA;AAAmC;AACpB,uBAAuB,mDAAO;AAC7C;AACA;AACA;AACA;AACA;AACA,qC;;;;;;;;;;;;ACPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkC;AAClC;AACyC;AACC;AAC1C;AACqC;AACN;AACI;AACnC;AACoC;AACpC;AACuC;AACK;AACH;AACa;AACF;AACM;AACf;AACJ;AACK;AAC5C;AAC6C;AACA;AACE;AAC/C;AAC0C;AAC1C;AAC4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,0BAA0B,mDAAG;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA,yEAAyE,MAAM;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,qDAAK;AACnC,yBAAyB,qDAAK;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,uDAAK;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,wDAAM;AAC1C;AACA;AACA;AACA;AACA;AACA,oCAAoC,2DAAQ;AAC5C;AACA;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,qDAAK;AACpC;AACA;AACA;AACA;AACA,uBAAuB,uDAAI;AAC3B;AACA;AACA,oBAAoB,QAAQ,GAAG,KAAK;AACpC;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,4DAAM,IAAI,QAAQ,EAAE,KAAK;AACrC,gCAAgC,6DAAQ;AACxC;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,GAAG;AACnC,aAAa;AACb;AACA,aAAa;AACb;AACA;AACA,4BAA4B,GAAG;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,gEAAY;AAChD;AACA;AACA;AACA;AACA;AACA,oCAAoC,mEAAe;AACnD;AACA;AACA;AACA;AACA;AACA,oCAAoC,yDAAO;AAC3C;AACA;AACA;AACA;AACA;AACA,oCAAoC,iEAAa;AACjD;AACA;AACA;AACA;AACA;AACA,oCAAoC,+DAAI;AACxC;AACA;AACA;AACA;AACA;AACA,oCAAoC,iEAAK;AACzC;AACA;AACA,oCAAoC,4DAAQ;AAC5C;AACA;AACA;AACA;AACA,sDAAsD;AACtD,sBAAsB,8DAAG;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,yDAAM;AAC1C;AACA;AACA;AACA;AACA;AACA,oCAAoC,2DAAQ;AAC5C;AACA;AACA;AACA;AACA;AACA,oCAAoC,gEAAI;AACxC;AACA;AACA;AACA;AACA;AACA,oCAAoC,gEAAI;AACxC;AACA;AACA;AACA;AACA;AACA,eAAe,uDAAS;AACxB,4BAA4B,qDAAK;AACjC;AACA,YAAY,4DAAM;AAClB,uCAAuC,6DAAQ;AAC/C,aAAa;AACb;AACA,aAAa;AACb;AACA,SAAS;AACT;AACA;AACA,uC;;;;;;;;;;;;AC5WA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoC;AACQ;AACV;AACA;AACH;AAC/B;AACA;AACA;AACe,8BAA8B,iDAAK;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,oDAAI;AACjC;AACA;AACA,iCAAiC,qDAAK;AACtC,kEAAkE,OAAO,GAAG,OAAO;AACnF,iCAAiC,qDAAK;AACtC;AACA,qCAAqC,oDAAI;AACzC;AACA;AACA,oCAAoC,yDAAS;AAC7C;AACA;AACA;AACA,iCAAiC,qDAAK;AACtC;AACA,4BAA4B,yDAAS;AACrC;AACA,4BAA4B,oDAAI,OAAO,iCAAiC,GAAG;AAC3E,qCAAqC,8DAA8D,GAAG;AACtG,qCAAqC,uGAAuG,GAAG;AAC/I;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,qDAAK;AACrC,kEAAkE,OAAO,GAAG,OAAO;AACnF,gCAAgC,qDAAK;AACrC;AACA,oCAAoC,oDAAI;AACxC;AACA;AACA,mCAAmC,yDAAS;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,qDAAK;AACtC;AACA,iCAAiC,oDAAI;AACrC;AACA;AACA,gCAAgC,yDAAS;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,iBAAiB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4C;;;;;;;;;;;;ACtIA;AAAA;AAAA;AAAA;AAAkC;AACH;AAC/B;AACA;AACA;AACe,qBAAqB,iDAAK;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD,EAAE,GAAG,EAAE;AAChE;AACA;AACA,yBAAyB,oDAAI;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD,QAAQ,GAAG,QAAQ;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD,QAAQ,GAAG,QAAQ;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kC;;;;;;;;;;;;;;;;;;;;;;;;AC1G6D;AACI;AAEJ;;;;;;;;;ICgCrC,sEAEI;IAAA,4EACA;IAD2B,4aAAqC;IAAhE,4DACA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","file":"tagger-tagger-module.js","sourcesContent":["import {Attribute, Injectable} from '@angular/core'\r\nimport Interactive from '../../../assets/source/elements/interactive';\r\nimport { Clase, ActiveShape, ShapeContainer, exportableShape } from './draws-class';\r\nimport { ExportToCsv } from 'export-to-csv';\r\nimport { ImageAdderService } from '../imagebar/imagebar.service';\r\nimport { ImageClass } from '../imagebar/image-class';\r\n\r\n@Injectable({\r\nprovidedIn:'root',\r\n})\r\n\r\nexport class DrawsService{\r\n\r\n    public myInteractive:Interactive;\r\n    public clase= new Clase();\r\n    //storedShapes guarda la ultima informacion de cada forma creada\r\n    //antes de que sea reemplazada en la imagen activa\r\n    public storedShapes=[];\r\n    public clases=[]; \r\n    public remover:boolean=true; \r\n    public activesShapes=[];\r\n    public shapeContainer=[];\r\n    public ver=true;\r\n    private id=1;\r\n    public errorMessage:string=\"\";\r\n    private xPoints=[];\r\n    private yPoints=[];\r\n    private totalPoints=0;\r\n    private create=false;\r\n    constructor(public imageService: ImageAdderService){\r\n    }\r\n\r\n\r\n    \r\n\r\n    setPlusId(id){\r\n        this.id=(parseInt(id)+1);\r\n    }\r\n    shapeEvent(){\r\n        if(this.create){\r\n            \r\n            let position=this.uptadeOri(event);\r\n            this.setnCheckPoints(position[0],position[1]);\r\n        }\r\n    }\r\n    uptadeOri(event){\r\n        if(event){\r\n            let doc=document.getElementById(\"draw_container_id\");            \r\n            let x=Math.floor(event.clientX-doc.getBoundingClientRect().left);\r\n            let y=Math.floor(event.clientY-doc.getBoundingClientRect().top);\r\n\r\n            const position=[x,y]\r\n            return position;\r\n        }\r\n\r\n    }\r\n\r\n    toggleClassCreation(){\r\n        this.create=!this.create;\r\n        if(this.imageService.images.length>0){            \r\n            document.getElementById(this.imageService.img.name).click();\r\n        }\r\n    }\r\n\r\n    checkClassname(name:string):boolean{\r\n        const regExp=/\\s/;\r\n        let bool=true;\r\n        this.clases.forEach(element => {\r\n            if(element.name===name){            \r\n                bool=false; \r\n                this.errorMessage=\"El nombre \"+name+\" ya existe!\";           \r\n            }\r\n        });\r\n        if( name.localeCompare(\"\")===0 || name.match(regExp)!==null){\r\n            bool=false;\r\n            this.errorMessage=\"El nombre no puede estar vaco o contener espacios!\";\r\n        }\r\n        return bool;\r\n    }\r\n    crearClase(claseNueva:Clase){\r\n        this.clases.push(claseNueva);\r\n        // this.clase=this.clases[this.clases.length-1];\r\n    \r\n    }\r\n\r\n    deleteClase(){\r\n        const index=this.clases.indexOf(this.clase);\r\n        this.clases.splice(index,1); \r\n    }\r\n\r\n    async crearShape(imgName:string){\r\n        if(this.clase.shape.localeCompare(\"box\")===0){\r\n            if(this.xPoints[0]<this.xPoints[1] && this.yPoints[0]<this.yPoints[1]){\r\n                \r\n                this.crearRect(imgName);\r\n            }\r\n            else if(this.xPoints[0]>this.xPoints[1] && this.yPoints[0]>this.yPoints[1]){\r\n                const newx=this.xPoints[0]\r\n                const newy=this.yPoints[0]\r\n                this.xPoints[0]=this.xPoints[1]                \r\n                this.yPoints[0]=this.yPoints[1]                \r\n                this.xPoints[1]=newx;\r\n                this.yPoints[1]=newy;     \r\n                this.crearRect(imgName);           \r\n            }\r\n            else if(this.xPoints[0]>this.xPoints[1] && this.yPoints[0]<this.yPoints[1]){\r\n                const newx=this.xPoints[0]\r\n                this.xPoints[0]=this.xPoints[1]                    \r\n                this.xPoints[1]=newx;\r\n                this.crearRect(imgName);     \r\n            }\r\n            else if(this.xPoints[0]<this.xPoints[1] && this.yPoints[0]>this.yPoints[1]){\r\n                const newy=this.yPoints[0]          \r\n                this.yPoints[0]=this.yPoints[1]      \r\n                this.yPoints[1]=newy;       \r\n                this.crearRect(imgName);  \r\n            }\r\n        }\r\n        else if(this.clase.shape.localeCompare(\"line\")===0){\r\n            this.crearLine(imgName);\r\n        }\r\n        else if(this.clase.shape.localeCompare(\"arrow\")===0){\r\n            this.crearArrow(imgName);\r\n        }\r\n        else if(this.clase.shape.localeCompare(\"arrowc\")===0){\r\n            this.crearArrowc(imgName);\r\n        }\r\n    }\r\n    // Fija la clase activa y\r\n    selectClase(clase:Clase){\r\n        this.clase=clase;\r\n        this.xPoints=[];\r\n        this.yPoints=[];\r\n        if(this.clase.shape.localeCompare(\"box\")===0){\r\n            this.totalPoints=2;\r\n        }\r\n        else if(this.clase.shape.localeCompare(\"line\")===0){\r\n            this.totalPoints=parseInt(this.clase.lines)+1;\r\n        }\r\n        else if(this.clase.shape.localeCompare(\"arrow\")===0){\r\n            this.totalPoints=1;\r\n        }\r\n        else if(this.clase.shape.localeCompare(\"arrowc\")===0){\r\n            this.totalPoints=1;\r\n        }\r\n    }\r\n    // recibe posicion de click y revisa si\r\n    // se dibuja la forma\r\n    setnCheckPoints(x:number,y:number){\r\n        \r\n        this.yPoints.push(y);\r\n        this.xPoints.push(x);\r\n        if(this.yPoints.length===this.totalPoints){\r\n            this.crearShape(this.imageService.img.name).then(()=>{\r\n                this.yPoints=[];\r\n                this.xPoints=[];\r\n            })\r\n\r\n        }\r\n    }\r\n    \r\n    // crea una flecha para tipos de subclase\r\n    // lito, geo o alt\r\n\r\n    crearArrow(imgName:string){\r\n        let temporal= new ActiveShape();\r\n        temporal.imgName=imgName;\r\n        temporal.activo=true;\r\n        temporal.shapeLine=[];\r\n        temporal.color=this.clase.color;\r\n        temporal.atribute=this.getAtributeData();  \r\n        temporal.shapeLine.push(this.myInteractive.line( 0,  26.4, 0,  -26.4));\r\n        temporal.shapeLine.push(this.myInteractive.line( 0.4,  25, 26.3,  -1.3));\r\n        temporal.shapeLine.push(this.myInteractive.line( 0.4,  -25, 26.3, 1.3));\r\n        //temporal.shapeLine.push(this.myInteractive.line( 0,  0,  75,  0));\r\n        //temporal.shapeLine.push(this.myInteractive.line( 75, 0,  50, -25));\r\n        //temporal.shapeLine.push(this.myInteractive.line( 75, 0,  50,  25));\r\n        let c1=this.myInteractive.control(this.xPoints[0],this.yPoints[0]);\r\n        temporal.shape=this.myInteractive.rectangle(c1.x,c1.y,0,0);\r\n        temporal.shape.update=function(){\r\n            this.x+=c1.dx;\r\n            this.y+=c1.dy;\r\n        }\r\n        c1.constrainWithinBox(2,2,1398,this.myInteractive.height-2);\r\n        for (let index = 0; index < temporal.shapeLine.length; index++) {\r\n            temporal.shapeLine[index].style.strokeWidth=\"4px\";\r\n            temporal.shapeLine[index].style.stroke=this.clase.color;\r\n            temporal.shapeLine[index].update=function(){\r\n                this.x1+=c1.dx;\r\n                this.x2+=c1.dx;\r\n                this.y1+=c1.dy;\r\n                this.y2+=c1.dy;\r\n                if(c1.x===2 || c1.y===2){\r\n                    this.remove();\r\n                    c1.remove();\r\n                    temporal.activo=false;\r\n                    temporal.shape.remove();\r\n                }\r\n            }  \r\n            temporal.shapeLine[index].x1+=this.xPoints[0];\r\n            temporal.shapeLine[index].x2+=this.xPoints[0];\r\n            temporal.shapeLine[index].y1+=this.yPoints[0];\r\n            temporal.shapeLine[index].y2+=this.yPoints[0];\r\n            temporal.shapeLine[index].addDependency(c1);     \r\n            temporal.shapeLine[index].update();      \r\n            \r\n        }\r\n        \r\n        temporal.shapeType=this.clase.shape;\r\n        temporal.clase=this.clase.name;\r\n        this.activesShapes.push(temporal);\r\n        if(this.create){\r\n            c1.remove();            \r\n        }\r\n\r\n        // Mostrar datos de atributos\r\n        const textData=this.splitAtributeDataService(temporal.atribute,\";\");\r\n        for (let index = 0; index < textData.length; index++) {\r\n            let text=this.myInteractive.text(0,0,(textData[index]));\r\n            text.style.fill=\"white\";\r\n            text.style.fontSize=\"medium\";\r\n\r\n            text.update=function(){\r\n                this.x=c1.x+3;\r\n                this.y=c1.y-25+(15*(index+1));            \r\n            }\r\n\r\n            text.addDependency(c1);        \r\n            text.update();\r\n            \r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n        // crea una flecha para tipos de subclase\r\n    // lito, geo o alt\r\n\r\n    crearArrowc(imgName:string){\r\n        let temporal= new ActiveShape();\r\n        temporal.imgName=imgName;\r\n        temporal.activo=true;\r\n        temporal.shapeLine=[];\r\n        temporal.color=this.clase.color;\r\n        temporal.atribute=this.getAtributeData();  \r\n        temporal.shapeLine.push(this.myInteractive.line(  0,  26.4,  0,  -26.4));\r\n        temporal.shapeLine.push(this.myInteractive.line( -25.9,  -1.3, 0, 25));\r\n        temporal.shapeLine.push(this.myInteractive.line( -25.9,  1.3, 0, -25));\r\n        //temporal.shapeLine.push(this.myInteractive.line( 0,  26.4, 0,  -26.4));\r\n        //temporal.shapeLine.push(this.myInteractive.line( 0.4,  25, 26.3,  -1.3));\r\n        //temporal.shapeLine.push(this.myInteractive.line( 0.4,  -25, 26.3, 1.3));\r\n        let c1=this.myInteractive.control(this.xPoints[0],this.yPoints[0]);\r\n        temporal.shape=this.myInteractive.rectangle(c1.x,c1.y,0,0);\r\n        temporal.shape.update=function(){\r\n            this.x+=c1.dx;\r\n            this.y+=c1.dy;\r\n        }\r\n        c1.constrainWithinBox(2,2,1398,this.myInteractive.height-2);\r\n        for (let index = 0; index < temporal.shapeLine.length; index++) {\r\n            temporal.shapeLine[index].style.strokeWidth=\"4px\";\r\n            temporal.shapeLine[index].style.stroke=this.clase.color;\r\n            temporal.shapeLine[index].update=function(){\r\n                this.x1+=c1.dx;\r\n                this.x2+=c1.dx;\r\n                this.y1+=c1.dy;\r\n                this.y2+=c1.dy;\r\n                if(c1.x===2 || c1.y===2){\r\n                    this.remove();\r\n                    c1.remove();\r\n                    temporal.activo=false;\r\n                    temporal.shape.remove();\r\n                }\r\n            }  \r\n            temporal.shapeLine[index].x1+=this.xPoints[0];\r\n            temporal.shapeLine[index].x2+=this.xPoints[0];\r\n            temporal.shapeLine[index].y1+=this.yPoints[0];\r\n            temporal.shapeLine[index].y2+=this.yPoints[0];\r\n            temporal.shapeLine[index].addDependency(c1);     \r\n            temporal.shapeLine[index].update();      \r\n            \r\n        }\r\n        \r\n        temporal.shapeType=this.clase.shape;\r\n        temporal.clase=this.clase.name;\r\n        this.activesShapes.push(temporal);\r\n        if(this.create){\r\n            c1.remove();            \r\n        }\r\n\r\n        // Mostrar datos de atributos\r\n        const textData=this.splitAtributeDataService(temporal.atribute,\";\");\r\n        for (let index = 0; index < textData.length; index++) {\r\n            let text=this.myInteractive.text(0,0,(textData[index]));\r\n            text.style.fill=\"white\";\r\n            text.style.fontSize=\"medium\";\r\n\r\n            text.update=function(){\r\n                this.x=c1.x+3;\r\n                this.y=c1.y-25+(15*(index+1));            \r\n            }\r\n\r\n            text.addDependency(c1);        \r\n            text.update();\r\n            \r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n    // crea forma a partir de una clase\r\n    crearLine(imgName:string){\r\n        let temporal= new ActiveShape();\r\n        temporal.imgName=imgName;\r\n        temporal.activo=true;\r\n        temporal.shapeLine=[];\r\n        let controllers=[];\r\n        let textcontainer=[];\r\n        let linenumber= parseInt(this.clase.lines);\r\n        temporal.lines=this.clase.lines;        \r\n        temporal.atribute=this.getAtributeData();\r\n        // Create element for future management\r\n        for (let index = 0; index < linenumber; index++) {       \r\n            temporal.shapeLine.push(this.myInteractive.line(0,0,0,0)); \r\n            controllers.push(this.myInteractive.control(this.xPoints[index],this.yPoints[index]));\r\n            if(index===(linenumber-1)){\r\n                controllers.push(this.myInteractive.control(this.xPoints[index+1],this.yPoints[index+1]));\r\n            }\r\n            \r\n        }\r\n        for (let index = 0; index < controllers.length; index++) {\r\n            controllers[index].constrainWithinBox(2,2,1398,this.myInteractive.height-2);\r\n            \r\n        }\r\n        // Mostrar atributos e id        \r\n        const textData=this.splitAtributeDataService(temporal.atribute,\";\");  \r\n        for (let index = 0; index < textData.length; index++) {\r\n            // if(index===0){\r\n            //     let id=this.id;\r\n            //     textcontainer.push(this.myInteractive.text(0,0,\"id:\"+id.toString()));\r\n            //     textcontainer[index].style.fill=\"white\";\r\n            //     textcontainer[index].style.fontSize=\"medium\";\r\n\r\n            //     textcontainer[index].update=function(){\r\n            //         this.x=controllers[0].x+3;\r\n            //         this.y=controllers[0].y+(15*(index+1));  \r\n            //     }        \r\n            //     textcontainer[index].addDependency(controllers[0]); \r\n            //     textcontainer[index].update();\r\n            // }\r\n            textcontainer.push(this.myInteractive.text(0,0,(textData[index])));\r\n            textcontainer[index].style.fill=\"white\";\r\n            textcontainer[index].style.fontSize=\"medium\";\r\n\r\n            textcontainer[index].update=function(){\r\n                this.x=controllers[0].x+3;\r\n                this.y=controllers[0].y+(15*(index+1));  \r\n            }\r\n\r\n            textcontainer[index].addDependency(controllers[0]);\r\n            textcontainer[index].update();\r\n            \r\n        }\r\n        // Assign the elements with their siblings\r\n        for (let index = 0; index < linenumber; index++) {   \r\n            temporal.shapeLine[index].style.stroke=this.clase.color;\r\n            temporal.shapeLine[index].style.strokeWidth=\"3px\";\r\n            temporal.shapeLine[index].update=function(){\r\n                this.x1=controllers[index].x;\r\n                this.x2=controllers[index+1].x;\r\n                this.y1=controllers[index].y;\r\n                this.y2=controllers[index+1].y;\r\n                if(Math.abs(controllers[index].x-controllers[index+1].x)<5&&Math.abs(controllers[index].y-controllers[index+1].y)<5){\r\n                    for (let index = 0; index < (linenumber+1); index++) {\r\n                        controllers[index].remove();\r\n                        \r\n                    }\r\n                    for (let index = 0; index < linenumber; index++) {                    \r\n                        temporal.shapeLine[index].remove();                    \r\n                    }\r\n                    for (let index = 0; index < textcontainer.length; index++) {\r\n                        textcontainer[index].remove();\r\n                        \r\n                    }\r\n\r\n                    temporal.activo=false;\r\n                }\r\n            }\r\n            temporal.shapeLine[index].addDependency(controllers[index]);\r\n            temporal.shapeLine[index].addDependency(controllers[index+1]);\r\n            temporal.shapeLine[index].update();\r\n\r\n        }\r\n\r\n\r\n        temporal.shapeType=this.clase.shape;\r\n        temporal.color=this.clase.color;\r\n        temporal.clase=this.clase.name;\r\n        this.id+=1;\r\n        this.activesShapes.push(temporal);\r\n        //  Si esta en modo editar, se eliminan los controladores\r\n        if(this.create){\r\n            for (let index = 0; index < controllers.length; index++) {\r\n                controllers[index].remove();\r\n                \r\n            }\r\n        }\r\n\r\n\r\n    }\r\n\r\n    crearRect(imgName:string):void{\r\n\r\n        let temporal= new ActiveShape();\r\n        // let fixWidth:number=this.oriX+this.clase.width;\r\n        // let fixHeight:number=this.oriY+this.clase.height;\r\n        temporal.imgName=imgName;\r\n        temporal.activo=true;   \r\n        temporal.shape = this.myInteractive.rectangle(0, 0, 0, (this.yPoints[1]-this.yPoints[0])); \r\n        temporal.shape.classList.add('default');\r\n        temporal.shape.style.fill=this.clase.color;\r\n        temporal.shape.style.stroke=this.clase.color;\r\n        temporal.color=this.clase.color;\r\n        temporal.shape.style.strokeWidth=\"2px\";\r\n        temporal.shape.style.fillOpacity=\"0.4\";\r\n        temporal.shapeType=this.clase.shape;\r\n        let c1 = this.myInteractive.control(this.xPoints[0], this.yPoints[0]);\r\n        let c2 = this.myInteractive.control(this.xPoints[1], this.yPoints[1]);\r\n        \r\n        c1.constrainWithinBox(2,2,1398,this.myInteractive.height-2);\r\n        \r\n        c2.constrainWithinBox(2,2,1398,this.myInteractive.height-2);\r\n        // let rect = this.myInteractive.rectangle(0,0,0,0)\r\n        // rect.style.fill=this.clase.color;\r\n        // rect.style.stroke=this.clase.color;\r\n        // rect.style.fillOpacity=\"0.7\";\r\n        // rect.style.strokeWidth=\"2px\";\r\n\r\n        c2.update = function () {\r\n            this.x += c1.dx;\r\n            this.y += c1.dy;            \r\n        };\r\n        temporal.atribute=this.getAtributeData();  \r\n        // Mostrar datos de atributos  \r\n        const textData=this.splitAtributeDataService(temporal.atribute,\";\");        \r\n        for (let index = 0; index < textData.length; index++) {\r\n            let text=this.myInteractive.text(0,0,(textData[index]));\r\n            text.style.fill=\"white\";\r\n            text.style.fontSize=\"medium\";\r\n\r\n            text.update=function(){\r\n                this.x=c1.x+3;\r\n                this.y=c1.y+(15*(index+1));            \r\n                if(c2.x<c1.x || c2.y<c1.y){\r\n                    this.remove();\r\n                } \r\n            }\r\n\r\n            text.addDependency(c1);        \r\n            text.addDependency(c2);\r\n            text.update();\r\n            \r\n        }\r\n\r\n        c2.addDependency(c1);\r\n        temporal.shape.update = function () {\r\n            this.x = c1.x;\r\n            this.y = c1.y;\r\n            this.width = c2.x - c1.x;\r\n            this.height = c2.y - c1.y;\r\n            if(this.width<0 || this.height<0){\r\n                c1.remove();\r\n                c2.remove();                     \r\n                this.remove();\r\n                temporal.activo=false;\r\n            }\r\n\r\n                \r\n        };    \r\n        temporal.shape.update();\r\n        temporal.shape.addDependency(c1);\r\n        temporal.shape.addDependency(c2);\r\n        temporal.clase=this.clase.name;   \r\n        this.id+=1;\r\n        this.activesShapes.push(temporal);\r\n        if(this.create){\r\n            c1.remove();\r\n            c2.remove();\r\n        }\r\n\r\n    }\r\n\r\n    getAtributeData(){\r\n        let padre=document.getElementById(\"atribute_window\");\r\n        let atributeData=\"\";\r\n        const padreLength=padre.children.length;\r\n        for (let index = 0; index < padreLength; index+=2) {\r\n            let nombreatrib=padre.children[index];\r\n            let valoratrib=padre.children[index+1] as HTMLTextAreaElement;\r\n            if((index+2)!==padreLength){\r\n                atributeData=atributeData+nombreatrib.textContent+valoratrib.value+\";\";\r\n            }\r\n            else{\r\n                atributeData=atributeData+nombreatrib.textContent+valoratrib.value;\r\n            }\r\n            \r\n        }\r\n        return atributeData;\r\n    }\r\n\r\n    crearFromData(shape:ActiveShape){\r\n        let displayShape=\"block\";\r\n        this.clases.forEach(element=>{\r\n            if(element.name.localeCompare(shape.clase)===0){\r\n                if(!element.view){\r\n                    displayShape=\"none\";\r\n                }\r\n                \r\n                if(shape.shapeType.localeCompare(\"box\")===0){\r\n                    this.crearRectFromData(shape.imgName,\r\n                        shape.shape.width,\r\n                        shape.shape.height,\r\n                        shape.shape.x,\r\n                        shape.shape.y,\r\n                        shape.color,\r\n                        shape.clase,\r\n                        shape.shapeType,\r\n                        shape.atribute,\r\n                        displayShape);\r\n                }\r\n                else if(shape.shapeType.localeCompare(\"line\")===0){\r\n                    \r\n                    this.crearLineFromData(shape.imgName,\r\n                        shape.shapeLine,\r\n                        shape.lines,\r\n                        shape.color,\r\n                        shape.clase,\r\n                        shape.shapeType,\r\n                        shape.atribute,\r\n                        displayShape)\r\n                }\r\n                else if(shape.shapeType.localeCompare(\"arrow\")===0){\r\n                    this.crearArrowFromData(shape.imgName,                        \r\n                        shape.shapeLine,\r\n                        shape.color,\r\n                        shape.clase,\r\n                        shape.shapeType,\r\n                        shape.atribute,\r\n                        displayShape,\r\n                        shape.shape.x,\r\n                        shape.shape.y);\r\n                }\r\n\r\n                else if(shape.shapeType.localeCompare(\"arrowc\")===0){\r\n                    this.crearArrowcFromData(shape.imgName,                        \r\n                        shape.shapeLine,\r\n                        shape.color,\r\n                        shape.clase,\r\n                        shape.shapeType,\r\n                        shape.atribute,\r\n                        displayShape,\r\n                        shape.shape.x,\r\n                        shape.shape.y);\r\n                }\r\n\r\n            }\r\n        })\r\n        \r\n\r\n    }\r\n\r\n    crearLineFromData(imgName:string,shapes:any,lines:string,color:string,clase:string,shapeType:string,atribute:string,displayShape:string){\r\n        // Shapes se usa para obtener coordenadas en x,y con\r\n        // las que se crean los controladores\r\n        let temporal= new ActiveShape();\r\n        temporal.imgName=imgName;\r\n        temporal.activo=true;\r\n        temporal.shapeLine=[];\r\n        temporal.lines=lines;\r\n        let controllers=[];        \r\n        let textcontainer=[];\r\n        let linenumber= parseInt(lines);\r\n        // Create element for future management\r\n        for (let index = 0; index < linenumber; index++) {       \r\n            temporal.shapeLine.push(this.myInteractive.line(0,0,0,0)); \r\n            controllers.push(this.myInteractive.control(shapes[index].x1,shapes[index].y1));\r\n            controllers[index].style.display=displayShape;\r\n            if(index===(linenumber-1)){\r\n                controllers.push(this.myInteractive.control(shapes[index].x2,shapes[index].y2));\r\n                controllers[index+1].style.display=displayShape;\r\n            }        \r\n        }\r\n\r\n        for (let index = 0; index < controllers.length; index++) {\r\n            controllers[index].constrainWithinBox(2,2,1398,this.myInteractive.height-2);\r\n            \r\n        }\r\n\r\n        // Mostrar datos atributos\r\n        \r\n        temporal.atribute=atribute;\r\n        const textData=this.splitAtributeDataService(temporal.atribute,\";\");  \r\n        for (let index = 0; index < textData.length; index++) {\r\n            textcontainer.push(this.myInteractive.text(0,0,(textData[index])));\r\n            textcontainer[index].style.fill=\"white\";\r\n            textcontainer[index].style.fontSize=\"medium\";            \r\n            textcontainer[index].style.display=displayShape;\r\n\r\n            textcontainer[index].update=function(){\r\n                this.x=controllers[0].x+3;\r\n                this.y=controllers[0].y+(15*(index+1));  \r\n            }\r\n\r\n            textcontainer[index].addDependency(controllers[0]);\r\n            textcontainer[index].update();\r\n            \r\n        }\r\n\r\n        // Assing the elements with their siblings\r\n        for (let index = 0; index < linenumber; index++) {   \r\n            temporal.shapeLine[index].style.stroke=color;\r\n            temporal.shapeLine[index].style.strokeWidth=\"3px\";\r\n            temporal.shapeLine[index].style.display=displayShape;\r\n            temporal.shapeLine[index].update=function(){\r\n                this.x1=controllers[index].x;\r\n                this.x2=controllers[index+1].x;\r\n                this.y1=controllers[index].y;\r\n                this.y2=controllers[index+1].y;\r\n                // Condicion para eliminar la figura\r\n                if(Math.abs(controllers[index].x-controllers[index+1].x)<5&&Math.abs(controllers[index].y-controllers[index+1].y)<5){\r\n                    for (let index = 0; index < (linenumber+1); index++) {\r\n                        controllers[index].remove();\r\n                        \r\n                    }\r\n                    for (let index = 0; index < linenumber; index++) {                    \r\n                        temporal.shapeLine[index].remove();                    \r\n                    }\r\n                    for (let index = 0; index < textcontainer.length; index++) {\r\n                        textcontainer[index].remove();\r\n                        \r\n                    }\r\n\r\n                    temporal.activo=false;\r\n                }\r\n            }\r\n            temporal.shapeLine[index].addDependency(controllers[index]);\r\n            temporal.shapeLine[index].addDependency(controllers[index+1]);\r\n            temporal.shapeLine[index].update();\r\n\r\n        }\r\n\r\n\r\n        temporal.shapeType=shapeType;\r\n        temporal.color=color;\r\n        temporal.clase=clase;\r\n        this.activesShapes.push(temporal);\r\n        if(this.create){\r\n            for (let index = 0; index < controllers.length; index++) {\r\n                controllers[index].remove();\r\n                \r\n            }\r\n        }\r\n    }\r\n    // crea una forma a partir de informacion almacenada\r\n    crearRectFromData(imgName:string,width:number,height:number,x:number,y:number,color:string,clase:string,shapeType:string,atribute:string,displayShape:string):void{\r\n        let temporal= new ActiveShape();\r\n        let fixWidth=x+width;\r\n        let fixHeight=y+height;\r\n        temporal.imgName=imgName;\r\n        temporal.activo=true;\r\n        temporal.shape = this.myInteractive.rectangle(0, 0, 0, 0);    \r\n        temporal.shape.classList.add('default');\r\n        temporal.shape.style.fill=color;\r\n        temporal.shape.style.stroke=color;\r\n        temporal.color=color;\r\n        temporal.shape.style.strokeWidth=\"2px\";\r\n        temporal.shape.style.fillOpacity=\"0.4\";\r\n        temporal.shape.style.display=displayShape;\r\n        temporal.shapeType=shapeType;\r\n        let c1 = this.myInteractive.control(x,y);\r\n        let c2 = this.myInteractive.control(fixWidth, fixHeight);\r\n        c1.constrainWithinBox(2,2,1398,this.myInteractive.height-2);\r\n        c2.constrainWithinBox(2,2,1398,this.myInteractive.height-2);\r\n        c1.style.display=displayShape;\r\n        c2.style.display=displayShape;\r\n        c2.update = function () {\r\n            this.x += c1.dx;\r\n            this.y += c1.dy;\r\n        }; \r\n        // Mostrar datos de atributos\r\n        temporal.atribute=atribute;\r\n        const textData=this.splitAtributeDataService(temporal.atribute,\";\");\r\n        for (let index = 0; index < textData.length; index++) {\r\n            let text=this.myInteractive.text(0,0,(textData[index]));\r\n            text.style.fill=\"white\";\r\n            text.style.fontSize=\"medium\";\r\n            text.style.display=displayShape;\r\n            text.update=function(){\r\n                this.x=c1.x+3;\r\n                this.y=c1.y+(15*(index+1));            \r\n                if(c2.x<c1.x || c2.y<c1.y){\r\n                    this.remove();\r\n                } \r\n            }        \r\n            text.addDependency(c1);        \r\n            text.addDependency(c2);\r\n            text.update();\r\n            \r\n        }    \r\n        c2.addDependency(c1);\r\n        temporal.shape.update = function () {\r\n            this.x = c1.x;\r\n            this.y = c1.y;\r\n            this.width = c2.x - c1.x;\r\n            this.height = c2.y - c1.y;\r\n            if(this.width<0 || this.height<0){\r\n                c1.remove();\r\n                c2.remove();                        \r\n                this.remove();\r\n                temporal.activo=false;\r\n            }\r\n                \r\n        };\r\n        temporal.shape.update();\r\n        temporal.shape.addDependency(c1);\r\n        temporal.shape.addDependency(c2);    \r\n        temporal.clase=clase;\r\n        this.activesShapes.push(temporal);\r\n        if(this.create){\r\n            c1.remove();\r\n            c2.remove();\r\n        }\r\n\r\n    }\r\n\r\n    crearArrowFromData(imgName:string,shapes:any,color:string,clase:string,shapeType:string,atribute:string,displayShape:string,x:number,y:number){\r\n        let temporal= new ActiveShape();\r\n        temporal.imgName=imgName;\r\n        temporal.activo=true;\r\n        temporal.shapeLine=[];\r\n        temporal.shapeType=shapeType;\r\n        temporal.atribute=atribute;\r\n        temporal.shapeLine.push(this.myInteractive.line( 0,  26.4, 0,  -26.4));\r\n        temporal.shapeLine.push(this.myInteractive.line( 0.4,  25, 26.3,  -1.3));\r\n        temporal.shapeLine.push(this.myInteractive.line( 0.4,  -25, 26.3, 1.3));\r\n        //temporal.shapeLine.push(this.myInteractive.line( 0,  0,  75,  0));\r\n        //temporal.shapeLine.push(this.myInteractive.line( 75, 0,  50, -25));\r\n        //temporal.shapeLine.push(this.myInteractive.line( 75, 0,  50,  25));\r\n        let c1=this.myInteractive.control(x,y);\r\n        temporal.shape=this.myInteractive.rectangle(x,y,0,0);\r\n        temporal.shape.update=function(){\r\n            this.x+=c1.dx;\r\n            this.y+=c1.dy;\r\n        }\r\n        temporal.shape.addDependency(c1);\r\n        temporal.shape.update();\r\n        c1.constrainWithinBox(2,2,1398,this.myInteractive.height-2);\r\n        for (let index = 0; index < temporal.shapeLine.length; index++) {\r\n            temporal.shapeLine[index].style.strokeWidth=\"4px\";\r\n            temporal.shapeLine[index].style.stroke=color;\r\n            temporal.shapeLine[index].update=function(){\r\n                this.x1+=c1.dx;\r\n                this.x2+=c1.dx;\r\n                this.y1+=c1.dy;\r\n                this.y2+=c1.dy;\r\n                if(c1.x===2 || c1.y===2){\r\n                    this.remove();\r\n                    c1.remove();\r\n                    temporal.activo=false;\r\n                    temporal.shape.remove();\r\n                }\r\n            }\r\n            temporal.shapeLine[index].x1+=x;\r\n            temporal.shapeLine[index].x2+=x;\r\n            temporal.shapeLine[index].y1+=y;\r\n            temporal.shapeLine[index].y2+=y;\r\n            temporal.shapeLine[index].addDependency(c1);     \r\n            temporal.shapeLine[index].update();  \r\n            temporal.shapeLine[index].style.display=displayShape;    \r\n            \r\n        }\r\n        \r\n        temporal.color=color;\r\n        c1.style.display=displayShape;\r\n        temporal.clase=clase;\r\n        this.activesShapes.push(temporal);\r\n        if(this.create){\r\n            c1.remove();            \r\n        }\r\n\r\n        // Mostrar datos de atributos\r\n        const textData=this.splitAtributeDataService(temporal.atribute,\";\");\r\n        for (let index = 0; index < textData.length; index++) {\r\n            let text=this.myInteractive.text(0,0,(textData[index]));\r\n            text.style.fill=\"white\";\r\n            text.style.fontSize=\"medium\";\r\n\r\n            text.update=function(){\r\n                this.x=c1.x+3;\r\n                this.y=c1.y-25+(15*(index+1));            \r\n            }\r\n\r\n            text.addDependency(c1);        \r\n            text.update();\r\n            \r\n        }\r\n\r\n    }\r\n\r\n    crearArrowcFromData(imgName:string,shapes:any,color:string,clase:string,shapeType:string,atribute:string,displayShape:string,x:number,y:number){\r\n        let temporal= new ActiveShape();\r\n        temporal.imgName=imgName;\r\n        temporal.activo=true;\r\n        temporal.shapeLine=[];\r\n        temporal.shapeType=shapeType;\r\n        temporal.atribute=atribute;\r\n        temporal.shapeLine.push(this.myInteractive.line(  0,  26.4,  0,  -26.4));\r\n        temporal.shapeLine.push(this.myInteractive.line( -25.9,  -1.3, 0, 25));\r\n        temporal.shapeLine.push(this.myInteractive.line( -25.9,  1.3, 0, -25));\r\n        //temporal.shapeLine.push(this.myInteractive.line( 0,  26.4, 0,  -26.4));\r\n        //temporal.shapeLine.push(this.myInteractive.line( 0.4,  25, 26.3,  -1.3));\r\n        //temporal.shapeLine.push(this.myInteractive.line( 0.4,  -25, 26.3, 1.3));\r\n        let c1=this.myInteractive.control(x,y);\r\n        temporal.shape=this.myInteractive.rectangle(x,y,0,0);\r\n        temporal.shape.update=function(){\r\n            this.x+=c1.dx;\r\n            this.y+=c1.dy;\r\n        }\r\n        temporal.shape.addDependency(c1);\r\n        temporal.shape.update();\r\n        c1.constrainWithinBox(2,2,1398,this.myInteractive.height-2);\r\n        for (let index = 0; index < temporal.shapeLine.length; index++) {\r\n            temporal.shapeLine[index].style.strokeWidth=\"4px\";\r\n            temporal.shapeLine[index].style.stroke=color;\r\n            temporal.shapeLine[index].update=function(){\r\n                this.x1+=c1.dx;\r\n                this.x2+=c1.dx;\r\n                this.y1+=c1.dy;\r\n                this.y2+=c1.dy;\r\n                if(c1.x===2 || c1.y===2){\r\n                    this.remove();\r\n                    c1.remove();\r\n                    temporal.activo=false;\r\n                    temporal.shape.remove();\r\n                }\r\n            }\r\n            temporal.shapeLine[index].x1+=x;\r\n            temporal.shapeLine[index].x2+=x;\r\n            temporal.shapeLine[index].y1+=y;\r\n            temporal.shapeLine[index].y2+=y;\r\n            temporal.shapeLine[index].addDependency(c1);     \r\n            temporal.shapeLine[index].update();  \r\n            temporal.shapeLine[index].style.display=displayShape;    \r\n            \r\n        }\r\n        \r\n        temporal.color=color;\r\n        c1.style.display=displayShape;\r\n        temporal.clase=clase;\r\n        this.activesShapes.push(temporal);\r\n        if(this.create){\r\n            c1.remove();            \r\n        }\r\n\r\n        // Mostrar datos de atributos\r\n        const textData=this.splitAtributeDataService(temporal.atribute,\";\");\r\n        for (let index = 0; index < textData.length; index++) {\r\n            let text=this.myInteractive.text(0,0,(textData[index]));\r\n            text.style.fill=\"white\";\r\n            text.style.fontSize=\"medium\";\r\n\r\n            text.update=function(){\r\n                this.x=c1.x+3;\r\n                this.y=c1.y-25+(15*(index+1));            \r\n            }\r\n\r\n            text.addDependency(c1);        \r\n            text.update();\r\n            \r\n        }\r\n\r\n    }\r\n\r\n    removeImage(imgName:string){\r\n        let indexA=0;\r\n        let indexB=0;\r\n        let remove=false;\r\n        this.shapeContainer.forEach(element => {    \r\n                    \r\n            if (!(element.imgName===imgName)) {\r\n                indexA++;\r\n\r\n            }\r\n            else{\r\n                indexB=indexA;\r\n                remove=true;\r\n            }\r\n        });\r\n        if(remove){\r\n            // console.log(this.shapeContainer[indexB]);\r\n            this.shapeContainer.splice(indexB,1);\r\n        } \r\n        this.activesShapes=[];\r\n    }\r\n\r\n    // Almacena los elementos de figuras de la imagen activa\r\n    async refreshContainer(imgName:string){\r\n        if(this.shapeContainer.length>0){\r\n            \r\n            let indexA=0;\r\n            let indexB=0;\r\n            let remove=false;\r\n            this.shapeContainer.forEach(element => {    \r\n                        \r\n                if (!(element.imgName===imgName)) {\r\n                    indexA++;\r\n\r\n                }\r\n                else{\r\n                    indexB=indexA;\r\n                    remove=true;\r\n                }\r\n            });\r\n            if(remove){\r\n                // console.log(this.shapeContainer[indexB]);\r\n                this.shapeContainer.splice(indexB,1);\r\n            }  \r\n        }    \r\n        \r\n        this.saveShapes(imgName,this.activesShapes).then(value=>{\r\n            this.shapeContainer.push(value);\r\n        })      \r\n    }\r\n\r\n\r\n    async createContainers(image:ImageClass){\r\n        let container= new ShapeContainer();\r\n        container.imgName=image.name;\r\n        container.height=image.height;\r\n        container.width=image.width;\r\n        container.shapeList=[];\r\n        this.shapeContainer.push(container);\r\n    }\r\n\r\n    async saveShapes(imgName,shapes){\r\n        let container= new ShapeContainer();\r\n        container.imgName=imgName;\r\n        container.shapeList=[];\r\n        container.width=this.imageService.complexImg.width;\r\n        container.height=this.imageService.complexImg.height;\r\n        \r\n        this.activesShapes.forEach(element=>{\r\n            if(element.activo){\r\n                container.shapeList.push(element);\r\n            }            \r\n        });\r\n\r\n        return container;\r\n    }\r\n\r\n    clearActiveShapes(){\r\n        this.activesShapes=[];\r\n    }\r\n\r\n    // Genera csv de salida de marcas\r\n    exportData(imgName:string){\r\n        // Organizar datos\r\n        this.refreshContainer(imgName).then(()=>{\r\n            let data=[];\r\n            this.shapeContainer.forEach(element=>{\r\n            element.shapeList.forEach(elementoLista => {  \r\n\r\n                let list= new exportableShape();\r\n                let factor=1400/parseInt(element.width); \r\n                list.imgName=elementoLista.imgName;\r\n                list.imgHeight=element.height;\r\n                list.imgWidth=element.width;\r\n                list.clase=elementoLista.clase;\r\n                list.shapetype=elementoLista.shapeType; \r\n                let atributeFormated=\"\";\r\n                console.log(\"intento separar\");\r\n                console.log(elementoLista.atribute);\r\n                let temporalData=this.splitAtributeDataService(elementoLista.atribute,\";\")\r\n                console.log(\"logrado\");\r\n                for (let index = 0; index < temporalData.length; index++) {\r\n                    let rawData=this.splitAtributeDataService(temporalData[index],\":\")\r\n                    if(rawData.length>1){\r\n                        atributeFormated=atributeFormated+\"\\\"\"+rawData[0]+\"\\\":\\\"\"+rawData[1]+\"\\\"\"\r\n                    \r\n                    if(index<temporalData.length-1){\r\n                        atributeFormated=atributeFormated+\";\";\r\n                    }\r\n                    }    \r\n                    \r\n                }\r\n                list.atribute=\"{\"+atributeFormated+\"}\";\r\n                list.id=Math.random();                                    \r\n\r\n                if(elementoLista.shapeType.localeCompare(\"box\")===0){                    \r\n                    list.oriX=Math.floor(parseInt(elementoLista.shape.x)/factor).toString();\r\n                    list.oriY=Math.floor(parseInt(elementoLista.shape.y)/factor).toString();\r\n                    list.width=Math.floor(parseInt(elementoLista.shape.width)/factor).toString();\r\n                    list.height=Math.floor(parseInt(elementoLista.shape.height)/factor).toString();\r\n                    list.color=elementoLista.color;                \r\n                    data.push(list);\r\n                }\r\n                else if(elementoLista.shapeType.localeCompare(\"line\")===0){ \r\n                    const linenum=parseInt(elementoLista.lines);\r\n                    list.oriX=\"\";\r\n                    list.oriY=\"\";\r\n                    for (let index = 0; index < linenum; index++) {\r\n                        let x1=Math.floor(parseInt(elementoLista.shapeLine[index].x1)/factor).toString();                    \r\n                        let y1=Math.floor(parseInt(elementoLista.shapeLine[index].y1)/factor).toString();                    \r\n                        let x2=Math.floor(parseInt(elementoLista.shapeLine[index].x2)/factor).toString();                    \r\n                        let y2=Math.floor(parseInt(elementoLista.shapeLine[index].y2)/factor).toString();\r\n\r\n                        if(index===(linenum-1)){\r\n                            list.oriX=list.oriX+x1+\",\"+x2;\r\n                            list.oriY=list.oriY+y1+\",\"+y2;\r\n                        }\r\n                        else{\r\n                            list.oriX=list.oriX+x1+\",\"+x2+\",\";\r\n                            list.oriY=list.oriY+y1+\",\"+y2+\",\";\r\n\r\n                        }\r\n                        \r\n                    }\r\n                    list.oriX=\"\\\"\"+list.oriX+\"\\\"\";                    \r\n                    list.oriY=\"\\\"\"+list.oriY+\"\\\"\";\r\n                    \r\n\r\n\r\n                    list.width=\"\";\r\n                    list.height=\"\";\r\n                    list.color=elementoLista.color;                \r\n                    data.push(list);\r\n                }\r\n                else if(elementoLista.shapeType.localeCompare(\"arrow\")===0){\r\n                    list.oriX=Math.floor(parseInt(elementoLista.shape.x)/factor).toString();\r\n                    list.oriY=Math.floor(parseInt(elementoLista.shape.y)/factor).toString();\r\n                    list.width=\"0\";\r\n                    list.height=\"0\";\r\n                    list.color=elementoLista.color;                \r\n                    data.push(list);\r\n                }\r\n                else if(elementoLista.shapeType.localeCompare(\"arrowc\")===0){\r\n                    list.oriX=Math.floor(parseInt(elementoLista.shape.x)/factor).toString();\r\n                    list.oriY=Math.floor(parseInt(elementoLista.shape.y)/factor).toString();\r\n                    list.width=\"0\";\r\n                    list.height=\"0\";\r\n                    list.color=elementoLista.color;                \r\n                    data.push(list);\r\n                }\r\n            });\r\n        })\r\n        //Exportar datos\r\n\r\n        let exportoptions={\r\n            fieldSeparator: ',',\r\n            quoteStrings: '\"',\r\n            decimalSeparator: '',\r\n            showLabels: true,\r\n            useTextFile: false,\r\n            useBom: true,\r\n            useKeysAsHeaders: true,\r\n        };\r\n        const csvExport= new ExportToCsv(exportoptions);\r\n        csvExport.generateCsv(data);\r\n        });\r\n        \r\n    }\r\n\r\n    // Separa string segun separador\r\n    splitAtributeDataService(dataString:string,separator:string){\r\n        let data=dataString.split(separator);\r\n        return data;\r\n    }\r\n\r\n    /*\r\n    // Carga clases por defecto\r\n    async defaulClases(){\r\n        this.clases=[];\r\n        const names=['L','LF','A','AF','MNZ','MNZF','OBS','OBSF','CAN','ROC','T','T2','C','M','MG','MM','MF','J','J3','V','V3']\r\n        const showNames=['Litologa','Litologa (Fin)','Alteracin','Alteracin (Fin)','Mineralizacin','Mineralizacin (Fin)','Observacin','Observacin (Fin)','Escala','Eje Sondaje', 'Taco','Taco Falso','Canaleta Vaca','Molido','Molido Grueso','Molido Medio','Molido Fino','Fractura','Fractura (3 ptos.)','Vetilla','Vetilla (3 ptos.)']\r\n        const tipes=['arrow','arrowc', 'arrow','arrowc', 'arrow','arrowc','arrow','arrowc','line','line', 'box','box','box','box','box','box','box','box','line','box','line']\r\n        const lines=[0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,2,0,2]\r\n        const colors=['#FF0000','#FF0000','#FF8000','#FF8000','#FFFF00','#FFFF00','#FFFFFF','#FFFFFF','#FFFFFF','#000000','#000000','#C0C0C0','#FFFFFF','#0000FF','#800080','#FF00FF','#FFC0CB','#00FF00','#00FF00','#008000','#008000']\r\n        const icons=[\"litologia.png\",\"litologiaFin.png\",\"alteracion.png\",\"alteracionFin.png\",\"mineralizacion.png\",\"mineralizacionFin.png\",\"observacion.png\",\"observacionFin.png\",\"escala.png\",\"eje.png\",\"taco.png\",\"tacoFalso.png\",\"canaletaVacia.png\",\"molido.png\",\"molidoGrueso.png\",\"molidoMedio.png\",\"molidoFino.png\",\"fractura.png\",\"fractura3ptos.png\",\"vetilla.png\",\"vetilla3ptos.png\"]\r\n        const upClas=['geologia', 'geologia', \"geologia\",'geologia', 'geologia', \"geologia\",\"geologia\",\"geologia\",\"base\",\"base\", \"base\",\"base\",\"base\",\"geo\",\"geo\",\"geo\",\"geo\",\"geo\",\"geo\",\"geo\",\"geo\"]\r\n        for (let index = 0; index < names.length; index++) {\r\n            let tempClass = new Clase();\r\n            tempClass.showName=showNames[index];\r\n            tempClass.name=names[index];\r\n            tempClass.shape=tipes[index];\r\n            tempClass.lines=lines[index].toString();\r\n            tempClass.color=colors[index];\r\n            tempClass.view=true;\r\n            tempClass.icon=icons[index];\r\n            tempClass.upClass=upClas[index]\r\n            \r\n            if(names[index]===\"T\" || names[index]===\"L\" || names[index]===\"A\" || names[index]===\"MNZ\" || names[index]===\"OBS\"){\r\n                tempClass.atribute='p1:';\r\n            }\r\n            \r\n            if(names[index]===\"CAN\"){\r\n                tempClass.atribute='dist:';\r\n            }\r\n            if(names[index]===\"T\"){\r\n                tempClass.atribute='prof:';\r\n            }\r\n            if(names[index]===\"L\"){\r\n                tempClass.atribute='lit:';\r\n            }\r\n            if(names[index]===\"A\"){\r\n                tempClass.atribute='alt:';\r\n            }\r\n            if(names[index]===\"MNZ\"){\r\n                tempClass.atribute='min:';\r\n            }\r\n            if(names[index]===\"OBS\"){\r\n                tempClass.atribute='obs:';\r\n            }\r\n            \r\n            this.clases.push(tempClass)     \r\n        }\r\n    }\r\n    */\r\n\r\n        // Carga clases por defecto\r\n        async defaulClases(){\r\n            this.clases=[];\r\n            //const names=['L','LF','A','AF','MNZ','MNZF','OBS','OBSF','CAN','ROC','T','T2','C','M','MG','MM','MF','J','J3','V','V3']\r\n            const names=['CAN','ROC','J3','V3','M','MTV']\r\n            //const showNames=['Litologa','Litologa (Fin)','Alteracin','Alteracin (Fin)','Mineralizacin','Mineralizacin (Fin)','Observacin','Observacin (Fin)','Escala','Eje Sondaje', 'Taco','Taco Falso','Canaleta Vaca','Molido','Molido Grueso','Molido Medio','Molido Fino','Fractura','Fractura (3 ptos.)','Vetilla','Vetilla (3 ptos.)']\r\n            const showNames=['Escala','Eje Sondaje','Fractura','Vetilla','Molido','Molido (TV)']\r\n            //const tipes=['arrow','arrowc', 'arrow','arrowc', 'arrow','arrowc','arrow','arrowc','line','line', 'box','box','box','box','box','box','box','box','line','box','line']\r\n            const tipes=['line','line','line','line','box','box']\r\n            //const lines=[0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,2,0,2]\r\n            const lines=[1,1,2,2,0,0]\r\n            //const colors=['#FF0000','#FF0000','#FF8000','#FF8000','#FFFF00','#FFFF00','#FFFFFF','#FFFFFF','#FFFFFF','#000000','#000000','#C0C0C0','#FFFFFF','#0000FF','#800080','#FF00FF','#FFC0CB','#00FF00','#00FF00','#008000','#008000']\r\n            const colors=['#FFFFFF','#000000','#00FF00','FF8000','0000FF','FF0000']\r\n            //const icons=[\"litologia.png\",\"litologiaFin.png\",\"alteracion.png\",\"alteracionFin.png\",\"mineralizacion.png\",\"mineralizacionFin.png\",\"observacion.png\",\"observacionFin.png\",\"escala.png\",\"eje.png\",\"taco.png\",\"tacoFalso.png\",\"canaletaVacia.png\",\"molido.png\",\"molidoGrueso.png\",\"molidoMedio.png\",\"molidoFino.png\",\"fractura.png\",\"fractura3ptos.png\",\"vetilla.png\",\"vetilla3ptos.png\"]\r\n            const icons=[\"escala.png\",\"eje.png\",\"fractura3ptos.png\",\"vetilla3ptos.png\",\"molido.png\",\"molidoTV.png\"]\r\n            //const upClas=['geologia', 'geologia', \"geologia\",'geologia', 'geologia', \"geologia\",\"geologia\",\"geologia\",\"base\",\"base\", \"base\",\"base\",\"base\",\"geo\",\"geo\",\"geo\",\"geo\",\"geo\",\"geo\",\"geo\",\"geo\"]\r\n            const upClas=[\"base\",\"base\",\"geo\",\"geo\",\"geo\",\"geo\"]\r\n            for (let index = 0; index < names.length; index++) {\r\n                let tempClass = new Clase();\r\n                tempClass.showName=showNames[index];\r\n                tempClass.name=names[index];\r\n                tempClass.shape=tipes[index];\r\n                tempClass.lines=lines[index].toString();\r\n                tempClass.color=colors[index];\r\n                tempClass.view=true;\r\n                tempClass.icon=icons[index];\r\n                tempClass.upClass=upClas[index]\r\n                 \r\n                if(names[index]===\"CAN\"){\r\n                    tempClass.atribute='dist:';\r\n                }\r\n                if(names[index]===\"J3\" || names[index]===\"V3\"){\r\n                    tempClass.atribute='alfa:;beta:';\r\n                }\r\n                if(names[index]===\"M\"){\r\n                    tempClass.atribute='id:';\r\n                }\r\n                if(names[index]===\"MTV\"){\r\n                    tempClass.atribute='id:;frac:;obs:';\r\n                }\r\n                \r\n                this.clases.push(tempClass)     \r\n            }\r\n        }\r\n\r\n\r\n\r\n}","import DependencyGraph from '../model/dependency-graph.js';\n/**\n* This controller manages the dependencies between elements.\n*/\nexport default class Controller {\n    /**\n    * Constructs a controller\n    */\n    constructor() {\n        this.dependencyGraph = new DependencyGraph();\n        this.elements = new Map();\n    }\n    /**\n    * Clears all the elements from this controller.\n    */\n    clear() {\n        this.dependencyGraph = new DependencyGraph(); // TODO: implement clear method\n        this.elements.clear();\n    }\n    /**\n    * Adds an element to this controller.\n    */\n    add(element) {\n        this.dependencyGraph.add(element);\n        this.elements.set(element.id, element);\n    }\n    /**\n    * Removes an element from this controller.\n    */\n    remove(element) {\n        this.dependencyGraph.remove(element);\n        this.elements.delete(element.id);\n    }\n    /**\n    * Returns the element corresponding to the unique string identifier\n    */\n    get(id) {\n        return this.elements.get(id);\n    }\n    /**\n    * Updates this element and all of its dependents\n    */\n    update(element) {\n        let deps = this.dependencyGraph.getDependents(element);\n        for (let d of deps) {\n            d.update();\n        }\n    }\n}\n//# sourceMappingURL=controller.js.map","import Text from '../svg/text.js';\nimport Input from './input.js';\n/**\n* A button that when pressed fires an onclick event.\n*/\nexport default class HoverBox extends Input {\n    constructor(str) {\n        super();\n        this._xBound = null;\n        this._yBound = null;\n        // Create a text element\n        this.label = new Text(0, 1, str);\n        this.label.root.setAttribute('alignment-baseline', 'middle');\n        this.label.root.style.textAnchor = 'middle';\n        this.box = this.rectangle(0, -16, this.label.length * 2 + 16, 32);\n        this.box.root.setAttribute('rx', '2px');\n        this.box.fill = 'white';\n        this.box.stroke = 'black';\n        this.box.style.fillOpacity = '0.9';\n        this.label.x = this.box.x + this.box.width / 2;\n        this.appendChild(this.label);\n        this._x = this.box.x;\n        this._y = this.box.y;\n        this.root.setAttribute('visibility', 'hidden');\n    }\n    set x(value) {\n        if (this._xBound) {\n            if (value >= this._xBound - this.box.width)\n                value = this._xBound - this.box.width;\n        }\n        this._x = value;\n        this.box.x = this._x;\n        this.label.x = this.box.x + this.box.width / 2;\n    }\n    set y(value) {\n        if (this._yBound) {\n            if (value >= this._yBound - this.box.height)\n                value = this._yBound - this.box.height;\n            else if (value <= this.box.height)\n                value = this.box.height;\n        }\n        this._y = value;\n        this.box.y = this._y - 37;\n        this.label.y = this.box.y + this.box.height / 2;\n    }\n    setBounds(x, y) {\n        this._xBound = x;\n        this._yBound = y;\n    }\n    setText(str) {\n        this.label.contents = str;\n        this.label.x = this.box.x + this.box.width / 2;\n        this.label.y = this.box.y + this.box.height / 2;\n        this.box.width = this.label.length * 2 + 16;\n    }\n    updatePosition(x, y) {\n        this.x = x;\n        this.y = y;\n    }\n    showHoverBox() {\n        this.root.removeAttribute('visibility');\n    }\n    hideHoverBox() {\n        this.root.setAttribute('visibility', 'hidden');\n    }\n}\n//# sourceMappingURL=hover-box.js.map","/**\n* Parses and returns the SVG documented represented by the string argument.\n*/\nexport function parseSVG(svg) {\n    let parser = new DOMParser();\n    let doc = parser.parseFromString(svg, 'image/svg+xml');\n    return doc.documentElement;\n}\n//# sourceMappingURL=svg.js.map","import Ellipse from '../svg/ellipse.js';\nimport Group from '../svg/group.js';\nimport Text from '../svg/text.js';\n//Bostock had something about fitting text here, seems cool https://observablehq.com/@mbostock/fit-text-to-circle\n/**\n* A Node is a basic element with a position, radius, and text held within it.\n*/\nexport default class Node extends Group {\n    /**\n    * Constructs a Node element at the position (x,y) with radius r containing the string text\n    */\n    constructor(cx, cy, rx, ry, text) {\n        super();\n        this.depth = 0;\n        this._cx = cx;\n        this._cy = cy;\n        this._text = text;\n        this._rx = rx;\n        this._ry = ry;\n        this.edges = new Set();\n        this.nodeName = new Text(cx, cy, text);\n        this.nodeName.style.textAnchor = \"middle\";\n        this.nodeName.root.setAttribute(\"alignment-baseline\", \"middle\");\n        this.nodeEllipse = new Ellipse(cx, cy, rx, ry);\n        this.nodeEllipse.fill = '#f8f8f8';\n        this.children = [];\n        this.parents = [];\n        this.root.appendChild(this.nodeEllipse.root);\n        this.root.appendChild(this.nodeName.root);\n    }\n    /**\n    * Returns the number of edges coming out of this node.\n    */\n    edgeWeight() {\n        return this.edges.size;\n    }\n    /**\n    * Translates this node and all inner elements by x, y.\n    */\n    translate(x, y) {\n        this.nodeEllipse.cx += x;\n        this.nodeName.x += x;\n        this._cx += x;\n        this.nodeEllipse.cy += y;\n        this.nodeName.y += y;\n        this._cy += y;\n    }\n    /**\n    * Getter for the cx of this node.\n    */\n    get cx() {\n        return this._cx;\n    }\n    /**\n    * Getter for cy of this node\n    */\n    get cy() {\n        return this._cy;\n    }\n    set cx(cx) {\n        this._cx = cx;\n        this.nodeEllipse.cx = cx;\n        this.nodeName.x = cx;\n        this.edges.forEach(function (d) {\n            d.redraw();\n        });\n    }\n    /**\n    * Getter for cy of this node\n    */\n    set cy(cy) {\n        this._cy = cy;\n        this.nodeEllipse.cy = cy;\n        this.nodeName.y = cy;\n        this.edges.forEach(function (d) {\n            d.redraw();\n        });\n    }\n    /**\n    * Getter for rx of this node\n    */\n    get rx() {\n        return this._rx;\n    }\n    /**\n    * Getter for ry of this node\n    */\n    get ry() {\n        return this._ry;\n    }\n    /**\n    * Getter for the text of this node\n    */\n    get label() {\n        return this._text;\n    }\n    /**\n    * Setter for the text of this node\n    */\n    set label(text) {\n        this.nodeName.contents = text;\n        this._text = text;\n    }\n    /**\n    * Setter for rx of this node\n    */\n    set rx(rx) {\n        this._rx = rx;\n        this.nodeEllipse.rx = rx;\n    }\n    /**\n    * Setter for ry of this node\n    */\n    set ry(ry) {\n        this._ry = ry;\n        this.nodeEllipse.ry = ry;\n    }\n    /**\n    * Adds an edge to this node.\n    */\n    addEdge(edge) {\n        if (edge.nodeFrom == this) {\n            this.children.push(edge.nodeTo);\n        }\n        else {\n            this.depth = edge.nodeFrom.depth + 1;\n            this.parents.push(edge.nodeFrom);\n        }\n        this.edges.add(edge);\n    }\n}\n//# sourceMappingURL=node.js.map","// util\r\nimport { getURL } from '../util/file.js';\r\nimport { parseSVG } from '../util/svg.js';\r\n\r\n// basic elements\r\nimport Input from './input/input.js';\r\n\r\n// svg elements\r\nimport Element from './svg/element.js';\r\nimport SVG from './svg/svg.js';\r\nimport Group from './svg/group.js';\r\n\r\n// visual elements\r\nimport Icon from './visual/icon.js';\r\n\r\n// input elements\r\nimport Button from './input/button.js';\r\nimport CheckBox from './input/check-box.js';\r\nimport Control from './input/control.js';\r\nimport ControlCircle from './input/control-circle.js';\r\nimport RadioControl from './input/radio-control.js';\r\nimport DropdownControl from './input/dropdown-control.js';\r\nimport Scrubber from './input/scrubber.js';\r\nimport Slider, { SliderOptions } from './input/slider.js';\r\nimport HoverBox from './input/hover-box.js';\r\n\r\n// graph elements\r\nimport Node from '../elements/graph/node.js';\r\nimport Edge from '../elements/graph/edge.js';\r\nimport Graph, {GraphOptions} from '../elements/graph/graph.js';\r\n\r\n// map elements\r\nimport Map, { MapOptions } from '../elements/maps/map.js';\r\nimport { GeoJSON } from './maps/geo-json.js';\r\n\r\n// math elements\r\nimport Plot, { PlotOptions } from '../elements/math/plot.js';\r\n\r\ninterface InteractiveOptions {\r\n\twidth?:number,\r\n\theight?:number,\r\n\toriginX?:number,\r\n\toriginY?:number,\r\n\tborder?:boolean\r\n}\r\n\r\n/**\r\n* This class exposes the high level functionality of our library. Elements can\r\n* created and related together\r\n*\r\n* By default input elements are added to a SVG \"controls\" group and visual\r\n* elements are added to the \"background\" group. This ensures that controls will\r\n* alwaysbe focusable, despite the order in which elements are created.\r\n*/\r\nexport default class Interactive extends SVG {\r\n\r\n  /**\r\n  * The container element for this interactive.\r\n  */\r\n\tcontainer:HTMLElement;\r\n\r\n  /**\r\n  * The input groups sits on top of the background group and ensures that\r\n  * input elements will always visually appear above background elements.\r\n  */\r\n  input:Group;\r\n\r\n  /**\r\n  * The background is where everything that is not a primary control is drawn.\r\n  */\r\n  background:Group;\r\n\r\n\t/**\r\n\t* This group contains symbols that can be reused within this interactive.\r\n\t*/\r\n\tprivate symbols:Group;\r\n\r\n\t/**\r\n\t* Maps icon names to ids.\r\n\t*/\r\n\tprivate icons:Set<string>;\r\n\r\n  // internal variables\r\n  private _width:number;\r\n  private _height:number;\r\n  private _originX:number;\r\n  private _originY:number;\r\n\r\n  /**\r\n  * Constructs a new interactive object and appends it into the DOM. If the\r\n  * provided argument is an HTMLElement appends the interactive within that\r\n  * element. If the provided a value is a string, appends the interactive within\r\n  * the HTML element with the corresponding ID. If no element is found throws an\r\n  * error.\r\n  */\r\n  constructor( value:string | HTMLElement, options:InteractiveOptions = {} ) {\r\n    super();\r\n\r\n    // If the user passes in a string identifier check to see if such an\r\n    // element exists in the current document.\r\n    if (typeof value == \"string\") {\r\n      this.container = document.getElementById(value);\r\n      if( this.container === null || this.container === undefined ) {\r\n        throw new Error(`There is no HTML element with the id: ${value}`);\r\n      }\r\n    } else {\r\n      this.container = value;\r\n    }\r\n\r\n    // create and append the root svg element and group elements\r\n    this.container.appendChild(this.root);\r\n    this.root.classList.add('interactive');\r\n\r\n\t\t// Have to create and manually append because overridden append child will\r\n\t\t// throw an error.\r\n\t\tthis.background = new Group();\r\n\t\tthis.input = new Group();\r\n\t\tthis.root.appendChild(this.background.root);\r\n\t\tthis.root.appendChild(this.input.root)\r\n\r\n\t\t// default configuration options\r\n    let defaultOptions:InteractiveOptions = {\r\n      originX:0,\r\n      originY:0,\r\n      width:600,\r\n      height:300,\r\n      border:false\r\n    };\r\n\r\n\t\t// combine the default configuration with the user's configuration\r\n    let config = { ...defaultOptions, ...options};\r\n\t\tthis._originX = config.originX;\r\n\t\tthis._originY = config.originY;\r\n\t\tthis._width = config.width;\r\n\t\tthis._height = config.height;\r\n\r\n    this.root.setAttribute('width', this._width.toString());\r\n    this.root.setAttribute('height', this._height.toString());\r\n    this.setViewBox( -this._originX, -this._originY, this._width, this._height );\r\n    this.window = false;\r\n\t\tthis.border = config.border;\r\n\r\n    // prevent the default behavior of selecting text\r\n    this.container.addEventListener('mousedown', function( event:MouseEvent ) {\r\n      event.preventDefault();\r\n    });\r\n  }\r\n\r\n  /**\r\n  * Sets the width of this interactive area.\r\n  */\r\n  set width( value:number ){\r\n    this._width = value;\r\n    this.root.setAttribute('width', value.toString());\r\n    this.setViewBox( -this._originX, -this._originY, this._width, this._height );\r\n  }\r\n\r\n  /**\r\n  * Returns the width of this interactive area.\r\n  */\r\n  get width():number {\r\n    return this._width;\r\n  }\r\n\r\n  /**\r\n  * Sets the height of this interactive area.\r\n  */\r\n  set height( value:number ){\r\n    this._height = value;\r\n    this.root.setAttribute('height', value.toString());\r\n    this.setViewBox( -this._originX, -this._originY, this._width, this._height );\r\n  }\r\n\r\n  /**\r\n  * Returns the height of this interactive area.\r\n  */\r\n  get height():number {\r\n    return this._height;\r\n  }\r\n\r\n  /**\r\n  * Sets the x coordinate of the origin.\r\n  */\r\n  set originX( value:number) {\r\n    this._originX = value;\r\n    this.setViewBox( -this._originX, -this._originY, this._width, this._height );\r\n  }\r\n\r\n  /**\r\n  * Returns the value of the x-coordinate of the origin.\r\n  */\r\n  get originX():number {\r\n    return this._originX;\r\n  }\r\n\r\n  /**\r\n  * Sets the y coordinate of the origin.\r\n  */\r\n  set originY( value:number) {\r\n    this._originY = value;\r\n    this.setViewBox( -this._originX, -this._originY, this._width, this._height );\r\n  }\r\n\r\n  /**\r\n  * Returns the value of the x-coordinate of the origin.\r\n  */\r\n  get originY():number {\r\n    return this._originY;\r\n  }\r\n\r\n  /**\r\n  * If set to true, styles the interactive to float on top of the background.\r\n  * This feature is good for interactives where elements can be dragged out of\r\n  * the bounds of the container element.\r\n  */\r\n  set window( value:boolean ) {\r\n    if( value ){\r\n      this.root.classList.add('window');\r\n    } else {\r\n      this.root.classList.remove('window');\r\n    }\r\n  }\r\n\r\n  /**\r\n  * If set to true, draws a minimal border around the interactive.\r\n  */\r\n  set border( value:boolean ) {\r\n    if( value ){\r\n      this.root.classList.add('border');\r\n    } else {\r\n      this.root.classList.remove('border');\r\n    }\r\n  }\r\n\r\n  /**\r\n  * Returns the minimum x-coordinate of this interactive.\r\n  */\r\n  get minX() : number {\r\n    return -this.originX;\r\n  }\r\n\r\n  /**\r\n  * Returns the minimum y-coordinate of this interactive.\r\n  */\r\n  get minY() : number {\r\n    return -this.originY;\r\n  }\r\n\r\n  /**\r\n  * Returns the maximum x-coordinate of this interactive.\r\n  */\r\n  get maxX() : number {\r\n    return this.minX + this._width;\r\n  }\r\n\r\n  /**\r\n  * Returns the maximum y-coordinate of this interactive.\r\n  */\r\n  get maxY() : number {\r\n    return this.minY + this._height;\r\n  }\r\n\r\n  /**\r\n  * Appends the element within the interactive. If the element is an \"input\"\r\n  * element, places the element in the input group so that visually the element\r\n  * is always placed above other graphical elements.\r\n  */\r\n  appendChild<T extends Element>( child:T ) : T {\r\n    if( child instanceof Input ) {\r\n      this.input.appendChild(child);\r\n    } else {\r\n      this.background.appendChild(child);\r\n    }\r\n    return child;\r\n  }\r\n\r\n  /**\r\n  * Creates a nested interactive within this interactive\r\n  */\r\n  interactive( x:number, y:number, options:InteractiveOptions = {} ) : Interactive {\r\n    let obj = new Interactive(this.id, options);\r\n\t\t// TODO: standardize this\r\n    obj.root.setAttribute('x', x.toString());\r\n    obj.root.setAttribute('y', y.toString());\r\n    return obj;\r\n  }\r\n\r\n  /**\r\n  * Creates a checkbox input at the position (x,y) within this interactive.\r\n  */\r\n  button( x:number, y:number, label:string ) : Button {\r\n    return this.appendChild(new Button(x, y, label));\r\n  }\r\n\r\n  /**\r\n  * Creates a checkbox input at the position (x,y) within this interactive.\r\n  */\r\n  checkBox( x:number, y:number, label:string, value:boolean ) : CheckBox {\r\n    return this.appendChild( new CheckBox(x, y, label, value));\r\n  }\r\n\r\n\t/**\r\n\t* Creates an icon at the position (x,y) with the provided dimensions.\r\n\t*/\r\n  icon( x:number, y:number, width:number, height:number, name:string, options:{\r\n\t\tbaseURL?:string\r\n\t} = {}) : Icon {\r\n\r\n\t\tlet baseURL : string;\r\n\t\tif( options.baseURL === undefined ) {\r\n\t\t\tbaseURL = 'resources/icons/';\r\n\t\t} else {\r\n\t\t\tbaseURL = options.baseURL;\r\n\t\t}\r\n\r\n\t\t// check to see if the symbols group has been initialized\r\n\t\tif( this.symbols === undefined ) {\r\n\t\t\tthis.symbols = new Group();\r\n\t\t\tthis.root.appendChild(this.symbols.root);\r\n\t\t\tthis.icons = new Set();\r\n\t\t}\r\n\r\n    // create a new icon element\r\n    let icon = new Icon(x,y,width,height);\r\n    this.appendChild(icon);\r\n\r\n    // check to see if we have loaded this icon before\r\n\t\tlet id = `${this.id}-${name}`\r\n    if( !this.icons.has(id) ) {\r\n\r\n\t\t\t// TODO: maybe we should only request one SVG file with that defines many\r\n\t\t\t// icon symbols. Then add the symbols as needed from, rather than have\r\n\t\t\t// many network requests for symbols. Or maybe the user could add the\r\n\t\t\t// symbols to their web page themselves.\r\n\t\t\tlet temp = this;\r\n      getURL(`${baseURL}${name}.svg`).then(function(response){\r\n\r\n        let symbolSVG = parseSVG(response);\r\n\t\t\t\tlet symbol = temp.symbols.symbol();\r\n\t\t\t\tsymbol.root.id = id;\r\n\t\t\t\tsymbol.viewBox = symbolSVG.getAttribute('viewBox');\r\n        while (symbolSVG.childNodes.length > 0) {\r\n            symbol.root.appendChild(symbolSVG.childNodes[0]);\r\n        }\r\n\t\t\t\ticon.href = `#${id}`;\r\n\r\n      }).catch(function(error){\r\n        throw error;\r\n      });\r\n    } else {\r\n\t\t\ticon.href = `#${id}`;\r\n\t\t}\r\n\r\n\t\tthis.icons.add(id);\r\n    return icon;\r\n\r\n  }\r\n\r\n  /**\r\n  * Creates a checkbox input at the position (x,y) within this interactive.\r\n  */\r\n  radioControl(x:number, y:number, labels: string[], index: number = 0) : RadioControl {\r\n    return this.appendChild(new RadioControl(x, y, labels, index));\r\n  }\r\n\r\n\t/**\r\n\t* Creates a dropdown input at the position (x,y) within this interactive.\r\n\t*/\r\n\tdropdownControl(x: number, y: number, optionLabels: string[], defaultIndex: number) : DropdownControl {\r\n\t\treturn this.appendChild(new DropdownControl(x, y, optionLabels, defaultIndex));\r\n\t}\r\n\r\n  /**\r\n  * Creates a control point within this interactive at the position (x,y).\r\n  */\r\n  control( x:number, y:number ) : Control {\r\n    return this.appendChild(new Control( x, y));\r\n  }\r\n\r\n  /**\r\n  * Creates a control point within this interactive at the position (x,y).\r\n  */\r\n  controlCircle( x:number, y:number ) : Control {\r\n    return this.appendChild(new ControlCircle( x, y));\r\n  }\r\n\r\n  /**\r\n  * Creates a plot within this interactive at the position (x,y).\r\n  */\r\n  plot(fn:(x:number)=>number, options:PlotOptions ) : Plot {\r\n    return this.appendChild(new Plot(fn, options));\r\n  }\r\n\r\n  /**\r\n  * Creates a graph element within this interactive\r\n  */\r\n  graph(options:GraphOptions) : Graph {\r\n    return this.appendChild(new Graph(options));\r\n  }\r\n\r\n  hoverBox(str: string) : HoverBox{\r\n    return this.appendChild(new HoverBox(str));\r\n  }\r\n\r\n  /**\r\n  * Creates a graph element within this interactive\r\n  */\r\n  map(externalData: GeoJSON,featureName:string = null,options: MapOptions = {}) : Map {\r\n   let map = new Map(featureName,externalData,options);\r\n   let ret = this.appendChild(map);\r\n   let bbox = map.root.getBBox();\r\n   map.setViewBox( bbox.x, bbox.y, bbox.width, bbox.height);\r\n   return ret;\r\n   }\r\n\r\n  /**\r\n  * Creates a slider input within this interactive\r\n  */\r\n  slider(x: number, y: number, options:SliderOptions) : Slider {\r\n    return this.appendChild(new Slider(x, y, options));\r\n  }\r\n\r\n  /**\r\n  * Creates a scrubber with a play and pause button at the position (x,y).\r\n  */\r\n  scrubber(x:number, y:number, options:SliderOptions ) : Scrubber {\r\n    return this.appendChild(new Scrubber( x, y, options));\r\n  }\r\n\r\n  /**\r\n  * Creates a node within this interactive.\r\n  */\r\n  node( x:number, y:number, rx: number, ry:number, contents:string ) : Node {\r\n    return this.appendChild(new Node( x, y, rx, ry, contents));\r\n  }\r\n\r\n  /**\r\n  * Creates an edge connecting two nodes within this interactive.\r\n  */\r\n  edge (nodeFrom: Node, nodeTo: Node, directed: boolean) : Edge{\r\n    return this.appendChild(new Edge(nodeFrom, nodeTo, directed));\r\n  }\r\n\r\n  /**\r\n  *\r\n  */\r\n  async loadSVG( url:string ) : Promise<Group> {\r\n    let group = new Group();\r\n    this.appendChild(group);\r\n    getURL(url).then(function(response){\r\n      group.root.appendChild(parseSVG(response));\r\n    }).catch(function(error){\r\n      throw error;\r\n    });\r\n    return group;\r\n  }\r\n}\r\n","import Line from '../svg/line.js';\n//Make the function static and extend from Line\n/**\n* Creates a line connecting two edges, with an arrow if directed.\n*/\nexport default class Edge extends Line {\n    /**\n    * Constructs a line frmo the edge of the two circle elements.\n    */\n    constructor(nodeFrom, nodeTo, directed) {\n        let arr = Edge.calculateLinePosition(nodeFrom, nodeTo);\n        let arr2 = Edge.calculateLinePositionEllipse(nodeFrom, nodeTo);\n        if (directed && !Number.isNaN(arr[0])) {\n            super(arr[0], arr[1], arr[2], arr[3]);\n        }\n        else {\n            super(nodeFrom.cx, nodeFrom.cy, nodeTo.cx, nodeTo.cy);\n        }\n        this.directed = directed;\n        this.nodeFrom = nodeFrom;\n        this.nodeTo = nodeTo;\n    }\n    redraw() {\n        this.x1 = this.nodeFrom.cx;\n        this.y1 = this.nodeFrom.cy;\n        this.x2 = this.nodeTo.cx;\n        this.y2 = this.nodeTo.cy;\n    }\n    /**\n    * Function to find where the line connecting two circles should go. return an Array\n    * containing [x1, y1, x2, y2] of the line.\n    */\n    static calculateLinePosition(nodeFrom, nodeTo) {\n        let y1 = nodeFrom.nodeEllipse.cy;\n        let y2 = nodeTo.nodeEllipse.cy;\n        let x1 = nodeFrom.nodeEllipse.cx;\n        let x2 = nodeTo.nodeEllipse.cx;\n        let deltaY = y2 - y1;\n        let deltaX = x2 - x1;\n        let L = Math.sqrt((deltaX * deltaX) + (deltaY * deltaY));\n        let r1Lx = nodeFrom.nodeEllipse.rx / L * deltaX;\n        let r1Ly = nodeFrom.nodeEllipse.rx / L * deltaY;\n        let r2Lx = nodeTo.nodeEllipse.rx / L * deltaX;\n        let r2Ly = nodeTo.nodeEllipse.rx / L * deltaY;\n        let y1Prime = y1 + r1Ly;\n        let y2Prime = y2 - r2Ly;\n        let x1Prime = x1 + r1Lx;\n        let x2Prime = x2 - r2Lx;\n        return new Array(x1Prime, y1Prime, x2Prime, y2Prime);\n    }\n    static calculateLinePositionEllipse(nodeFrom, nodeTo) {\n        let newX = nodeFrom.cx - nodeTo.cx;\n        let newY = nodeFrom.cy - nodeTo.cy;\n        let theta = Math.atan(newY / newX);\n        // console.log(theta);\n        let cosx1 = Math.cos(theta);\n        let siny1 = Math.sin(theta);\n        let r2 = (nodeTo.cx * nodeTo.cy) / Math.sqrt(Math.pow(nodeTo.cx, 2) * Math.pow(cosx1, 2) + Math.pow(nodeTo.cy, 2) * Math.pow(siny1, 2));\n        let r1 = (nodeFrom.cx * nodeFrom.cy) / Math.sqrt(nodeFrom.cx * Math.pow(cosx1, 2) + nodeFrom.cy * Math.pow(siny1, 2));\n        // let lineX1 = r1 * cosx1\n        // console.log(r2);\n        return new Array(r2 * cosx1, r2 * siny1);\n    }\n}\n//# sourceMappingURL=edge.js.map","import BaseElement from '../base-element.js';\n/**\n* This class defines the basic shape for all SVG elements within our library.\n*/\nexport default class Element extends BaseElement {\n    // TODO: tranform object/property?\n    /**\n    * Constructs the elements and adds it into the current controller.\n    */\n    constructor(root) {\n        super();\n        // store the root element and set the id attribute\n        this.root = root;\n        this.root.id = this.id;\n        this.root.classList.add(this.constructor.name.toLowerCase());\n        // make the root's style declaration available\n        this.style = this.root.style;\n        this.classList = this.root.classList;\n    }\n    /**\n    * Sets the provided attribute with the value. WARNING: Elements are given\n    * a unique id by default. Changing the id may have unintended consequences.\n    * Similarily, the style and class attributes should be accessed through the\n    * properties \"style\" and \"classList\".\n    */\n    setAttribute(name, value) {\n        this.root.setAttribute(name, value);\n        return this;\n    }\n    /**\n    * Returns the value associated with the attribute.\n    */\n    getAttribute(name) {\n        return this.root.getAttribute(name);\n    }\n    /**\n    * Appends the element as a child within this element.\n    */\n    appendChild(child) {\n        this.root.appendChild(child.root);\n        return child;\n    }\n    /**\n    * Inserts the element before the first child within this element.\n    */\n    prependChild(child) {\n        this.root.prepend(child.root);\n        return child;\n    }\n    /**\n    * Returns true if this element contains the argument element.\n    */\n    contains(element) {\n        return this.root.contains(element.root);\n    }\n    /**\n    * Removes this element from the DOM and from the Element controller.\n    */\n    remove() {\n        BaseElement.controller.remove(this);\n        this.root.remove();\n    }\n    /**\n    * Removes all child elements from this element.\n    */\n    clear() {\n        let child;\n        while (child = this.root.firstChild) {\n            BaseElement.controller.get(child.id).remove();\n        }\n    }\n    /**\n    * Returns the bounding box of this element. Note, this is different from the\n    * getBoundingClientRect method since the bounding box is affected by the\n    * current viewPort.\n    *\n    * If this element's root is not a SVGGraphics element as is the case for the\n    * marker, title, and more element, then null is returned instead of a DOMRect.\n    */\n    getBoundingBox() {\n        if (this.root instanceof SVGGraphicsElement) {\n            return this.root.getBBox();\n        }\n        else {\n            return null;\n        }\n    }\n}\n//# sourceMappingURL=element.js.map","import { Component, OnInit } from '@angular/core';\r\nimport { HomeService } from '../../home/home/home.service';\r\nimport { User } from '../../home/home/home-inbterfaces';\r\n\r\n@Component({\r\n  selector: 'app-navbar',\r\n  templateUrl: './navbar.component.html',\r\n  styleUrls: ['./navbar.component.css']\r\n})\r\nexport class NavbarComponent implements OnInit {\r\n  \r\n  get user(){\r\n    return this.homeService.user;\r\n  }\r\n\r\n  constructor( private homeService:HomeService) { }\r\n  \r\n  \r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<ul>\r\n    <img src=\"/assets\\images\\logograiph.png\" alt=\"\"> \r\n    <!--<li><a routerLink=\"/tagger\">Tagger</a></li> -->\r\n    <!-- <li><a routerLink=\"/analisis\">Anlisis</a></li> -->\r\n    <!-- <li><a routerLink=\"/clustering\">Clusterizacin</a></li> -->\r\n    <!-- <li><a routerLink=\"/tagger\">Clusterizar</a></li> -->\r\n    <!-- <li *ngIf=\"user.type===1||user.type===0\"><a routerLink=\"/admin\">Administrador</a></li> -->\r\n    <span style=\"float: right;\">{{user.username}}</span>\r\n</ul>","import Input from './input.js';\nimport CheckBox from './check-box.js';\n/**\n*  Radio Buttons with labels. Only one of the checkboxes will be checked at any given time.\n*/\nexport default class RadioControl extends Input {\n    /*\n    * labels: the labels for the radio buttons\n    * x: x position of control\n    * y: y position of the control\n    * index: the starting button to be highlighted\n    */\n    constructor(x, y, labels, index = 0) {\n        if (labels === undefined || labels.length == 0) {\n            throw new Error('Labels must not be empty');\n        }\n        super();\n        this.root.setAttribute(\"transform\", `translate(${x},${y})`);\n        this.index = index;\n        let counter = 0;\n        this.list = [];\n        let rc = this;\n        labels.forEach((element, i) => {\n            let checkbox = new CheckBox(0, counter, element, false);\n            if (i == index) {\n                checkbox.value = true;\n            }\n            checkbox.box.root.setAttribute('rx', '8px');\n            checkbox.box.root.onmousedown = function () {\n                rc.handleMouseDown(i);\n                checkbox.value = true;\n                rc.index = i;\n                rc.onchange();\n            };\n            this.root.appendChild(checkbox.root);\n            this.list.push(checkbox);\n            counter += 24;\n        });\n    }\n    get value() {\n        return this.list[this.index].label.contents;\n    }\n    /*\n    * returns the text of the currently selected button\n    */\n    getCurrentValue() {\n        return this.list[this.index].label;\n    }\n    /*\n    * when a button is selected, deselect all others\n    */\n    handleMouseDown(index) {\n        this.list.forEach(element => {\n            element.value = false;\n        });\n    }\n}\n//# sourceMappingURL=radio-control.js.map","import ControlCircle from './control-circle.js';\nimport Input from './input.js';\n/**\n* A horizontal slider is an object that allows for a control to be moved along\n* a user- defined range. The slider has a minimum value and a maximum value\n* which default to the range [0, 1].\n*/\nexport default class Slider extends Input {\n    /**\n    * Constructs the slider at the position (x,y). The leftmost edge of the line\n    * is placed at this location.\n    */\n    constructor(x, y, options) {\n        super();\n        let width;\n        let value;\n        this.x = x;\n        this.y = y;\n        options.width ? width = options.width : width = 100;\n        options.value ? value = options.value : value = 0;\n        options.min ? this._min = options.min : this._min = 0;\n        options.max ? this._max = options.max : this._max = 1;\n        this._line = this.line(x, y, x + width, y);\n        this._line.root.style.strokeWidth = '1.5';\n        this._line.root.style.strokeLinecap = 'round';\n        this._control = new ControlCircle(x + value, y);\n        this._control.constrainWithinBox(x, y, x + width, y);\n        this._control.point.r -= 1.5;\n        this._control.handle.r -= 2;\n        this._control.handle.style.strokeWidth = '2';\n        this.appendChild(this._control);\n        this.value = value;\n        let slider = this;\n        let fn = slider._control.onchange;\n        slider._control.onchange = function () {\n            fn();\n            slider.onchange();\n        };\n    }\n    /**\n    * Returns the width of the display line\n    */\n    get width() {\n        return this._line.x2 - this._line.x1;\n    }\n    /**\n    * Sets the width of the display line\n    */\n    set width(width) {\n        this._line.x2 = this._line.x1 + width;\n        this._control.constrainWithinBox(this._line.x1, this._line.y1, this._line.x2, this._line.y2);\n    }\n    /**\n    * Returns the value currently represented by this slider.\n    */\n    get value() {\n        return (this._control.x - this._line.x1) / this.width * (this.range) + this._min;\n    }\n    /**\n    * Sets the value currently represented by this slider.\n    */\n    set value(n) {\n        this._control.x = this._line.x1 + (n - this._min) / this.range * (this.width);\n    }\n    set step(value) {\n        let line = this._line;\n        this._control.constrain = function (oldPosition, newPosition) {\n            let x = newPosition.x;\n            let y = newPosition.y;\n            // constrain to line\n            if (x < line.x1) {\n                x = line.x1;\n            }\n            if (y < line.y1) {\n                y = line.y1;\n            }\n            if (x > line.x2) {\n                x = line.x2;\n            }\n            if (y > line.y2) {\n                y = line.y2;\n            }\n            // constrain to step size\n            x = Math.floor(x / 50) * 50;\n            return { x: x, y: y };\n        };\n    }\n    /**\n    * Returns the minimum possible value of the range.\n    */\n    get min() {\n        return this._min;\n    }\n    /**\n    * Sets the minimum possible value of the range.\n    */\n    set min(value) {\n        this._min = value;\n    }\n    /**\n    * Returns the maximum possible value of the range.\n    */\n    get max() {\n        return this._max;\n    }\n    /**\n    * Returns the maximum possible value of the range.\n    */\n    set max(value) {\n        this._max = value;\n    }\n    /**\n    * Returns the length of the range represented by this slider.\n    */\n    get range() {\n        return this.max - this.min;\n    }\n}\n//# sourceMappingURL=slider.js.map","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./export-to-csv\"));\n//# sourceMappingURL=index.js.map","export interface ImageElement{\r\n    imgURL:any,\r\n    name:String,\r\n  }\r\n\r\n  export class ImageClass{\r\n    imgURL:any;\r\n    name:string;\r\n    width:string;\r\n    height:string;\r\n  }\r\n  ","import { CoreAttributes } from './element.js';\r\nimport Shape, { ShapeAttributes } from './shape.js';\r\n\r\ntype RectangleAttributes = 'rx' | 'ry';\r\n\r\n/**\r\n* A rectangle is a basic element with a position, width, and height. The\r\n* position refers to the top left corner of the rectangle\r\n*/\r\nexport default class Rectangle extends Shape {\r\n\r\n  // make the type of the root to be more specific\r\n  root: SVGRectElement;\r\n\r\n  /**\r\n  * Constructs a rectangle element at the position (x,y)\r\n  */\r\n  constructor( x:number, y:number, width:number, height:number ) {\r\n    let rect = document.createElementNS( 'http://www.w3.org/2000/svg', 'rect');\r\n    rect.setAttributeNS(null, 'x', x.toString());\r\n    rect.setAttributeNS(null, 'y', y.toString());\r\n    rect.setAttributeNS(null, 'width', width.toString());\r\n    rect.setAttributeNS(null, 'height', height.toString());\r\n    super(rect);\r\n  }\r\n\r\n  // comment inherited from base class\r\n  setAttribute(name: RectangleAttributes | ShapeAttributes | CoreAttributes, value: string): Rectangle {\r\n    this.root.setAttribute(name,value);\r\n    return this;\r\n  }\r\n\r\n  // comment inherited from base class\r\n  getAttribute(name: RectangleAttributes | ShapeAttributes | CoreAttributes): string {\r\n    return this.root.getAttribute(name);\r\n  }\r\n\r\n  /**\r\n  * Returns the x position of the rectangle\r\n  */\r\n  get x() : number {\r\n    return this.root.x.baseVal.value;\r\n  }\r\n\r\n  /**\r\n  * Sets the x position of the rectangle\r\n  */\r\n  set x( n:number ) {\r\n    this.root.x.baseVal.value = n;\r\n  }\r\n\r\n  /**\r\n  * Returns the y position of the rectangle\r\n  */\r\n  get y():number {\r\n    return this.root.y.baseVal.value;\r\n  }\r\n\r\n  /**\r\n  * Sets the y position of the rectangle\r\n  */\r\n  set y( n:number){\r\n    this.root.y.baseVal.value = n;\r\n  }\r\n\r\n  /**\r\n  * Returns the width of the rectangle\r\n  */\r\n  get width() : number {\r\n    return this.root.width.baseVal.value;\r\n  }\r\n\r\n  /**\r\n  * Sets the width of the rectangle\r\n  */\r\n  set width( n:number ) {\r\n    this.root.width.baseVal.value = n;\r\n  }\r\n\r\n  /**\r\n  * Returns the height of the rectangle\r\n  */\r\n  get height() : number {\r\n    return this.root.height.baseVal.value;\r\n  }\r\n\r\n  /**\r\n  * Sets the height of the rectangle\r\n  */\r\n  set height( n:number ) {\r\n    this.root.height.baseVal.value = n;\r\n  }\r\n\r\n  /*\r\n  * Translates the position of the rectangle to a new position from its current\r\n  * position. TODO: this is inconsistent with other translate methods within\r\n  * the elements. Probably best to conform to how SVG implements translate with\r\n  * the transform attribute, and then implement a move method or something.\r\n  */\r\n  translate(x:number, y:number){\r\n    this.root.x.baseVal.value = this.root.x.baseVal.value + x;\r\n    this.root.y.baseVal.value = this.root.y.baseVal.value + y;\r\n  }\r\n\r\n  /**\r\n  * Returns the fill style of this rectangle\r\n  */\r\n  get fill() : string{\r\n    return this.root.style.fill;\r\n  }\r\n\r\n  /**\r\n  * Sets the fill style of this rectangle\r\n  */\r\n  set fill(s:string){\r\n    this.root.style.fill = s;\r\n  }\r\n\r\n  /**\r\n  * Returns the stroke style of this rectangle\r\n  */\r\n  get stroke() : string{\r\n    return this.root.style.stroke;\r\n  }\r\n\r\n  /**\r\n  * Sets the stroke style of this rectangle\r\n  */\r\n  set stroke(s: string){\r\n    this.root.style.stroke = s;\r\n  }\r\n}\r\n","import Group from '../svg/group.js';\n/**\n* An object that takes in user input in the form of user events.\n*/\nexport default class Input extends Group {\n    /**\n    * Constructs a new input group.\n    */\n    constructor() {\n        super();\n        // set the default behavior of the onchange function\n        let input = this;\n        input._onchange = function () {\n            input.updateDependents();\n        };\n    }\n    /**\n    * This function is called whenever the state of an input element changes. The\n    * default behavior of this function is to update the dependents of this\n    * element. WARNING: changing this function can have unintented side effects.\n    */\n    set onchange(func) {\n        this._onchange = func;\n    }\n    get onchange() {\n        return this._onchange;\n    }\n}\n//# sourceMappingURL=input.js.map","import Shape from './shape.js';\n/**\n* A circle is a basic geometric element with a position and radius.\n*\n* Geometric Properties:\n*   - cx\n*   - cy\n*   - r\n*/\nexport default class Circle extends Shape {\n    /**\n    * Constructs a rectangle element at the position (x,y)\n    */\n    constructor(cx, cy, r) {\n        let circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');\n        circle.setAttributeNS(null, 'cx', cx.toString());\n        circle.setAttributeNS(null, 'cy', cy.toString());\n        circle.setAttributeNS(null, 'r', r.toString());\n        super(circle);\n    }\n    /**\n    * Returns the radius of this circle.\n    */\n    get r() {\n        return this.root.r.baseVal.value;\n    }\n    /**\n    * Sets the value of the radius of this circle.\n    */\n    set r(value) {\n        this.root.r.baseVal.value = value;\n    }\n    /**\n    * Returns the x position of the rectangle\n    */\n    get cx() {\n        return this.root.cx.baseVal.value;\n    }\n    /**\n    * Sets the x position of the rectangle\n    */\n    set cx(n) {\n        this.root.cx.baseVal.value = n;\n    }\n    /**\n    * Returns the y position of the rectangle\n    */\n    get cy() {\n        return this.root.cy.baseVal.value;\n    }\n    /**\n    * Sets the y position of the rectangle\n    */\n    set cy(n) {\n        this.root.cy.baseVal.value = n;\n    }\n    getPath() {\n        throw new Error(\"Method not implemented.\");\n    }\n    /**\n    * Translates the circle to a new position by changing the x and y attributes.\n    */\n    //TODO: Change\n    translate(x, y) {\n        this.root.cx.baseVal.value = this.root.cx.baseVal.value + x;\n        this.root.cy.baseVal.value = this.root.cy.baseVal.value + y;\n    }\n    /**\n    * Returns the fill style of this circle\n    */\n    get fill() {\n        return this.root.style.fill;\n    }\n    /**\n    * Sets the fill style of this circle\n    */\n    set fill(s) {\n        this.root.style.fill = s;\n    }\n    /**\n    * Returns the stroke style of this circle\n    */\n    get stroke() {\n        return this.root.style.stroke;\n    }\n    /**\n    * Sets the stroke style of this circle\n    */\n    set stroke(s) {\n        this.root.style.stroke = s;\n    }\n}\n//# sourceMappingURL=circle.js.map","import Element from './element.js';\nexport default class Use extends Element {\n    constructor(x, y, width, height) {\n        let element = document.createElementNS('http://www.w3.org/2000/svg', 'use');\n        element.setAttributeNS(null, 'x', x.toString());\n        element.setAttributeNS(null, 'y', y.toString());\n        element.setAttributeNS(null, 'width', width.toString());\n        element.setAttributeNS(null, 'height', height.toString());\n        super(element);\n    }\n    get href() {\n        return this.root.href.baseVal;\n    }\n    set href(value) {\n        this.root.href.baseVal = value;\n    }\n    /**\n  * Returns the x position of the rectangle\n  */\n    get x() {\n        return this.root.x.baseVal.value;\n    }\n    /**\n    * Sets the x position of the rectangle\n    */\n    set x(n) {\n        this.root.x.baseVal.value = n;\n    }\n    /**\n    * Returns the y position of the rectangle\n    */\n    get y() {\n        return this.root.y.baseVal.value;\n    }\n    /**\n    * Sets the y position of the rectangle\n    */\n    set y(n) {\n        this.root.y.baseVal.value = n;\n    }\n    /**\n    * Returns the width of the rectangle\n    */\n    get width() {\n        return this.root.width.baseVal.value;\n    }\n    /**\n    * Sets the width of the rectangle\n    */\n    set width(n) {\n        this.root.width.baseVal.value = n;\n    }\n    /**\n    * Returns the height of the rectangle\n    */\n    get height() {\n        return this.root.height.baseVal.value;\n    }\n    /**\n    * Sets the height of the rectangle\n    */\n    set height(n) {\n        this.root.height.baseVal.value = n;\n    }\n}\n//# sourceMappingURL=use.js.map","import Circle from './circle.js';\nimport Ellipse from './ellipse.js';\nimport Line from './line.js';\nimport Path from './path.js';\nimport Polygon from './polygon.js';\nimport Rectangle from './rectangle.js';\nimport Element from './element.js';\nimport Description from './description.js';\nimport MetaData from './meta-data.js';\nimport Title from './title.js';\nexport default class ClipPath extends Element {\n    constructor() {\n        let clipPath = document.createElementNS('http://www.w3.org/2000/svg', 'clipPath');\n        super(clipPath);\n    }\n    circle(cx, cy, r) {\n        return this.appendChild(new Circle(cx, cy, r));\n    }\n    ellipse(cx, cy, rx, ry) {\n        return this.appendChild(new Ellipse(cx, cy, rx, ry));\n    }\n    line(x1, y1, x2, y2) {\n        return this.appendChild(new Line(x1, y1, x2, y2));\n    }\n    path(d) {\n        return this.appendChild(new Path(d));\n    }\n    polygon(points) {\n        return this.appendChild(new Polygon(points));\n    }\n    rectangle(x, y, width, height) {\n        return this.appendChild(new Rectangle(x, y, width, height));\n    }\n    description() {\n        return this.appendChild(new Description());\n    }\n    metadata() {\n        return this.appendChild(new MetaData());\n    }\n    title() {\n        return this.appendChild(new Title());\n    }\n}\n//# sourceMappingURL=clip-path.js.map","import { CommonModule } from '@angular/common';\r\nimport  { NgModule } from '@angular/core';\r\nimport { DrawsComponent } from './draws/draws.component';\r\nimport { ImagebarComponent } from './imagebar/imagebar.component';\r\nimport { ImportsComponent } from './imports/imports.component';\r\nimport { MainComponent } from './main/main.component';\r\nimport { SidebarComponent } from './sidebar/sidebar.component';\r\nimport { NavbarComponent } from './navbar/navbar.component';\r\nimport { TaggerRoutingModule } from './tagger-routing.module';\r\n\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        TaggerRoutingModule\r\n    ],\r\n    exports: [\r\n        NavbarComponent\r\n    ],\r\n    declarations: [\r\n        DrawsComponent,\r\n        ImagebarComponent,\r\n        ImportsComponent,\r\n        MainComponent,\r\n        SidebarComponent,\r\n        NavbarComponent\r\n    ],\r\n    providers: [],\r\n})\r\nexport class TaggerModule { }","import LinkedList from './linked-list.js';\n/**\nA dependency graph models relationships between nodes. The graph is directed and asyclic, throwing a circular dependency exception if circular dependencies are added.\n*/\nexport default class DependencyGraph {\n    /**\n    Constructs an empty dependency graph.\n    */\n    constructor() {\n        this.relationships = new Map();\n        this._size = 0;\n    }\n    /***\n    Adds a node into the dependency graph. If the node already exists within the graph, does nothing.\n    */\n    add(node) {\n        if (!this.contains(node)) {\n            this.relationships.set(node, new Set());\n            this._size++;\n        }\n    }\n    /**\n    Returns true if the node exists within the dependency graph.\n    */\n    contains(node) {\n        return this.relationships.has(node);\n    }\n    /**\n    Removes the node from the dependency graph. If the node does not exist does nothing.\n    */\n    remove(node) {\n        if (this.relationships.delete(node)) {\n            this._size--;\n        }\n    }\n    /**\n    Returns the number of vertices in the dependency graph.\n    */\n    size() {\n        return this._size;\n    }\n    /**\n    Adds a dependency between two nodes. If either of the nodes do not exist within the dependency graph, throws an exception.\n    */\n    addDependency(from, to) {\n        // Make sure the nodes exist\n        this.add(from);\n        this.add(to);\n        // Add the dependency\n        this.relationships.get(from).add(to);\n        // Check for circular dependencies\n        this.traverse(from, from);\n    }\n    /**\n    Traverses the graph structuring checking for circular dependecies. If a circular dependency is added, throws an error.\n    */\n    traverse(current, node, visited = new Set()) {\n        // Mark this node as visited\n        visited.add(current);\n        // Recursively call this method on dependents of the argument node\n        let dependents = this.getDependents(current, true);\n        for (let d of dependents) {\n            // Check if this dependency causes a circular dependency\n            if (d == node) {\n                throw new Error(\"circular dependency\");\n            }\n            // Continue traversing un-explored nodes\n            if (!visited.has(d)) {\n                this.traverse(d, node, visited);\n            }\n        }\n    }\n    /**\n    Returns true if a node has dependents.\n    */\n    hasDependents(node) {\n        return this.contains(node) && this.relationships.get(node).size != 0;\n    }\n    /**\n    * Returns the adjacent dependent nodes.\n    */\n    getAdjacentNodes(node) {\n        return this.relationships.get(node);\n    }\n    /**\n    * Returns an iterator to the dependents of the node.\n    */\n    getDependents(node, shallow = false) {\n        // If the node does not exist return an empty iterable\n        if (!this.relationships.has(node)) {\n            return [];\n        }\n        // If shallow, return adjacent dependencies.\n        if (shallow) {\n            return this.relationships.get(node).keys();\n        }\n        else {\n            // Get the dependents including the original node.\n            let list = this.getTopologicalDependents(node);\n            // Remove the starting node and return the dependents.\n            list.remove();\n            return list;\n        }\n    }\n    /**\n    * Returns a topological sort of this dependency\n    */\n    getTopologicalSort() {\n        let list = new LinkedList();\n        let visited = new Set();\n        for (let node of this.getNodes()) {\n            if (!visited.has(node)) {\n                this.getTopologicalDependents(node, visited, list);\n            }\n        }\n        return list;\n    }\n    /**\n    Returns a list of the arguent node and all of its dependents in topological order.\n    */\n    getTopologicalDependents(node, visited = new Set(), list = new LinkedList()) {\n        // Mark this node as visited\n        visited.add(node);\n        // Recursively call this method on dependents of the argument node\n        let dependents = this.getDependents(node, true);\n        for (let d of dependents) {\n            if (!visited.has(d)) {\n                this.getTopologicalDependents(d, visited, list);\n            }\n        }\n        // Insert node to the front of iterator to retain Topological ordering\n        list.insert(node);\n        return list;\n    }\n    /**\n    Returns the nodes within this dependency graph.\n    */\n    getNodes() {\n        return this.relationships.keys();\n    }\n    /**\n    Returns a string representation of this dependency graph.\n    */\n    toString() {\n        // Build a string of dependencies in the form of from->to\n        let result = \"\";\n        for (let from of this.getNodes()) {\n            for (let to of this.getDependents(from, true)) {\n                result += from.toString() + '->' + to.toString() + '\\n';\n            }\n        }\n        return result;\n    }\n    /**\n    Generates a DependenyGraph object from a string representation.\n    */\n    static Generate(str) {\n        let graph = new DependencyGraph();\n        // Prime the loop\n        let start = 0;\n        let index = str.indexOf('->', start);\n        while (index > 0) {\n            // Get the first part of the dependency\n            let from = str.substring(start, index);\n            // Get the second part of the dependency\n            start = index + 1;\n            index = str.indexOf('\\n', index);\n            let to = str.substring(start + 1, index);\n            // Add the dependency to the graph\n            graph.addDependency(from, to);\n            // Get the next string if there is one\n            start = index + 1;\n            index = str.indexOf('->', start);\n        }\n        return graph;\n    }\n}\n//# sourceMappingURL=dependency-graph.js.map","import Element from './element.js';\n/**\n* A symbol is a reusable graphic.\n*/\nexport default class Symbol extends Element {\n    constructor() {\n        let symbol = document.createElementNS('http://www.w3.org/2000/svg', 'symbol');\n        super(symbol);\n    }\n    // geometric properties\n    get x() {\n        throw new Error('Not Implemented');\n    }\n    set x(value) {\n        throw new Error('Not Implemented');\n    }\n    get y() {\n        throw new Error('Not Implemented');\n    }\n    set y(value) {\n        throw new Error('Not Implemented');\n    }\n    get width() {\n        throw new Error('Not Implemented');\n    }\n    set width(value) {\n        throw new Error('Not Implemented');\n    }\n    get height() {\n        throw new Error('Not Implemented');\n    }\n    set height(value) {\n        throw new Error('Not Implemented');\n    }\n    // attributes\n    get preserveAspectRatio() {\n        throw new Error('Not Implemented');\n    }\n    set preserveAspectRatio(value) {\n        throw new Error('Not Implemented');\n    }\n    get viewBox() {\n        return this.root.getAttribute('viewBox');\n    }\n    set viewBox(value) {\n        this.root.setAttributeNS(null, 'viewBox', value);\n    }\n    get refX() {\n        throw new Error('Not Implemented');\n    }\n    set refX(value) {\n        throw new Error('Not Implemented');\n    }\n    get refY() {\n        throw new Error('Not Implemented');\n    }\n    set refY(value) {\n        throw new Error('Not Implemented');\n    }\n}\n//# sourceMappingURL=symbol.js.map","import Element from './element.js';\nexport default class Description extends Element {\n    constructor() {\n        let desc = document.createElementNS('http://www.w3.org/2000/svg', 'desc');\n        super(desc);\n    }\n}\n//# sourceMappingURL=description.js.map","import Element from './element.js';\nimport Circle from './circle.js';\nimport ClipPath from './clip-path.js';\nimport Defs from './definitions.js';\nimport Description from './description.js';\nimport Ellipse from './ellipse.js';\nimport Group from './group.js';\nimport Line from './line.js';\nimport Marker from './marker.js';\nimport MetaData from './meta-data.js';\nimport Path from './path.js';\nimport Polygon from './polygon.js';\nimport Rectangle from './rectangle.js';\nimport Symbol from './symbol.js';\nimport Text from './text.js';\nimport Title from './title.js';\nimport Use from './use.js';\nimport A from './a.js';\nimport Script from './script.js';\n/**\n* This class represents a SVG element. There are four geometric properties x, y,\n* width, and height. The (x,y) properties only affect nested SVG elements.\n*/\nexport default class SVG extends Element {\n    /**\n    * Constructs a svg element.\n    */\n    constructor(x, y, width, height) {\n        let svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n        svg.setAttribute('xmlns', 'http://www.w3.org/2000/svg');\n        if (x) {\n            svg.setAttributeNS(null, 'x', x.toString());\n        }\n        if (y) {\n            svg.setAttributeNS(null, 'y', y.toString());\n        }\n        if (width) {\n            svg.setAttributeNS(null, 'width', width.toString());\n        }\n        if (height) {\n            svg.setAttributeNS(null, 'height', height.toString());\n        }\n        super(svg);\n    }\n    /**\n    * Constructs and returns a SVG object within the DOM.  If the provided\n    * argument is an HTMLElement appends the interactive within that element. If\n    * the provided a value is a string, appends the interactive within the HTML\n    * element with the corresponding ID. If no element is found throws an error.\n    */\n    static SVG(idOrElement, x, y, width, height) {\n        // get the container element\n        let container;\n        if (typeof idOrElement == \"string\") {\n            container = document.getElementById(idOrElement);\n            if (container === null || container === undefined) {\n                throw new Error(`There is no HTML element with the id: ${idOrElement}`);\n            }\n        }\n        else {\n            container = idOrElement;\n        }\n        // construct and append the svg\n        let svg = new SVG(x, y, width, height);\n        container.appendChild(svg.root);\n        return svg;\n    }\n    /**\n    * Return the width of this svg element.\n    */\n    get width() {\n        // return this.root.width.baseVal.value;\n        return parseInt(this.root.getAttribute('width'));\n    }\n    /**\n    * Set the width of this svg element.\n    */\n    set width(value) {\n        // this.root.width.baseVal.value = value;\n        this.root.setAttributeNS(null, 'width', value.toString());\n    }\n    /**\n    * Returns the height of this svg element.\n    */\n    get height() {\n        // return this.root.height.baseVal.value;\n        return parseInt(this.root.getAttribute('height'));\n    }\n    /**\n    * Sets the height of this svg element to the provided value.\n    */\n    set height(value) {\n        // this.root.height.baseVal.value = value;\n        this.root.setAttributeNS(null, 'height', value.toString());\n    }\n    get x() {\n        return this.root.x.baseVal.value;\n    }\n    set x(value) {\n        this.root.x.baseVal.value = value;\n    }\n    get y() {\n        return this.root.y.baseVal.value;\n    }\n    set y(value) {\n        this.root.y.baseVal.value = value;\n    }\n    get viewBox() {\n        return this.root.getAttribute('viewBox');\n    }\n    set viewBox(value) {\n        this.root.setAttribute('viewBox', value);\n    }\n    setViewBox(x, y, width, height) {\n        this.viewBox = `${x} ${y} ${width} ${height}`;\n    }\n    // comment inherited from base class\n    setAttribute(name, value) {\n        this.root.setAttribute(name, value);\n        return this;\n    }\n    // comment inherited from base class\n    getAttribute(name) {\n        return this.root.getAttribute(name);\n    }\n    // descriptive elements\n    description() {\n        return this.appendChild(new Description());\n    }\n    metadata() {\n        return this.appendChild(new MetaData());\n    }\n    title() {\n        return this.appendChild(new Title());\n    }\n    // shape elements\n    circle(cx, cy, r) {\n        return this.appendChild(new Circle(cx, cy, r));\n    }\n    ellipse(cx, cy, rx, ry) {\n        return this.appendChild(new Ellipse(cx, cy, rx, ry));\n    }\n    line(x1, y1, x2, y2) {\n        return this.appendChild(new Line(x1, y1, x2, y2));\n    }\n    path(d) {\n        return this.appendChild(new Path(d));\n    }\n    polygon(points) {\n        return this.appendChild(new Polygon(points));\n    }\n    rectangle(x, y, width, height) {\n        return this.appendChild(new Rectangle(x, y, width, height));\n    }\n    // structural elements\n    defs() {\n        return this.appendChild(new Defs());\n    }\n    group() {\n        return this.appendChild(new Group());\n    }\n    svg(x, y, width, height) {\n        return this.appendChild(new SVG(x, y, width, height));\n    }\n    symbol() {\n        return this.appendChild(new Symbol());\n    }\n    use(x, y, width, height) {\n        return this.appendChild(new Use(x, y, width, height));\n    }\n    // typography elements\n    text(x, y, str) {\n        return this.appendChild(new Text(x, y, str));\n    }\n    // other elements\n    /**\n    * Constructs and appends an 'a' (link) element within this element.\n    */\n    a(href) {\n        return this.appendChild(new A(href));\n    }\n    /**\n    * Constructs and appends a 'clipPath' element within this element.\n    */\n    clipPath() {\n        return this.appendChild(new ClipPath());\n    }\n    /**\n    * Constructs and appends a 'marker' element within this element.\n    */\n    marker(refX, refY, width, height) {\n        return this.appendChild(new Marker(refX, refY, width, height));\n    }\n    /**\n    * Constructs and appends a 'script' element within this element.\n    */\n    script() {\n        return this.appendChild(new Script());\n    }\n}\n//# sourceMappingURL=svg.js.map","import Shape from './shape.js';\nimport Circle from './circle.js';\nimport Ellipse from './ellipse.js';\nimport Line from './line.js';\nimport Rectangle from './rectangle.js';\n/**\n* A path element allows for the creation of complicated shapes and curves.\n*/\nexport default class Path extends Shape {\n    /**\n    * Construct a new path element with a string of commands.\n    */\n    constructor(d) {\n        // TODO: see comment above the type of the root\n        let path = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n        path.setAttribute('d', d);\n        super(path);\n    }\n    /**\n    * Returns the d attribute\n    */\n    get d() {\n        return this.root.getAttribute('d');\n    }\n    /**\n    * Sets the d attribute\n    */\n    set d(d) {\n        this.root.setAttribute('d', d);\n    }\n    /**\n    * Returns the path representation of the provided shape.\n    */\n    static getPath(shape) {\n        throw Error('Not Implemented');\n        if (this instanceof Circle) {\n            throw Error('Not Implemented');\n        }\n        else if (this instanceof Ellipse) {\n            throw Error('Not Implemented');\n        }\n        else if (this instanceof Line) {\n            throw Error('Not Implemented');\n        }\n        else if (this instanceof Path) {\n            throw Error('Not Implemented');\n        }\n        else if (this instanceof Rectangle) {\n            throw Error('Not Implemented');\n        }\n    }\n}\n//# sourceMappingURL=path.js.map","import { Component, OnInit } from '@angular/core';\r\nimport { CheckBox } from 'src/assets/source';\r\nimport { sidebarService } from './sidebar.service';\r\n\r\n@Component({\r\n  selector: 'app-sidebar',\r\n  templateUrl: './sidebar.component.html',\r\n  styleUrls: ['./sidebar.component.css']\r\n})\r\nexport class SidebarComponent implements OnInit {\r\n\r\n  constructor(public sidebarService:sidebarService) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  changeDisplay(id):void{\r\n    if(document.getElementById(id).style.display==\"none\"){\r\n      document.getElementById(id).style.display=\"block\"\r\n    }\r\n    else{\r\n    document.getElementById(id).style.display=\"none\"}\r\n  \r\n  }\r\n\r\n  removezoom(){\r\n    this.sidebarService.removeGlass();\r\n  }\r\n  \r\n  magnifier(imgId:string){\r\n    this.sidebarService.magniGlass(imgId);\r\n\r\n  }\r\n  activate(){\r\n    this.sidebarService.changeGlass();\r\n  }\r\n\r\n\r\n}\r\n","<link rel=\"stylesheet\" type=\"text/css\" href=\"sidebar.component.css\">\r\n\r\n<div class=\"sidenav\">\r\n    \r\n    <a style=\"margin-top: 2em;\" (click)=\"changeDisplay('images')\">Imgenes</a>\r\n    <div id=\"images\" style=\"display: none;\">\r\n        <app-imagebar></app-imagebar>\r\n    </div>\r\n\r\n    <a (click)=\"changeDisplay('clases')\">Etiquetas</a>\r\n    <div id=\"clases\" style=\"display: none;\">\r\n        <app-draws></app-draws>\r\n    </div>\r\n    \r\n    <a (click)=\"changeDisplay('import')\">Datos</a>\r\n    <div id=\"import\" style=\"display: none;\">\r\n        <app-imports></app-imports>\r\n    </div>\r\n\r\n    <!--\r\n    <a (click)=\"changeDisplay('tools')\">Herramientas</a>\r\n\r\n    <div id=\"tools\" style=\"display: none;\">\r\n        <div>\r\n            <p class=\"text\">Lupa</p>\r\n            <div>\r\n                <div class=\"box\">\r\n                    \r\n                    <select id=\"id-selector\" >\r\n                        <option class=\"opt\" (click)=\"this.sidebarService.setZoom(2.0)\">200%</option>\r\n                        <option class=\"opt\" (click)=\"this.sidebarService.setZoom(3.0)\">300%</option>                        \r\n                        <option class=\"opt\" (click)=\"this.sidebarService.setZoom(4.0)\">400%</option>                        \r\n                        <option class=\"opt\" (click)=\"this.sidebarService.setZoom(5.0)\">500%</option>\r\n                    </select>\r\n                    \r\n                    <label class=\"switch\">\r\n                    <input id=\"toggle-glass\" type=\"checkbox\" (click)=\"activate()\">\r\n                    <span class=\"slider round\"></span>\r\n                    </label>\r\n                </div>  \r\n            </div>\r\n        </div>\r\n    </div>\r\n    -->\r\n</div>","import Node from './node.js';\nimport Edge from './edge.js';\nimport Group from '../svg/group.js';\nexport default class Graph extends Group {\n    /**\n    * Constructs a graph\n    */\n    constructor(options) {\n        super();\n        this.nodes = [];\n        this.options = options;\n        let defs = this.defs();\n        defs.root.innerHTML = `<marker id=\"arrow\" refX=\"10\" refY=\"5\" markerWidth=\"10\" markerHeight=\"10\" orient=\"auto-start-reverse\"><path d=\"M 0 0 L 10 5 L 0 10 z\" style=\"fill:#333333;\"></path></marker>`;\n        this.appendChild(defs);\n    }\n    /**\n    * Clears all nodes and all edges from the graph, removes them from the dom.\n    */\n    clear() {\n        for (var i = 0; i < this.nodes.length; i++) {\n            this.nodes[i].edges.forEach(function (item) {\n                item.remove();\n            });\n            this.nodes[i].remove();\n        }\n        this.nodes = [];\n    }\n    /**\n    * Adds a node at the given location with the given text. radius defaults to 20, 20\n    */\n    addNode(x, y, text, rx = 20, ry = 20) {\n        let node = new Node(x, y, rx, ry, text);\n        this.root.appendChild(node.root);\n        this.nodes.push(node);\n        return node;\n    }\n    /**\n    * Adds an edge without direction between the two given nodes.\n    */\n    addEdge(from, to) {\n        let edge = new Edge(from, to, this.options.directed);\n        if (this.options.directed) {\n            edge.root.setAttribute('marker-end', `url(#arrow)`);\n        }\n        this.root.prepend(edge.root);\n        from.addEdge(edge);\n        to.addEdge(edge);\n        return edge;\n    }\n    /**\n    * Getter for the list of all nodes inside this graph.\n    */\n    getNodes() {\n        return this.nodes;\n    }\n    /**\n    * Returns the size of this graph\n    */\n    size() {\n        return this.nodes.length;\n    }\n    /**\n    * The tidy algorithm. Assuming a tree for now, pass it the root.\n    */\n    tidy(root) {\n        let orderedNodes = [];\n        this.postTraverse(root, orderedNodes);\n        let modMap = {};\n        let centerMap = {};\n        let min_dist = 100;\n        for (let node of orderedNodes) {\n            centerMap[node.id] = 0;\n            node.cx = 0;\n            if (node.children.length != 0) {\n                node.children[0].cx == 0;\n                for (let i = 1; i < node.children.length; i++) {\n                    node.children[i].cx = node.children[i - 1].cx + min_dist;\n                }\n                centerMap[node.id] = (node.children[0].cx + node.children[node.children.length - 1].cx) / 2;\n            }\n        }\n        // console.log(centerMap);\n        for (let node of orderedNodes) {\n            // console.log(node.label);\n            //Set the top y value\n            node.cy = node.depth * 75 + 50;\n            let leftSiblings = (node.parents[0] != undefined && node.parents[0].children[0] !== node);\n            // console.log(leftSiblings);\n            // console.log(centeredValue);\n            if (!leftSiblings) {\n                node.cx = centerMap[node.id];\n                modMap[node.id] = 0;\n            }\n            else {\n                node.cx = node.parents[0].children[node.parents[0].children.indexOf(node) - 1].cx + min_dist;\n                modMap[node.id] = node.cx - centerMap[node.id];\n            }\n        }\n        this.shiftChildrenByMod(root, 0, modMap);\n        modMap = this.clearModMap(modMap);\n        //dealing with conflicts, twice.\n        // modMap = this.fixConflicts(root, orderedNodes, modMap);\n        modMap = this.fixConflicts(root, orderedNodes, modMap);\n        this.fixOffScreen(root, modMap);\n        root.cx = (root.children[0].cx + root.children[root.children.length - 1].cx) / 2;\n    }\n    fixOffScreen(root, modMap) {\n        let leftList = {};\n        leftList = this.leftContour(root, leftList);\n        let maxShift = 0;\n        for (let i in leftList) {\n            if (leftList[i] < maxShift) {\n                maxShift = leftList[i];\n            }\n        }\n        root.cx += maxShift + 50;\n        modMap[root.id] += maxShift + 50;\n        this.shiftChildrenByMod(root, 0, modMap);\n    }\n    fixConflicts(root, orderedNodes, modMap) {\n        let nodeShifted = false;\n        for (let node of orderedNodes) {\n            let leftSiblings = (node.parents[0] != undefined && node.parents[0].children[0] !== node);\n            if (leftSiblings) {\n                let currPos = -1;\n                for (let i = 0; i < node.parents[0].children.length; i++) {\n                    if (node.parents[0].children[i] === node) {\n                        currPos = i;\n                        break;\n                    }\n                }\n                for (let i = currPos - 1; i >= 0; i--) {\n                    if (node.parents[0].children[i] === node) {\n                        break;\n                    }\n                    else {\n                        // console.log(node);\n                        let leftContList = {};\n                        leftContList = this.leftContour(node, leftContList);\n                        let rightContList = {};\n                        rightContList = this.rightContour(node.parents[0].children[i], rightContList);\n                        let shift = this.calculateShift(leftContList, rightContList);\n                        if (shift != 0) {\n                            nodeShifted = true;\n                        }\n                        // console.log(shift);\n                        node.cx += shift;\n                        modMap[node.id] += shift;\n                        this.shiftChildrenByMod(root, 0, modMap);\n                        modMap = this.clearModMap(modMap);\n                        let nodePos = 0;\n                        for (let j = i; j < node.parents[0].children.length; j++) {\n                            if (node.parents[0].children[j] === node) {\n                                nodePos = j;\n                                break;\n                            }\n                        }\n                        for (let j = i + 1; j < nodePos; j++) {\n                            node.parents[0].children[j].cx += shift / (nodePos - i);\n                            modMap[node.parents[0].children[j].id] += shift / (nodePos - i);\n                        }\n                    }\n                }\n            }\n        }\n        // if(nodeShifted){\n        //   modMap = this.fixConflicts(root, orderedNodes, modMap)\n        // }\n        return modMap;\n    }\n    shiftChildrenByMod(node, mod, modMap) {\n        node.cx += mod;\n        for (let child of node.children) {\n            this.shiftChildrenByMod(child, mod + modMap[node.id], modMap);\n        }\n    }\n    clearModMap(modMap) {\n        for (let i in modMap) {\n            modMap[i] = 0;\n        }\n        return modMap;\n    }\n    calculateShift(leftList, rightList) {\n        let biggestOverlap = 0;\n        for (let depth in leftList) {\n            if (rightList[depth] !== undefined && leftList[depth] - 100 < rightList[depth]) {\n                biggestOverlap = Math.abs(leftList[depth] - 100 - rightList[depth]);\n            }\n        }\n        return biggestOverlap;\n    }\n    leftContour(node, contourList) {\n        // console.log(node.id);\n        // console.log(node.depth);\n        if ((contourList[node.depth] === undefined) || contourList[node.depth] > node.cx) {\n            contourList[node.depth] = node.cx;\n        }\n        for (let child of node.children) {\n            contourList = this.leftContour(child, contourList);\n        }\n        return contourList;\n    }\n    rightContour(node, contourList) {\n        if ((contourList[node.depth] === undefined) || contourList[node.depth] < node.cx) {\n            contourList[node.depth] = node.cx;\n        }\n        for (let child of node.children) {\n            contourList = this.rightContour(child, contourList);\n        }\n        return contourList;\n    }\n    postTraverse(node, list) {\n        if (!node) {\n            console.log(\"ERROR: Node was null\");\n        }\n        if (node.children.length > 0) {\n            node.children.forEach(childNode => {\n                this.postTraverse(childNode, list);\n            });\n        }\n        list.push(node);\n        return list;\n    }\n}\n//# sourceMappingURL=graph.js.map","/*\r\n Copyright (c) 2012 Nevins Bartolomeo <nevins.bartolomeo@gmail.com>\r\n Copyright (c) 2012 Shane Girish <shaneGirish@gmail.com>\r\n Copyright (c) 2014 Daniel Wirtz <dcode@dcode.io>\r\n\r\n Redistribution and use in source and binary forms, with or without\r\n modification, are permitted provided that the following conditions\r\n are met:\r\n 1. Redistributions of source code must retain the above copyright\r\n notice, this list of conditions and the following disclaimer.\r\n 2. Redistributions in binary form must reproduce the above copyright\r\n notice, this list of conditions and the following disclaimer in the\r\n documentation and/or other materials provided with the distribution.\r\n 3. The name of the author may not be used to endorse or promote products\r\n derived from this software without specific prior written permission.\r\n\r\n THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR\r\n IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\r\n OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.\r\n IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT,\r\n INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT\r\n NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\r\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\r\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\r\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF\r\n THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n */\r\n\r\n/**\r\n * @license bcrypt.js (c) 2013 Daniel Wirtz <dcode@dcode.io>\r\n * Released under the Apache License, Version 2.0\r\n * see: https://github.com/dcodeIO/bcrypt.js for details\r\n */\r\n(function(global, factory) {\r\n\r\n    /* AMD */ if (typeof define === 'function' && define[\"amd\"])\r\n        define([], factory);\r\n    /* CommonJS */ else if (typeof require === 'function' && typeof module === \"object\" && module && module[\"exports\"])\r\n        module[\"exports\"] = factory();\r\n    /* Global */ else\r\n        (global[\"dcodeIO\"] = global[\"dcodeIO\"] || {})[\"bcrypt\"] = factory();\r\n\r\n}(this, function() {\r\n    \"use strict\";\r\n\r\n    /**\r\n     * bcrypt namespace.\r\n     * @type {Object.<string,*>}\r\n     */\r\n    var bcrypt = {};\r\n\r\n    /**\r\n     * The random implementation to use as a fallback.\r\n     * @type {?function(number):!Array.<number>}\r\n     * @inner\r\n     */\r\n    var randomFallback = null;\r\n\r\n    /**\r\n     * Generates cryptographically secure random bytes.\r\n     * @function\r\n     * @param {number} len Bytes length\r\n     * @returns {!Array.<number>} Random bytes\r\n     * @throws {Error} If no random implementation is available\r\n     * @inner\r\n     */\r\n    function random(len) {\r\n        /* node */ if (typeof module !== 'undefined' && module && module['exports'])\r\n            try {\r\n                return require(\"crypto\")['randomBytes'](len);\r\n            } catch (e) {}\r\n        /* WCA */ try {\r\n            var a; (self['crypto']||self['msCrypto'])['getRandomValues'](a = new Uint32Array(len));\r\n            return Array.prototype.slice.call(a);\r\n        } catch (e) {}\r\n        /* fallback */ if (!randomFallback)\r\n            throw Error(\"Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative\");\r\n        return randomFallback(len);\r\n    }\r\n\r\n    // Test if any secure randomness source is available\r\n    var randomAvailable = false;\r\n    try {\r\n        random(1);\r\n        randomAvailable = true;\r\n    } catch (e) {}\r\n\r\n    // Default fallback, if any\r\n    randomFallback = null;\r\n    /**\r\n     * Sets the pseudo random number generator to use as a fallback if neither node's `crypto` module nor the Web Crypto\r\n     *  API is available. Please note: It is highly important that the PRNG used is cryptographically secure and that it\r\n     *  is seeded properly!\r\n     * @param {?function(number):!Array.<number>} random Function taking the number of bytes to generate as its\r\n     *  sole argument, returning the corresponding array of cryptographically secure random byte values.\r\n     * @see http://nodejs.org/api/crypto.html\r\n     * @see http://www.w3.org/TR/WebCryptoAPI/\r\n     */\r\n    bcrypt.setRandomFallback = function(random) {\r\n        randomFallback = random;\r\n    };\r\n\r\n    /**\r\n     * Synchronously generates a salt.\r\n     * @param {number=} rounds Number of rounds to use, defaults to 10 if omitted\r\n     * @param {number=} seed_length Not supported.\r\n     * @returns {string} Resulting salt\r\n     * @throws {Error} If a random fallback is required but not set\r\n     * @expose\r\n     */\r\n    bcrypt.genSaltSync = function(rounds, seed_length) {\r\n        rounds = rounds || GENSALT_DEFAULT_LOG2_ROUNDS;\r\n        if (typeof rounds !== 'number')\r\n            throw Error(\"Illegal arguments: \"+(typeof rounds)+\", \"+(typeof seed_length));\r\n        if (rounds < 4)\r\n            rounds = 4;\r\n        else if (rounds > 31)\r\n            rounds = 31;\r\n        var salt = [];\r\n        salt.push(\"$2a$\");\r\n        if (rounds < 10)\r\n            salt.push(\"0\");\r\n        salt.push(rounds.toString());\r\n        salt.push('$');\r\n        salt.push(base64_encode(random(BCRYPT_SALT_LEN), BCRYPT_SALT_LEN)); // May throw\r\n        return salt.join('');\r\n    };\r\n\r\n    /**\r\n     * Asynchronously generates a salt.\r\n     * @param {(number|function(Error, string=))=} rounds Number of rounds to use, defaults to 10 if omitted\r\n     * @param {(number|function(Error, string=))=} seed_length Not supported.\r\n     * @param {function(Error, string=)=} callback Callback receiving the error, if any, and the resulting salt\r\n     * @returns {!Promise} If `callback` has been omitted\r\n     * @throws {Error} If `callback` is present but not a function\r\n     * @expose\r\n     */\r\n    bcrypt.genSalt = function(rounds, seed_length, callback) {\r\n        if (typeof seed_length === 'function')\r\n            callback = seed_length,\r\n            seed_length = undefined; // Not supported.\r\n        if (typeof rounds === 'function')\r\n            callback = rounds,\r\n            rounds = undefined;\r\n        if (typeof rounds === 'undefined')\r\n            rounds = GENSALT_DEFAULT_LOG2_ROUNDS;\r\n        else if (typeof rounds !== 'number')\r\n            throw Error(\"illegal arguments: \"+(typeof rounds));\r\n\r\n        function _async(callback) {\r\n            nextTick(function() { // Pretty thin, but salting is fast enough\r\n                try {\r\n                    callback(null, bcrypt.genSaltSync(rounds));\r\n                } catch (err) {\r\n                    callback(err);\r\n                }\r\n            });\r\n        }\r\n\r\n        if (callback) {\r\n            if (typeof callback !== 'function')\r\n                throw Error(\"Illegal callback: \"+typeof(callback));\r\n            _async(callback);\r\n        } else\r\n            return new Promise(function(resolve, reject) {\r\n                _async(function(err, res) {\r\n                    if (err) {\r\n                        reject(err);\r\n                        return;\r\n                    }\r\n                    resolve(res);\r\n                });\r\n            });\r\n    };\r\n\r\n    /**\r\n     * Synchronously generates a hash for the given string.\r\n     * @param {string} s String to hash\r\n     * @param {(number|string)=} salt Salt length to generate or salt to use, default to 10\r\n     * @returns {string} Resulting hash\r\n     * @expose\r\n     */\r\n    bcrypt.hashSync = function(s, salt) {\r\n        if (typeof salt === 'undefined')\r\n            salt = GENSALT_DEFAULT_LOG2_ROUNDS;\r\n        if (typeof salt === 'number')\r\n            salt = bcrypt.genSaltSync(salt);\r\n        if (typeof s !== 'string' || typeof salt !== 'string')\r\n            throw Error(\"Illegal arguments: \"+(typeof s)+', '+(typeof salt));\r\n        return _hash(s, salt);\r\n    };\r\n\r\n    /**\r\n     * Asynchronously generates a hash for the given string.\r\n     * @param {string} s String to hash\r\n     * @param {number|string} salt Salt length to generate or salt to use\r\n     * @param {function(Error, string=)=} callback Callback receiving the error, if any, and the resulting hash\r\n     * @param {function(number)=} progressCallback Callback successively called with the percentage of rounds completed\r\n     *  (0.0 - 1.0), maximally once per `MAX_EXECUTION_TIME = 100` ms.\r\n     * @returns {!Promise} If `callback` has been omitted\r\n     * @throws {Error} If `callback` is present but not a function\r\n     * @expose\r\n     */\r\n    bcrypt.hash = function(s, salt, callback, progressCallback) {\r\n\r\n        function _async(callback) {\r\n            if (typeof s === 'string' && typeof salt === 'number')\r\n                bcrypt.genSalt(salt, function(err, salt) {\r\n                    _hash(s, salt, callback, progressCallback);\r\n                });\r\n            else if (typeof s === 'string' && typeof salt === 'string')\r\n                _hash(s, salt, callback, progressCallback);\r\n            else\r\n                nextTick(callback.bind(this, Error(\"Illegal arguments: \"+(typeof s)+', '+(typeof salt))));\r\n        }\r\n\r\n        if (callback) {\r\n            if (typeof callback !== 'function')\r\n                throw Error(\"Illegal callback: \"+typeof(callback));\r\n            _async(callback);\r\n        } else\r\n            return new Promise(function(resolve, reject) {\r\n                _async(function(err, res) {\r\n                    if (err) {\r\n                        reject(err);\r\n                        return;\r\n                    }\r\n                    resolve(res);\r\n                });\r\n            });\r\n    };\r\n\r\n    /**\r\n     * Compares two strings of the same length in constant time.\r\n     * @param {string} known Must be of the correct length\r\n     * @param {string} unknown Must be the same length as `known`\r\n     * @returns {boolean}\r\n     * @inner\r\n     */\r\n    function safeStringCompare(known, unknown) {\r\n        var right = 0,\r\n            wrong = 0;\r\n        for (var i=0, k=known.length; i<k; ++i) {\r\n            if (known.charCodeAt(i) === unknown.charCodeAt(i))\r\n                ++right;\r\n            else\r\n                ++wrong;\r\n        }\r\n        // Prevent removal of unused variables (never true, actually)\r\n        if (right < 0)\r\n            return false;\r\n        return wrong === 0;\r\n    }\r\n\r\n    /**\r\n     * Synchronously tests a string against a hash.\r\n     * @param {string} s String to compare\r\n     * @param {string} hash Hash to test against\r\n     * @returns {boolean} true if matching, otherwise false\r\n     * @throws {Error} If an argument is illegal\r\n     * @expose\r\n     */\r\n    bcrypt.compareSync = function(s, hash) {\r\n        if (typeof s !== \"string\" || typeof hash !== \"string\")\r\n            throw Error(\"Illegal arguments: \"+(typeof s)+', '+(typeof hash));\r\n        if (hash.length !== 60)\r\n            return false;\r\n        return safeStringCompare(bcrypt.hashSync(s, hash.substr(0, hash.length-31)), hash);\r\n    };\r\n\r\n    /**\r\n     * Asynchronously compares the given data against the given hash.\r\n     * @param {string} s Data to compare\r\n     * @param {string} hash Data to be compared to\r\n     * @param {function(Error, boolean)=} callback Callback receiving the error, if any, otherwise the result\r\n     * @param {function(number)=} progressCallback Callback successively called with the percentage of rounds completed\r\n     *  (0.0 - 1.0), maximally once per `MAX_EXECUTION_TIME = 100` ms.\r\n     * @returns {!Promise} If `callback` has been omitted\r\n     * @throws {Error} If `callback` is present but not a function\r\n     * @expose\r\n     */\r\n    bcrypt.compare = function(s, hash, callback, progressCallback) {\r\n\r\n        function _async(callback) {\r\n            if (typeof s !== \"string\" || typeof hash !== \"string\") {\r\n                nextTick(callback.bind(this, Error(\"Illegal arguments: \"+(typeof s)+', '+(typeof hash))));\r\n                return;\r\n            }\r\n            if (hash.length !== 60) {\r\n                nextTick(callback.bind(this, null, false));\r\n                return;\r\n            }\r\n            bcrypt.hash(s, hash.substr(0, 29), function(err, comp) {\r\n                if (err)\r\n                    callback(err);\r\n                else\r\n                    callback(null, safeStringCompare(comp, hash));\r\n            }, progressCallback);\r\n        }\r\n\r\n        if (callback) {\r\n            if (typeof callback !== 'function')\r\n                throw Error(\"Illegal callback: \"+typeof(callback));\r\n            _async(callback);\r\n        } else\r\n            return new Promise(function(resolve, reject) {\r\n                _async(function(err, res) {\r\n                    if (err) {\r\n                        reject(err);\r\n                        return;\r\n                    }\r\n                    resolve(res);\r\n                });\r\n            });\r\n    };\r\n\r\n    /**\r\n     * Gets the number of rounds used to encrypt the specified hash.\r\n     * @param {string} hash Hash to extract the used number of rounds from\r\n     * @returns {number} Number of rounds used\r\n     * @throws {Error} If `hash` is not a string\r\n     * @expose\r\n     */\r\n    bcrypt.getRounds = function(hash) {\r\n        if (typeof hash !== \"string\")\r\n            throw Error(\"Illegal arguments: \"+(typeof hash));\r\n        return parseInt(hash.split(\"$\")[2], 10);\r\n    };\r\n\r\n    /**\r\n     * Gets the salt portion from a hash. Does not validate the hash.\r\n     * @param {string} hash Hash to extract the salt from\r\n     * @returns {string} Extracted salt part\r\n     * @throws {Error} If `hash` is not a string or otherwise invalid\r\n     * @expose\r\n     */\r\n    bcrypt.getSalt = function(hash) {\r\n        if (typeof hash !== 'string')\r\n            throw Error(\"Illegal arguments: \"+(typeof hash));\r\n        if (hash.length !== 60)\r\n            throw Error(\"Illegal hash length: \"+hash.length+\" != 60\");\r\n        return hash.substring(0, 29);\r\n    };\r\n\r\n    /**\r\n     * Continues with the callback on the next tick.\r\n     * @function\r\n     * @param {function(...[*])} callback Callback to execute\r\n     * @inner\r\n     */\r\n    var nextTick = typeof process !== 'undefined' && process && typeof process.nextTick === 'function'\r\n        ? (typeof setImmediate === 'function' ? setImmediate : process.nextTick)\r\n        : setTimeout;\r\n\r\n    /**\r\n     * Converts a JavaScript string to UTF8 bytes.\r\n     * @param {string} str String\r\n     * @returns {!Array.<number>} UTF8 bytes\r\n     * @inner\r\n     */\r\n    function stringToBytes(str) {\r\n        var out = [],\r\n            i = 0;\r\n        utfx.encodeUTF16toUTF8(function() {\r\n            if (i >= str.length) return null;\r\n            return str.charCodeAt(i++);\r\n        }, function(b) {\r\n            out.push(b);\r\n        });\r\n        return out;\r\n    }\r\n\r\n    // A base64 implementation for the bcrypt algorithm. This is partly non-standard.\r\n\r\n    /**\r\n     * bcrypt's own non-standard base64 dictionary.\r\n     * @type {!Array.<string>}\r\n     * @const\r\n     * @inner\r\n     **/\r\n    var BASE64_CODE = \"./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\".split('');\r\n\r\n    /**\r\n     * @type {!Array.<number>}\r\n     * @const\r\n     * @inner\r\n     **/\r\n    var BASE64_INDEX = [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\r\n        -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\r\n        -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 0,\r\n        1, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, -1, -1, -1, -1, -1, -1,\r\n        -1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19,\r\n        20, 21, 22, 23, 24, 25, 26, 27, -1, -1, -1, -1, -1, -1, 28, 29, 30,\r\n        31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47,\r\n        48, 49, 50, 51, 52, 53, -1, -1, -1, -1, -1];\r\n\r\n    /**\r\n     * @type {!function(...number):string}\r\n     * @inner\r\n     */\r\n    var stringFromCharCode = String.fromCharCode;\r\n\r\n    /**\r\n     * Encodes a byte array to base64 with up to len bytes of input.\r\n     * @param {!Array.<number>} b Byte array\r\n     * @param {number} len Maximum input length\r\n     * @returns {string}\r\n     * @inner\r\n     */\r\n    function base64_encode(b, len) {\r\n        var off = 0,\r\n            rs = [],\r\n            c1, c2;\r\n        if (len <= 0 || len > b.length)\r\n            throw Error(\"Illegal len: \"+len);\r\n        while (off < len) {\r\n            c1 = b[off++] & 0xff;\r\n            rs.push(BASE64_CODE[(c1 >> 2) & 0x3f]);\r\n            c1 = (c1 & 0x03) << 4;\r\n            if (off >= len) {\r\n                rs.push(BASE64_CODE[c1 & 0x3f]);\r\n                break;\r\n            }\r\n            c2 = b[off++] & 0xff;\r\n            c1 |= (c2 >> 4) & 0x0f;\r\n            rs.push(BASE64_CODE[c1 & 0x3f]);\r\n            c1 = (c2 & 0x0f) << 2;\r\n            if (off >= len) {\r\n                rs.push(BASE64_CODE[c1 & 0x3f]);\r\n                break;\r\n            }\r\n            c2 = b[off++] & 0xff;\r\n            c1 |= (c2 >> 6) & 0x03;\r\n            rs.push(BASE64_CODE[c1 & 0x3f]);\r\n            rs.push(BASE64_CODE[c2 & 0x3f]);\r\n        }\r\n        return rs.join('');\r\n    }\r\n\r\n    /**\r\n     * Decodes a base64 encoded string to up to len bytes of output.\r\n     * @param {string} s String to decode\r\n     * @param {number} len Maximum output length\r\n     * @returns {!Array.<number>}\r\n     * @inner\r\n     */\r\n    function base64_decode(s, len) {\r\n        var off = 0,\r\n            slen = s.length,\r\n            olen = 0,\r\n            rs = [],\r\n            c1, c2, c3, c4, o, code;\r\n        if (len <= 0)\r\n            throw Error(\"Illegal len: \"+len);\r\n        while (off < slen - 1 && olen < len) {\r\n            code = s.charCodeAt(off++);\r\n            c1 = code < BASE64_INDEX.length ? BASE64_INDEX[code] : -1;\r\n            code = s.charCodeAt(off++);\r\n            c2 = code < BASE64_INDEX.length ? BASE64_INDEX[code] : -1;\r\n            if (c1 == -1 || c2 == -1)\r\n                break;\r\n            o = (c1 << 2) >>> 0;\r\n            o |= (c2 & 0x30) >> 4;\r\n            rs.push(stringFromCharCode(o));\r\n            if (++olen >= len || off >= slen)\r\n                break;\r\n            code = s.charCodeAt(off++);\r\n            c3 = code < BASE64_INDEX.length ? BASE64_INDEX[code] : -1;\r\n            if (c3 == -1)\r\n                break;\r\n            o = ((c2 & 0x0f) << 4) >>> 0;\r\n            o |= (c3 & 0x3c) >> 2;\r\n            rs.push(stringFromCharCode(o));\r\n            if (++olen >= len || off >= slen)\r\n                break;\r\n            code = s.charCodeAt(off++);\r\n            c4 = code < BASE64_INDEX.length ? BASE64_INDEX[code] : -1;\r\n            o = ((c3 & 0x03) << 6) >>> 0;\r\n            o |= c4;\r\n            rs.push(stringFromCharCode(o));\r\n            ++olen;\r\n        }\r\n        var res = [];\r\n        for (off = 0; off<olen; off++)\r\n            res.push(rs[off].charCodeAt(0));\r\n        return res;\r\n    }\r\n\r\n    /**\r\n     * utfx-embeddable (c) 2014 Daniel Wirtz <dcode@dcode.io>\r\n     * Released under the Apache License, Version 2.0\r\n     * see: https://github.com/dcodeIO/utfx for details\r\n     */\r\n    var utfx = function() {\r\n        \"use strict\";\r\n\r\n        /**\r\n         * utfx namespace.\r\n         * @inner\r\n         * @type {!Object.<string,*>}\r\n         */\r\n        var utfx = {};\r\n\r\n        /**\r\n         * Maximum valid code point.\r\n         * @type {number}\r\n         * @const\r\n         */\r\n        utfx.MAX_CODEPOINT = 0x10FFFF;\r\n\r\n        /**\r\n         * Encodes UTF8 code points to UTF8 bytes.\r\n         * @param {(!function():number|null) | number} src Code points source, either as a function returning the next code point\r\n         *  respectively `null` if there are no more code points left or a single numeric code point.\r\n         * @param {!function(number)} dst Bytes destination as a function successively called with the next byte\r\n         */\r\n        utfx.encodeUTF8 = function(src, dst) {\r\n            var cp = null;\r\n            if (typeof src === 'number')\r\n                cp = src,\r\n                src = function() { return null; };\r\n            while (cp !== null || (cp = src()) !== null) {\r\n                if (cp < 0x80)\r\n                    dst(cp&0x7F);\r\n                else if (cp < 0x800)\r\n                    dst(((cp>>6)&0x1F)|0xC0),\r\n                    dst((cp&0x3F)|0x80);\r\n                else if (cp < 0x10000)\r\n                    dst(((cp>>12)&0x0F)|0xE0),\r\n                    dst(((cp>>6)&0x3F)|0x80),\r\n                    dst((cp&0x3F)|0x80);\r\n                else\r\n                    dst(((cp>>18)&0x07)|0xF0),\r\n                    dst(((cp>>12)&0x3F)|0x80),\r\n                    dst(((cp>>6)&0x3F)|0x80),\r\n                    dst((cp&0x3F)|0x80);\r\n                cp = null;\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Decodes UTF8 bytes to UTF8 code points.\r\n         * @param {!function():number|null} src Bytes source as a function returning the next byte respectively `null` if there\r\n         *  are no more bytes left.\r\n         * @param {!function(number)} dst Code points destination as a function successively called with each decoded code point.\r\n         * @throws {RangeError} If a starting byte is invalid in UTF8\r\n         * @throws {Error} If the last sequence is truncated. Has an array property `bytes` holding the\r\n         *  remaining bytes.\r\n         */\r\n        utfx.decodeUTF8 = function(src, dst) {\r\n            var a, b, c, d, fail = function(b) {\r\n                b = b.slice(0, b.indexOf(null));\r\n                var err = Error(b.toString());\r\n                err.name = \"TruncatedError\";\r\n                err['bytes'] = b;\r\n                throw err;\r\n            };\r\n            while ((a = src()) !== null) {\r\n                if ((a&0x80) === 0)\r\n                    dst(a);\r\n                else if ((a&0xE0) === 0xC0)\r\n                    ((b = src()) === null) && fail([a, b]),\r\n                    dst(((a&0x1F)<<6) | (b&0x3F));\r\n                else if ((a&0xF0) === 0xE0)\r\n                    ((b=src()) === null || (c=src()) === null) && fail([a, b, c]),\r\n                    dst(((a&0x0F)<<12) | ((b&0x3F)<<6) | (c&0x3F));\r\n                else if ((a&0xF8) === 0xF0)\r\n                    ((b=src()) === null || (c=src()) === null || (d=src()) === null) && fail([a, b, c ,d]),\r\n                    dst(((a&0x07)<<18) | ((b&0x3F)<<12) | ((c&0x3F)<<6) | (d&0x3F));\r\n                else throw RangeError(\"Illegal starting byte: \"+a);\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Converts UTF16 characters to UTF8 code points.\r\n         * @param {!function():number|null} src Characters source as a function returning the next char code respectively\r\n         *  `null` if there are no more characters left.\r\n         * @param {!function(number)} dst Code points destination as a function successively called with each converted code\r\n         *  point.\r\n         */\r\n        utfx.UTF16toUTF8 = function(src, dst) {\r\n            var c1, c2 = null;\r\n            while (true) {\r\n                if ((c1 = c2 !== null ? c2 : src()) === null)\r\n                    break;\r\n                if (c1 >= 0xD800 && c1 <= 0xDFFF) {\r\n                    if ((c2 = src()) !== null) {\r\n                        if (c2 >= 0xDC00 && c2 <= 0xDFFF) {\r\n                            dst((c1-0xD800)*0x400+c2-0xDC00+0x10000);\r\n                            c2 = null; continue;\r\n                        }\r\n                    }\r\n                }\r\n                dst(c1);\r\n            }\r\n            if (c2 !== null) dst(c2);\r\n        };\r\n\r\n        /**\r\n         * Converts UTF8 code points to UTF16 characters.\r\n         * @param {(!function():number|null) | number} src Code points source, either as a function returning the next code point\r\n         *  respectively `null` if there are no more code points left or a single numeric code point.\r\n         * @param {!function(number)} dst Characters destination as a function successively called with each converted char code.\r\n         * @throws {RangeError} If a code point is out of range\r\n         */\r\n        utfx.UTF8toUTF16 = function(src, dst) {\r\n            var cp = null;\r\n            if (typeof src === 'number')\r\n                cp = src, src = function() { return null; };\r\n            while (cp !== null || (cp = src()) !== null) {\r\n                if (cp <= 0xFFFF)\r\n                    dst(cp);\r\n                else\r\n                    cp -= 0x10000,\r\n                    dst((cp>>10)+0xD800),\r\n                    dst((cp%0x400)+0xDC00);\r\n                cp = null;\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Converts and encodes UTF16 characters to UTF8 bytes.\r\n         * @param {!function():number|null} src Characters source as a function returning the next char code respectively `null`\r\n         *  if there are no more characters left.\r\n         * @param {!function(number)} dst Bytes destination as a function successively called with the next byte.\r\n         */\r\n        utfx.encodeUTF16toUTF8 = function(src, dst) {\r\n            utfx.UTF16toUTF8(src, function(cp) {\r\n                utfx.encodeUTF8(cp, dst);\r\n            });\r\n        };\r\n\r\n        /**\r\n         * Decodes and converts UTF8 bytes to UTF16 characters.\r\n         * @param {!function():number|null} src Bytes source as a function returning the next byte respectively `null` if there\r\n         *  are no more bytes left.\r\n         * @param {!function(number)} dst Characters destination as a function successively called with each converted char code.\r\n         * @throws {RangeError} If a starting byte is invalid in UTF8\r\n         * @throws {Error} If the last sequence is truncated. Has an array property `bytes` holding the remaining bytes.\r\n         */\r\n        utfx.decodeUTF8toUTF16 = function(src, dst) {\r\n            utfx.decodeUTF8(src, function(cp) {\r\n                utfx.UTF8toUTF16(cp, dst);\r\n            });\r\n        };\r\n\r\n        /**\r\n         * Calculates the byte length of an UTF8 code point.\r\n         * @param {number} cp UTF8 code point\r\n         * @returns {number} Byte length\r\n         */\r\n        utfx.calculateCodePoint = function(cp) {\r\n            return (cp < 0x80) ? 1 : (cp < 0x800) ? 2 : (cp < 0x10000) ? 3 : 4;\r\n        };\r\n\r\n        /**\r\n         * Calculates the number of UTF8 bytes required to store UTF8 code points.\r\n         * @param {(!function():number|null)} src Code points source as a function returning the next code point respectively\r\n         *  `null` if there are no more code points left.\r\n         * @returns {number} The number of UTF8 bytes required\r\n         */\r\n        utfx.calculateUTF8 = function(src) {\r\n            var cp, l=0;\r\n            while ((cp = src()) !== null)\r\n                l += utfx.calculateCodePoint(cp);\r\n            return l;\r\n        };\r\n\r\n        /**\r\n         * Calculates the number of UTF8 code points respectively UTF8 bytes required to store UTF16 char codes.\r\n         * @param {(!function():number|null)} src Characters source as a function returning the next char code respectively\r\n         *  `null` if there are no more characters left.\r\n         * @returns {!Array.<number>} The number of UTF8 code points at index 0 and the number of UTF8 bytes required at index 1.\r\n         */\r\n        utfx.calculateUTF16asUTF8 = function(src) {\r\n            var n=0, l=0;\r\n            utfx.UTF16toUTF8(src, function(cp) {\r\n                ++n; l += utfx.calculateCodePoint(cp);\r\n            });\r\n            return [n,l];\r\n        };\r\n\r\n        return utfx;\r\n    }();\r\n\r\n    Date.now = Date.now || function() { return +new Date; };\r\n\r\n    /**\r\n     * @type {number}\r\n     * @const\r\n     * @inner\r\n     */\r\n    var BCRYPT_SALT_LEN = 16;\r\n\r\n    /**\r\n     * @type {number}\r\n     * @const\r\n     * @inner\r\n     */\r\n    var GENSALT_DEFAULT_LOG2_ROUNDS = 10;\r\n\r\n    /**\r\n     * @type {number}\r\n     * @const\r\n     * @inner\r\n     */\r\n    var BLOWFISH_NUM_ROUNDS = 16;\r\n\r\n    /**\r\n     * @type {number}\r\n     * @const\r\n     * @inner\r\n     */\r\n    var MAX_EXECUTION_TIME = 100;\r\n\r\n    /**\r\n     * @type {Array.<number>}\r\n     * @const\r\n     * @inner\r\n     */\r\n    var P_ORIG = [\r\n        0x243f6a88, 0x85a308d3, 0x13198a2e, 0x03707344, 0xa4093822,\r\n        0x299f31d0, 0x082efa98, 0xec4e6c89, 0x452821e6, 0x38d01377,\r\n        0xbe5466cf, 0x34e90c6c, 0xc0ac29b7, 0xc97c50dd, 0x3f84d5b5,\r\n        0xb5470917, 0x9216d5d9, 0x8979fb1b\r\n    ];\r\n\r\n    /**\r\n     * @type {Array.<number>}\r\n     * @const\r\n     * @inner\r\n     */\r\n    var S_ORIG = [\r\n        0xd1310ba6, 0x98dfb5ac, 0x2ffd72db, 0xd01adfb7, 0xb8e1afed,\r\n        0x6a267e96, 0xba7c9045, 0xf12c7f99, 0x24a19947, 0xb3916cf7,\r\n        0x0801f2e2, 0x858efc16, 0x636920d8, 0x71574e69, 0xa458fea3,\r\n        0xf4933d7e, 0x0d95748f, 0x728eb658, 0x718bcd58, 0x82154aee,\r\n        0x7b54a41d, 0xc25a59b5, 0x9c30d539, 0x2af26013, 0xc5d1b023,\r\n        0x286085f0, 0xca417918, 0xb8db38ef, 0x8e79dcb0, 0x603a180e,\r\n        0x6c9e0e8b, 0xb01e8a3e, 0xd71577c1, 0xbd314b27, 0x78af2fda,\r\n        0x55605c60, 0xe65525f3, 0xaa55ab94, 0x57489862, 0x63e81440,\r\n        0x55ca396a, 0x2aab10b6, 0xb4cc5c34, 0x1141e8ce, 0xa15486af,\r\n        0x7c72e993, 0xb3ee1411, 0x636fbc2a, 0x2ba9c55d, 0x741831f6,\r\n        0xce5c3e16, 0x9b87931e, 0xafd6ba33, 0x6c24cf5c, 0x7a325381,\r\n        0x28958677, 0x3b8f4898, 0x6b4bb9af, 0xc4bfe81b, 0x66282193,\r\n        0x61d809cc, 0xfb21a991, 0x487cac60, 0x5dec8032, 0xef845d5d,\r\n        0xe98575b1, 0xdc262302, 0xeb651b88, 0x23893e81, 0xd396acc5,\r\n        0x0f6d6ff3, 0x83f44239, 0x2e0b4482, 0xa4842004, 0x69c8f04a,\r\n        0x9e1f9b5e, 0x21c66842, 0xf6e96c9a, 0x670c9c61, 0xabd388f0,\r\n        0x6a51a0d2, 0xd8542f68, 0x960fa728, 0xab5133a3, 0x6eef0b6c,\r\n        0x137a3be4, 0xba3bf050, 0x7efb2a98, 0xa1f1651d, 0x39af0176,\r\n        0x66ca593e, 0x82430e88, 0x8cee8619, 0x456f9fb4, 0x7d84a5c3,\r\n        0x3b8b5ebe, 0xe06f75d8, 0x85c12073, 0x401a449f, 0x56c16aa6,\r\n        0x4ed3aa62, 0x363f7706, 0x1bfedf72, 0x429b023d, 0x37d0d724,\r\n        0xd00a1248, 0xdb0fead3, 0x49f1c09b, 0x075372c9, 0x80991b7b,\r\n        0x25d479d8, 0xf6e8def7, 0xe3fe501a, 0xb6794c3b, 0x976ce0bd,\r\n        0x04c006ba, 0xc1a94fb6, 0x409f60c4, 0x5e5c9ec2, 0x196a2463,\r\n        0x68fb6faf, 0x3e6c53b5, 0x1339b2eb, 0x3b52ec6f, 0x6dfc511f,\r\n        0x9b30952c, 0xcc814544, 0xaf5ebd09, 0xbee3d004, 0xde334afd,\r\n        0x660f2807, 0x192e4bb3, 0xc0cba857, 0x45c8740f, 0xd20b5f39,\r\n        0xb9d3fbdb, 0x5579c0bd, 0x1a60320a, 0xd6a100c6, 0x402c7279,\r\n        0x679f25fe, 0xfb1fa3cc, 0x8ea5e9f8, 0xdb3222f8, 0x3c7516df,\r\n        0xfd616b15, 0x2f501ec8, 0xad0552ab, 0x323db5fa, 0xfd238760,\r\n        0x53317b48, 0x3e00df82, 0x9e5c57bb, 0xca6f8ca0, 0x1a87562e,\r\n        0xdf1769db, 0xd542a8f6, 0x287effc3, 0xac6732c6, 0x8c4f5573,\r\n        0x695b27b0, 0xbbca58c8, 0xe1ffa35d, 0xb8f011a0, 0x10fa3d98,\r\n        0xfd2183b8, 0x4afcb56c, 0x2dd1d35b, 0x9a53e479, 0xb6f84565,\r\n        0xd28e49bc, 0x4bfb9790, 0xe1ddf2da, 0xa4cb7e33, 0x62fb1341,\r\n        0xcee4c6e8, 0xef20cada, 0x36774c01, 0xd07e9efe, 0x2bf11fb4,\r\n        0x95dbda4d, 0xae909198, 0xeaad8e71, 0x6b93d5a0, 0xd08ed1d0,\r\n        0xafc725e0, 0x8e3c5b2f, 0x8e7594b7, 0x8ff6e2fb, 0xf2122b64,\r\n        0x8888b812, 0x900df01c, 0x4fad5ea0, 0x688fc31c, 0xd1cff191,\r\n        0xb3a8c1ad, 0x2f2f2218, 0xbe0e1777, 0xea752dfe, 0x8b021fa1,\r\n        0xe5a0cc0f, 0xb56f74e8, 0x18acf3d6, 0xce89e299, 0xb4a84fe0,\r\n        0xfd13e0b7, 0x7cc43b81, 0xd2ada8d9, 0x165fa266, 0x80957705,\r\n        0x93cc7314, 0x211a1477, 0xe6ad2065, 0x77b5fa86, 0xc75442f5,\r\n        0xfb9d35cf, 0xebcdaf0c, 0x7b3e89a0, 0xd6411bd3, 0xae1e7e49,\r\n        0x00250e2d, 0x2071b35e, 0x226800bb, 0x57b8e0af, 0x2464369b,\r\n        0xf009b91e, 0x5563911d, 0x59dfa6aa, 0x78c14389, 0xd95a537f,\r\n        0x207d5ba2, 0x02e5b9c5, 0x83260376, 0x6295cfa9, 0x11c81968,\r\n        0x4e734a41, 0xb3472dca, 0x7b14a94a, 0x1b510052, 0x9a532915,\r\n        0xd60f573f, 0xbc9bc6e4, 0x2b60a476, 0x81e67400, 0x08ba6fb5,\r\n        0x571be91f, 0xf296ec6b, 0x2a0dd915, 0xb6636521, 0xe7b9f9b6,\r\n        0xff34052e, 0xc5855664, 0x53b02d5d, 0xa99f8fa1, 0x08ba4799,\r\n        0x6e85076a, 0x4b7a70e9, 0xb5b32944, 0xdb75092e, 0xc4192623,\r\n        0xad6ea6b0, 0x49a7df7d, 0x9cee60b8, 0x8fedb266, 0xecaa8c71,\r\n        0x699a17ff, 0x5664526c, 0xc2b19ee1, 0x193602a5, 0x75094c29,\r\n        0xa0591340, 0xe4183a3e, 0x3f54989a, 0x5b429d65, 0x6b8fe4d6,\r\n        0x99f73fd6, 0xa1d29c07, 0xefe830f5, 0x4d2d38e6, 0xf0255dc1,\r\n        0x4cdd2086, 0x8470eb26, 0x6382e9c6, 0x021ecc5e, 0x09686b3f,\r\n        0x3ebaefc9, 0x3c971814, 0x6b6a70a1, 0x687f3584, 0x52a0e286,\r\n        0xb79c5305, 0xaa500737, 0x3e07841c, 0x7fdeae5c, 0x8e7d44ec,\r\n        0x5716f2b8, 0xb03ada37, 0xf0500c0d, 0xf01c1f04, 0x0200b3ff,\r\n        0xae0cf51a, 0x3cb574b2, 0x25837a58, 0xdc0921bd, 0xd19113f9,\r\n        0x7ca92ff6, 0x94324773, 0x22f54701, 0x3ae5e581, 0x37c2dadc,\r\n        0xc8b57634, 0x9af3dda7, 0xa9446146, 0x0fd0030e, 0xecc8c73e,\r\n        0xa4751e41, 0xe238cd99, 0x3bea0e2f, 0x3280bba1, 0x183eb331,\r\n        0x4e548b38, 0x4f6db908, 0x6f420d03, 0xf60a04bf, 0x2cb81290,\r\n        0x24977c79, 0x5679b072, 0xbcaf89af, 0xde9a771f, 0xd9930810,\r\n        0xb38bae12, 0xdccf3f2e, 0x5512721f, 0x2e6b7124, 0x501adde6,\r\n        0x9f84cd87, 0x7a584718, 0x7408da17, 0xbc9f9abc, 0xe94b7d8c,\r\n        0xec7aec3a, 0xdb851dfa, 0x63094366, 0xc464c3d2, 0xef1c1847,\r\n        0x3215d908, 0xdd433b37, 0x24c2ba16, 0x12a14d43, 0x2a65c451,\r\n        0x50940002, 0x133ae4dd, 0x71dff89e, 0x10314e55, 0x81ac77d6,\r\n        0x5f11199b, 0x043556f1, 0xd7a3c76b, 0x3c11183b, 0x5924a509,\r\n        0xf28fe6ed, 0x97f1fbfa, 0x9ebabf2c, 0x1e153c6e, 0x86e34570,\r\n        0xeae96fb1, 0x860e5e0a, 0x5a3e2ab3, 0x771fe71c, 0x4e3d06fa,\r\n        0x2965dcb9, 0x99e71d0f, 0x803e89d6, 0x5266c825, 0x2e4cc978,\r\n        0x9c10b36a, 0xc6150eba, 0x94e2ea78, 0xa5fc3c53, 0x1e0a2df4,\r\n        0xf2f74ea7, 0x361d2b3d, 0x1939260f, 0x19c27960, 0x5223a708,\r\n        0xf71312b6, 0xebadfe6e, 0xeac31f66, 0xe3bc4595, 0xa67bc883,\r\n        0xb17f37d1, 0x018cff28, 0xc332ddef, 0xbe6c5aa5, 0x65582185,\r\n        0x68ab9802, 0xeecea50f, 0xdb2f953b, 0x2aef7dad, 0x5b6e2f84,\r\n        0x1521b628, 0x29076170, 0xecdd4775, 0x619f1510, 0x13cca830,\r\n        0xeb61bd96, 0x0334fe1e, 0xaa0363cf, 0xb5735c90, 0x4c70a239,\r\n        0xd59e9e0b, 0xcbaade14, 0xeecc86bc, 0x60622ca7, 0x9cab5cab,\r\n        0xb2f3846e, 0x648b1eaf, 0x19bdf0ca, 0xa02369b9, 0x655abb50,\r\n        0x40685a32, 0x3c2ab4b3, 0x319ee9d5, 0xc021b8f7, 0x9b540b19,\r\n        0x875fa099, 0x95f7997e, 0x623d7da8, 0xf837889a, 0x97e32d77,\r\n        0x11ed935f, 0x16681281, 0x0e358829, 0xc7e61fd6, 0x96dedfa1,\r\n        0x7858ba99, 0x57f584a5, 0x1b227263, 0x9b83c3ff, 0x1ac24696,\r\n        0xcdb30aeb, 0x532e3054, 0x8fd948e4, 0x6dbc3128, 0x58ebf2ef,\r\n        0x34c6ffea, 0xfe28ed61, 0xee7c3c73, 0x5d4a14d9, 0xe864b7e3,\r\n        0x42105d14, 0x203e13e0, 0x45eee2b6, 0xa3aaabea, 0xdb6c4f15,\r\n        0xfacb4fd0, 0xc742f442, 0xef6abbb5, 0x654f3b1d, 0x41cd2105,\r\n        0xd81e799e, 0x86854dc7, 0xe44b476a, 0x3d816250, 0xcf62a1f2,\r\n        0x5b8d2646, 0xfc8883a0, 0xc1c7b6a3, 0x7f1524c3, 0x69cb7492,\r\n        0x47848a0b, 0x5692b285, 0x095bbf00, 0xad19489d, 0x1462b174,\r\n        0x23820e00, 0x58428d2a, 0x0c55f5ea, 0x1dadf43e, 0x233f7061,\r\n        0x3372f092, 0x8d937e41, 0xd65fecf1, 0x6c223bdb, 0x7cde3759,\r\n        0xcbee7460, 0x4085f2a7, 0xce77326e, 0xa6078084, 0x19f8509e,\r\n        0xe8efd855, 0x61d99735, 0xa969a7aa, 0xc50c06c2, 0x5a04abfc,\r\n        0x800bcadc, 0x9e447a2e, 0xc3453484, 0xfdd56705, 0x0e1e9ec9,\r\n        0xdb73dbd3, 0x105588cd, 0x675fda79, 0xe3674340, 0xc5c43465,\r\n        0x713e38d8, 0x3d28f89e, 0xf16dff20, 0x153e21e7, 0x8fb03d4a,\r\n        0xe6e39f2b, 0xdb83adf7, 0xe93d5a68, 0x948140f7, 0xf64c261c,\r\n        0x94692934, 0x411520f7, 0x7602d4f7, 0xbcf46b2e, 0xd4a20068,\r\n        0xd4082471, 0x3320f46a, 0x43b7d4b7, 0x500061af, 0x1e39f62e,\r\n        0x97244546, 0x14214f74, 0xbf8b8840, 0x4d95fc1d, 0x96b591af,\r\n        0x70f4ddd3, 0x66a02f45, 0xbfbc09ec, 0x03bd9785, 0x7fac6dd0,\r\n        0x31cb8504, 0x96eb27b3, 0x55fd3941, 0xda2547e6, 0xabca0a9a,\r\n        0x28507825, 0x530429f4, 0x0a2c86da, 0xe9b66dfb, 0x68dc1462,\r\n        0xd7486900, 0x680ec0a4, 0x27a18dee, 0x4f3ffea2, 0xe887ad8c,\r\n        0xb58ce006, 0x7af4d6b6, 0xaace1e7c, 0xd3375fec, 0xce78a399,\r\n        0x406b2a42, 0x20fe9e35, 0xd9f385b9, 0xee39d7ab, 0x3b124e8b,\r\n        0x1dc9faf7, 0x4b6d1856, 0x26a36631, 0xeae397b2, 0x3a6efa74,\r\n        0xdd5b4332, 0x6841e7f7, 0xca7820fb, 0xfb0af54e, 0xd8feb397,\r\n        0x454056ac, 0xba489527, 0x55533a3a, 0x20838d87, 0xfe6ba9b7,\r\n        0xd096954b, 0x55a867bc, 0xa1159a58, 0xcca92963, 0x99e1db33,\r\n        0xa62a4a56, 0x3f3125f9, 0x5ef47e1c, 0x9029317c, 0xfdf8e802,\r\n        0x04272f70, 0x80bb155c, 0x05282ce3, 0x95c11548, 0xe4c66d22,\r\n        0x48c1133f, 0xc70f86dc, 0x07f9c9ee, 0x41041f0f, 0x404779a4,\r\n        0x5d886e17, 0x325f51eb, 0xd59bc0d1, 0xf2bcc18f, 0x41113564,\r\n        0x257b7834, 0x602a9c60, 0xdff8e8a3, 0x1f636c1b, 0x0e12b4c2,\r\n        0x02e1329e, 0xaf664fd1, 0xcad18115, 0x6b2395e0, 0x333e92e1,\r\n        0x3b240b62, 0xeebeb922, 0x85b2a20e, 0xe6ba0d99, 0xde720c8c,\r\n        0x2da2f728, 0xd0127845, 0x95b794fd, 0x647d0862, 0xe7ccf5f0,\r\n        0x5449a36f, 0x877d48fa, 0xc39dfd27, 0xf33e8d1e, 0x0a476341,\r\n        0x992eff74, 0x3a6f6eab, 0xf4f8fd37, 0xa812dc60, 0xa1ebddf8,\r\n        0x991be14c, 0xdb6e6b0d, 0xc67b5510, 0x6d672c37, 0x2765d43b,\r\n        0xdcd0e804, 0xf1290dc7, 0xcc00ffa3, 0xb5390f92, 0x690fed0b,\r\n        0x667b9ffb, 0xcedb7d9c, 0xa091cf0b, 0xd9155ea3, 0xbb132f88,\r\n        0x515bad24, 0x7b9479bf, 0x763bd6eb, 0x37392eb3, 0xcc115979,\r\n        0x8026e297, 0xf42e312d, 0x6842ada7, 0xc66a2b3b, 0x12754ccc,\r\n        0x782ef11c, 0x6a124237, 0xb79251e7, 0x06a1bbe6, 0x4bfb6350,\r\n        0x1a6b1018, 0x11caedfa, 0x3d25bdd8, 0xe2e1c3c9, 0x44421659,\r\n        0x0a121386, 0xd90cec6e, 0xd5abea2a, 0x64af674e, 0xda86a85f,\r\n        0xbebfe988, 0x64e4c3fe, 0x9dbc8057, 0xf0f7c086, 0x60787bf8,\r\n        0x6003604d, 0xd1fd8346, 0xf6381fb0, 0x7745ae04, 0xd736fccc,\r\n        0x83426b33, 0xf01eab71, 0xb0804187, 0x3c005e5f, 0x77a057be,\r\n        0xbde8ae24, 0x55464299, 0xbf582e61, 0x4e58f48f, 0xf2ddfda2,\r\n        0xf474ef38, 0x8789bdc2, 0x5366f9c3, 0xc8b38e74, 0xb475f255,\r\n        0x46fcd9b9, 0x7aeb2661, 0x8b1ddf84, 0x846a0e79, 0x915f95e2,\r\n        0x466e598e, 0x20b45770, 0x8cd55591, 0xc902de4c, 0xb90bace1,\r\n        0xbb8205d0, 0x11a86248, 0x7574a99e, 0xb77f19b6, 0xe0a9dc09,\r\n        0x662d09a1, 0xc4324633, 0xe85a1f02, 0x09f0be8c, 0x4a99a025,\r\n        0x1d6efe10, 0x1ab93d1d, 0x0ba5a4df, 0xa186f20f, 0x2868f169,\r\n        0xdcb7da83, 0x573906fe, 0xa1e2ce9b, 0x4fcd7f52, 0x50115e01,\r\n        0xa70683fa, 0xa002b5c4, 0x0de6d027, 0x9af88c27, 0x773f8641,\r\n        0xc3604c06, 0x61a806b5, 0xf0177a28, 0xc0f586e0, 0x006058aa,\r\n        0x30dc7d62, 0x11e69ed7, 0x2338ea63, 0x53c2dd94, 0xc2c21634,\r\n        0xbbcbee56, 0x90bcb6de, 0xebfc7da1, 0xce591d76, 0x6f05e409,\r\n        0x4b7c0188, 0x39720a3d, 0x7c927c24, 0x86e3725f, 0x724d9db9,\r\n        0x1ac15bb4, 0xd39eb8fc, 0xed545578, 0x08fca5b5, 0xd83d7cd3,\r\n        0x4dad0fc4, 0x1e50ef5e, 0xb161e6f8, 0xa28514d9, 0x6c51133c,\r\n        0x6fd5c7e7, 0x56e14ec4, 0x362abfce, 0xddc6c837, 0xd79a3234,\r\n        0x92638212, 0x670efa8e, 0x406000e0, 0x3a39ce37, 0xd3faf5cf,\r\n        0xabc27737, 0x5ac52d1b, 0x5cb0679e, 0x4fa33742, 0xd3822740,\r\n        0x99bc9bbe, 0xd5118e9d, 0xbf0f7315, 0xd62d1c7e, 0xc700c47b,\r\n        0xb78c1b6b, 0x21a19045, 0xb26eb1be, 0x6a366eb4, 0x5748ab2f,\r\n        0xbc946e79, 0xc6a376d2, 0x6549c2c8, 0x530ff8ee, 0x468dde7d,\r\n        0xd5730a1d, 0x4cd04dc6, 0x2939bbdb, 0xa9ba4650, 0xac9526e8,\r\n        0xbe5ee304, 0xa1fad5f0, 0x6a2d519a, 0x63ef8ce2, 0x9a86ee22,\r\n        0xc089c2b8, 0x43242ef6, 0xa51e03aa, 0x9cf2d0a4, 0x83c061ba,\r\n        0x9be96a4d, 0x8fe51550, 0xba645bd6, 0x2826a2f9, 0xa73a3ae1,\r\n        0x4ba99586, 0xef5562e9, 0xc72fefd3, 0xf752f7da, 0x3f046f69,\r\n        0x77fa0a59, 0x80e4a915, 0x87b08601, 0x9b09e6ad, 0x3b3ee593,\r\n        0xe990fd5a, 0x9e34d797, 0x2cf0b7d9, 0x022b8b51, 0x96d5ac3a,\r\n        0x017da67d, 0xd1cf3ed6, 0x7c7d2d28, 0x1f9f25cf, 0xadf2b89b,\r\n        0x5ad6b472, 0x5a88f54c, 0xe029ac71, 0xe019a5e6, 0x47b0acfd,\r\n        0xed93fa9b, 0xe8d3c48d, 0x283b57cc, 0xf8d56629, 0x79132e28,\r\n        0x785f0191, 0xed756055, 0xf7960e44, 0xe3d35e8c, 0x15056dd4,\r\n        0x88f46dba, 0x03a16125, 0x0564f0bd, 0xc3eb9e15, 0x3c9057a2,\r\n        0x97271aec, 0xa93a072a, 0x1b3f6d9b, 0x1e6321f5, 0xf59c66fb,\r\n        0x26dcf319, 0x7533d928, 0xb155fdf5, 0x03563482, 0x8aba3cbb,\r\n        0x28517711, 0xc20ad9f8, 0xabcc5167, 0xccad925f, 0x4de81751,\r\n        0x3830dc8e, 0x379d5862, 0x9320f991, 0xea7a90c2, 0xfb3e7bce,\r\n        0x5121ce64, 0x774fbe32, 0xa8b6e37e, 0xc3293d46, 0x48de5369,\r\n        0x6413e680, 0xa2ae0810, 0xdd6db224, 0x69852dfd, 0x09072166,\r\n        0xb39a460a, 0x6445c0dd, 0x586cdecf, 0x1c20c8ae, 0x5bbef7dd,\r\n        0x1b588d40, 0xccd2017f, 0x6bb4e3bb, 0xdda26a7e, 0x3a59ff45,\r\n        0x3e350a44, 0xbcb4cdd5, 0x72eacea8, 0xfa6484bb, 0x8d6612ae,\r\n        0xbf3c6f47, 0xd29be463, 0x542f5d9e, 0xaec2771b, 0xf64e6370,\r\n        0x740e0d8d, 0xe75b1357, 0xf8721671, 0xaf537d5d, 0x4040cb08,\r\n        0x4eb4e2cc, 0x34d2466a, 0x0115af84, 0xe1b00428, 0x95983a1d,\r\n        0x06b89fb4, 0xce6ea048, 0x6f3f3b82, 0x3520ab82, 0x011a1d4b,\r\n        0x277227f8, 0x611560b1, 0xe7933fdc, 0xbb3a792b, 0x344525bd,\r\n        0xa08839e1, 0x51ce794b, 0x2f32c9b7, 0xa01fbac9, 0xe01cc87e,\r\n        0xbcc7d1f6, 0xcf0111c3, 0xa1e8aac7, 0x1a908749, 0xd44fbd9a,\r\n        0xd0dadecb, 0xd50ada38, 0x0339c32a, 0xc6913667, 0x8df9317c,\r\n        0xe0b12b4f, 0xf79e59b7, 0x43f5bb3a, 0xf2d519ff, 0x27d9459c,\r\n        0xbf97222c, 0x15e6fc2a, 0x0f91fc71, 0x9b941525, 0xfae59361,\r\n        0xceb69ceb, 0xc2a86459, 0x12baa8d1, 0xb6c1075e, 0xe3056a0c,\r\n        0x10d25065, 0xcb03a442, 0xe0ec6e0e, 0x1698db3b, 0x4c98a0be,\r\n        0x3278e964, 0x9f1f9532, 0xe0d392df, 0xd3a0342b, 0x8971f21e,\r\n        0x1b0a7441, 0x4ba3348c, 0xc5be7120, 0xc37632d8, 0xdf359f8d,\r\n        0x9b992f2e, 0xe60b6f47, 0x0fe3f11d, 0xe54cda54, 0x1edad891,\r\n        0xce6279cf, 0xcd3e7e6f, 0x1618b166, 0xfd2c1d05, 0x848fd2c5,\r\n        0xf6fb2299, 0xf523f357, 0xa6327623, 0x93a83531, 0x56cccd02,\r\n        0xacf08162, 0x5a75ebb5, 0x6e163697, 0x88d273cc, 0xde966292,\r\n        0x81b949d0, 0x4c50901b, 0x71c65614, 0xe6c6c7bd, 0x327a140a,\r\n        0x45e1d006, 0xc3f27b9a, 0xc9aa53fd, 0x62a80f00, 0xbb25bfe2,\r\n        0x35bdd2f6, 0x71126905, 0xb2040222, 0xb6cbcf7c, 0xcd769c2b,\r\n        0x53113ec0, 0x1640e3d3, 0x38abbd60, 0x2547adf0, 0xba38209c,\r\n        0xf746ce76, 0x77afa1c5, 0x20756060, 0x85cbfe4e, 0x8ae88dd8,\r\n        0x7aaaf9b0, 0x4cf9aa7e, 0x1948c25c, 0x02fb8a8c, 0x01c36ae4,\r\n        0xd6ebe1f9, 0x90d4f869, 0xa65cdea0, 0x3f09252d, 0xc208e69f,\r\n        0xb74e6132, 0xce77e25b, 0x578fdfe3, 0x3ac372e6\r\n    ];\r\n\r\n    /**\r\n     * @type {Array.<number>}\r\n     * @const\r\n     * @inner\r\n     */\r\n    var C_ORIG = [\r\n        0x4f727068, 0x65616e42, 0x65686f6c, 0x64657253, 0x63727944,\r\n        0x6f756274\r\n    ];\r\n\r\n    /**\r\n     * @param {Array.<number>} lr\r\n     * @param {number} off\r\n     * @param {Array.<number>} P\r\n     * @param {Array.<number>} S\r\n     * @returns {Array.<number>}\r\n     * @inner\r\n     */\r\n    function _encipher(lr, off, P, S) { // This is our bottleneck: 1714/1905 ticks / 90% - see profile.txt\r\n        var n,\r\n            l = lr[off],\r\n            r = lr[off + 1];\r\n\r\n        l ^= P[0];\r\n\r\n        /*\r\n        for (var i=0, k=BLOWFISH_NUM_ROUNDS-2; i<=k;)\r\n            // Feistel substitution on left word\r\n            n  = S[l >>> 24],\r\n            n += S[0x100 | ((l >> 16) & 0xff)],\r\n            n ^= S[0x200 | ((l >> 8) & 0xff)],\r\n            n += S[0x300 | (l & 0xff)],\r\n            r ^= n ^ P[++i],\r\n            // Feistel substitution on right word\r\n            n  = S[r >>> 24],\r\n            n += S[0x100 | ((r >> 16) & 0xff)],\r\n            n ^= S[0x200 | ((r >> 8) & 0xff)],\r\n            n += S[0x300 | (r & 0xff)],\r\n            l ^= n ^ P[++i];\r\n        */\r\n\r\n        //The following is an unrolled version of the above loop.\r\n        //Iteration 0\r\n        n  = S[l >>> 24];\r\n        n += S[0x100 | ((l >> 16) & 0xff)];\r\n        n ^= S[0x200 | ((l >> 8) & 0xff)];\r\n        n += S[0x300 | (l & 0xff)];\r\n        r ^= n ^ P[1];\r\n        n  = S[r >>> 24];\r\n        n += S[0x100 | ((r >> 16) & 0xff)];\r\n        n ^= S[0x200 | ((r >> 8) & 0xff)];\r\n        n += S[0x300 | (r & 0xff)];\r\n        l ^= n ^ P[2];\r\n        //Iteration 1\r\n        n  = S[l >>> 24];\r\n        n += S[0x100 | ((l >> 16) & 0xff)];\r\n        n ^= S[0x200 | ((l >> 8) & 0xff)];\r\n        n += S[0x300 | (l & 0xff)];\r\n        r ^= n ^ P[3];\r\n        n  = S[r >>> 24];\r\n        n += S[0x100 | ((r >> 16) & 0xff)];\r\n        n ^= S[0x200 | ((r >> 8) & 0xff)];\r\n        n += S[0x300 | (r & 0xff)];\r\n        l ^= n ^ P[4];\r\n        //Iteration 2\r\n        n  = S[l >>> 24];\r\n        n += S[0x100 | ((l >> 16) & 0xff)];\r\n        n ^= S[0x200 | ((l >> 8) & 0xff)];\r\n        n += S[0x300 | (l & 0xff)];\r\n        r ^= n ^ P[5];\r\n        n  = S[r >>> 24];\r\n        n += S[0x100 | ((r >> 16) & 0xff)];\r\n        n ^= S[0x200 | ((r >> 8) & 0xff)];\r\n        n += S[0x300 | (r & 0xff)];\r\n        l ^= n ^ P[6];\r\n        //Iteration 3\r\n        n  = S[l >>> 24];\r\n        n += S[0x100 | ((l >> 16) & 0xff)];\r\n        n ^= S[0x200 | ((l >> 8) & 0xff)];\r\n        n += S[0x300 | (l & 0xff)];\r\n        r ^= n ^ P[7];\r\n        n  = S[r >>> 24];\r\n        n += S[0x100 | ((r >> 16) & 0xff)];\r\n        n ^= S[0x200 | ((r >> 8) & 0xff)];\r\n        n += S[0x300 | (r & 0xff)];\r\n        l ^= n ^ P[8];\r\n        //Iteration 4\r\n        n  = S[l >>> 24];\r\n        n += S[0x100 | ((l >> 16) & 0xff)];\r\n        n ^= S[0x200 | ((l >> 8) & 0xff)];\r\n        n += S[0x300 | (l & 0xff)];\r\n        r ^= n ^ P[9];\r\n        n  = S[r >>> 24];\r\n        n += S[0x100 | ((r >> 16) & 0xff)];\r\n        n ^= S[0x200 | ((r >> 8) & 0xff)];\r\n        n += S[0x300 | (r & 0xff)];\r\n        l ^= n ^ P[10];\r\n        //Iteration 5\r\n        n  = S[l >>> 24];\r\n        n += S[0x100 | ((l >> 16) & 0xff)];\r\n        n ^= S[0x200 | ((l >> 8) & 0xff)];\r\n        n += S[0x300 | (l & 0xff)];\r\n        r ^= n ^ P[11];\r\n        n  = S[r >>> 24];\r\n        n += S[0x100 | ((r >> 16) & 0xff)];\r\n        n ^= S[0x200 | ((r >> 8) & 0xff)];\r\n        n += S[0x300 | (r & 0xff)];\r\n        l ^= n ^ P[12];\r\n        //Iteration 6\r\n        n  = S[l >>> 24];\r\n        n += S[0x100 | ((l >> 16) & 0xff)];\r\n        n ^= S[0x200 | ((l >> 8) & 0xff)];\r\n        n += S[0x300 | (l & 0xff)];\r\n        r ^= n ^ P[13];\r\n        n  = S[r >>> 24];\r\n        n += S[0x100 | ((r >> 16) & 0xff)];\r\n        n ^= S[0x200 | ((r >> 8) & 0xff)];\r\n        n += S[0x300 | (r & 0xff)];\r\n        l ^= n ^ P[14];\r\n        //Iteration 7\r\n        n  = S[l >>> 24];\r\n        n += S[0x100 | ((l >> 16) & 0xff)];\r\n        n ^= S[0x200 | ((l >> 8) & 0xff)];\r\n        n += S[0x300 | (l & 0xff)];\r\n        r ^= n ^ P[15];\r\n        n  = S[r >>> 24];\r\n        n += S[0x100 | ((r >> 16) & 0xff)];\r\n        n ^= S[0x200 | ((r >> 8) & 0xff)];\r\n        n += S[0x300 | (r & 0xff)];\r\n        l ^= n ^ P[16];\r\n\r\n        lr[off] = r ^ P[BLOWFISH_NUM_ROUNDS + 1];\r\n        lr[off + 1] = l;\r\n        return lr;\r\n    }\r\n\r\n    /**\r\n     * @param {Array.<number>} data\r\n     * @param {number} offp\r\n     * @returns {{key: number, offp: number}}\r\n     * @inner\r\n     */\r\n    function _streamtoword(data, offp) {\r\n        for (var i = 0, word = 0; i < 4; ++i)\r\n            word = (word << 8) | (data[offp] & 0xff),\r\n            offp = (offp + 1) % data.length;\r\n        return { key: word, offp: offp };\r\n    }\r\n\r\n    /**\r\n     * @param {Array.<number>} key\r\n     * @param {Array.<number>} P\r\n     * @param {Array.<number>} S\r\n     * @inner\r\n     */\r\n    function _key(key, P, S) {\r\n        var offset = 0,\r\n            lr = [0, 0],\r\n            plen = P.length,\r\n            slen = S.length,\r\n            sw;\r\n        for (var i = 0; i < plen; i++)\r\n            sw = _streamtoword(key, offset),\r\n            offset = sw.offp,\r\n            P[i] = P[i] ^ sw.key;\r\n        for (i = 0; i < plen; i += 2)\r\n            lr = _encipher(lr, 0, P, S),\r\n            P[i] = lr[0],\r\n            P[i + 1] = lr[1];\r\n        for (i = 0; i < slen; i += 2)\r\n            lr = _encipher(lr, 0, P, S),\r\n            S[i] = lr[0],\r\n            S[i + 1] = lr[1];\r\n    }\r\n\r\n    /**\r\n     * Expensive key schedule Blowfish.\r\n     * @param {Array.<number>} data\r\n     * @param {Array.<number>} key\r\n     * @param {Array.<number>} P\r\n     * @param {Array.<number>} S\r\n     * @inner\r\n     */\r\n    function _ekskey(data, key, P, S) {\r\n        var offp = 0,\r\n            lr = [0, 0],\r\n            plen = P.length,\r\n            slen = S.length,\r\n            sw;\r\n        for (var i = 0; i < plen; i++)\r\n            sw = _streamtoword(key, offp),\r\n            offp = sw.offp,\r\n            P[i] = P[i] ^ sw.key;\r\n        offp = 0;\r\n        for (i = 0; i < plen; i += 2)\r\n            sw = _streamtoword(data, offp),\r\n            offp = sw.offp,\r\n            lr[0] ^= sw.key,\r\n            sw = _streamtoword(data, offp),\r\n            offp = sw.offp,\r\n            lr[1] ^= sw.key,\r\n            lr = _encipher(lr, 0, P, S),\r\n            P[i] = lr[0],\r\n            P[i + 1] = lr[1];\r\n        for (i = 0; i < slen; i += 2)\r\n            sw = _streamtoword(data, offp),\r\n            offp = sw.offp,\r\n            lr[0] ^= sw.key,\r\n            sw = _streamtoword(data, offp),\r\n            offp = sw.offp,\r\n            lr[1] ^= sw.key,\r\n            lr = _encipher(lr, 0, P, S),\r\n            S[i] = lr[0],\r\n            S[i + 1] = lr[1];\r\n    }\r\n\r\n    /**\r\n     * Internaly crypts a string.\r\n     * @param {Array.<number>} b Bytes to crypt\r\n     * @param {Array.<number>} salt Salt bytes to use\r\n     * @param {number} rounds Number of rounds\r\n     * @param {function(Error, Array.<number>=)=} callback Callback receiving the error, if any, and the resulting bytes. If\r\n     *  omitted, the operation will be performed synchronously.\r\n     *  @param {function(number)=} progressCallback Callback called with the current progress\r\n     * @returns {!Array.<number>|undefined} Resulting bytes if callback has been omitted, otherwise `undefined`\r\n     * @inner\r\n     */\r\n    function _crypt(b, salt, rounds, callback, progressCallback) {\r\n        var cdata = C_ORIG.slice(),\r\n            clen = cdata.length,\r\n            err;\r\n\r\n        // Validate\r\n        if (rounds < 4 || rounds > 31) {\r\n            err = Error(\"Illegal number of rounds (4-31): \"+rounds);\r\n            if (callback) {\r\n                nextTick(callback.bind(this, err));\r\n                return;\r\n            } else\r\n                throw err;\r\n        }\r\n        if (salt.length !== BCRYPT_SALT_LEN) {\r\n            err =Error(\"Illegal salt length: \"+salt.length+\" != \"+BCRYPT_SALT_LEN);\r\n            if (callback) {\r\n                nextTick(callback.bind(this, err));\r\n                return;\r\n            } else\r\n                throw err;\r\n        }\r\n        rounds = (1 << rounds) >>> 0;\r\n\r\n        var P, S, i = 0, j;\r\n\r\n        //Use typed arrays when available - huge speedup!\r\n        if (Int32Array) {\r\n            P = new Int32Array(P_ORIG);\r\n            S = new Int32Array(S_ORIG);\r\n        } else {\r\n            P = P_ORIG.slice();\r\n            S = S_ORIG.slice();\r\n        }\r\n\r\n        _ekskey(salt, b, P, S);\r\n\r\n        /**\r\n         * Calcualtes the next round.\r\n         * @returns {Array.<number>|undefined} Resulting array if callback has been omitted, otherwise `undefined`\r\n         * @inner\r\n         */\r\n        function next() {\r\n            if (progressCallback)\r\n                progressCallback(i / rounds);\r\n            if (i < rounds) {\r\n                var start = Date.now();\r\n                for (; i < rounds;) {\r\n                    i = i + 1;\r\n                    _key(b, P, S);\r\n                    _key(salt, P, S);\r\n                    if (Date.now() - start > MAX_EXECUTION_TIME)\r\n                        break;\r\n                }\r\n            } else {\r\n                for (i = 0; i < 64; i++)\r\n                    for (j = 0; j < (clen >> 1); j++)\r\n                        _encipher(cdata, j << 1, P, S);\r\n                var ret = [];\r\n                for (i = 0; i < clen; i++)\r\n                    ret.push(((cdata[i] >> 24) & 0xff) >>> 0),\r\n                    ret.push(((cdata[i] >> 16) & 0xff) >>> 0),\r\n                    ret.push(((cdata[i] >> 8) & 0xff) >>> 0),\r\n                    ret.push((cdata[i] & 0xff) >>> 0);\r\n                if (callback) {\r\n                    callback(null, ret);\r\n                    return;\r\n                } else\r\n                    return ret;\r\n            }\r\n            if (callback)\r\n                nextTick(next);\r\n        }\r\n\r\n        // Async\r\n        if (typeof callback !== 'undefined') {\r\n            next();\r\n\r\n            // Sync\r\n        } else {\r\n            var res;\r\n            while (true)\r\n                if (typeof(res = next()) !== 'undefined')\r\n                    return res || [];\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Internally hashes a string.\r\n     * @param {string} s String to hash\r\n     * @param {?string} salt Salt to use, actually never null\r\n     * @param {function(Error, string=)=} callback Callback receiving the error, if any, and the resulting hash. If omitted,\r\n     *  hashing is perormed synchronously.\r\n     *  @param {function(number)=} progressCallback Callback called with the current progress\r\n     * @returns {string|undefined} Resulting hash if callback has been omitted, otherwise `undefined`\r\n     * @inner\r\n     */\r\n    function _hash(s, salt, callback, progressCallback) {\r\n        var err;\r\n        if (typeof s !== 'string' || typeof salt !== 'string') {\r\n            err = Error(\"Invalid string / salt: Not a string\");\r\n            if (callback) {\r\n                nextTick(callback.bind(this, err));\r\n                return;\r\n            }\r\n            else\r\n                throw err;\r\n        }\r\n\r\n        // Validate the salt\r\n        var minor, offset;\r\n        if (salt.charAt(0) !== '$' || salt.charAt(1) !== '2') {\r\n            err = Error(\"Invalid salt version: \"+salt.substring(0,2));\r\n            if (callback) {\r\n                nextTick(callback.bind(this, err));\r\n                return;\r\n            }\r\n            else\r\n                throw err;\r\n        }\r\n        if (salt.charAt(2) === '$')\r\n            minor = String.fromCharCode(0),\r\n            offset = 3;\r\n        else {\r\n            minor = salt.charAt(2);\r\n            if ((minor !== 'a' && minor !== 'b' && minor !== 'y') || salt.charAt(3) !== '$') {\r\n                err = Error(\"Invalid salt revision: \"+salt.substring(2,4));\r\n                if (callback) {\r\n                    nextTick(callback.bind(this, err));\r\n                    return;\r\n                } else\r\n                    throw err;\r\n            }\r\n            offset = 4;\r\n        }\r\n\r\n        // Extract number of rounds\r\n        if (salt.charAt(offset + 2) > '$') {\r\n            err = Error(\"Missing salt rounds\");\r\n            if (callback) {\r\n                nextTick(callback.bind(this, err));\r\n                return;\r\n            } else\r\n                throw err;\r\n        }\r\n        var r1 = parseInt(salt.substring(offset, offset + 1), 10) * 10,\r\n            r2 = parseInt(salt.substring(offset + 1, offset + 2), 10),\r\n            rounds = r1 + r2,\r\n            real_salt = salt.substring(offset + 3, offset + 25);\r\n        s += minor >= 'a' ? \"\\x00\" : \"\";\r\n\r\n        var passwordb = stringToBytes(s),\r\n            saltb = base64_decode(real_salt, BCRYPT_SALT_LEN);\r\n\r\n        /**\r\n         * Finishes hashing.\r\n         * @param {Array.<number>} bytes Byte array\r\n         * @returns {string}\r\n         * @inner\r\n         */\r\n        function finish(bytes) {\r\n            var res = [];\r\n            res.push(\"$2\");\r\n            if (minor >= 'a')\r\n                res.push(minor);\r\n            res.push(\"$\");\r\n            if (rounds < 10)\r\n                res.push(\"0\");\r\n            res.push(rounds.toString());\r\n            res.push(\"$\");\r\n            res.push(base64_encode(saltb, saltb.length));\r\n            res.push(base64_encode(bytes, C_ORIG.length * 4 - 1));\r\n            return res.join('');\r\n        }\r\n\r\n        // Sync\r\n        if (typeof callback == 'undefined')\r\n            return finish(_crypt(passwordb, saltb, rounds));\r\n\r\n        // Async\r\n        else {\r\n            _crypt(passwordb, saltb, rounds, function(err, bytes) {\r\n                if (err)\r\n                    callback(err, null);\r\n                else\r\n                    callback(null, finish(bytes));\r\n            }, progressCallback);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Encodes a byte array to base64 with up to len bytes of input, using the custom bcrypt alphabet.\r\n     * @function\r\n     * @param {!Array.<number>} b Byte array\r\n     * @param {number} len Maximum input length\r\n     * @returns {string}\r\n     * @expose\r\n     */\r\n    bcrypt.encodeBase64 = base64_encode;\r\n\r\n    /**\r\n     * Decodes a base64 encoded string to up to len bytes of output, using the custom bcrypt alphabet.\r\n     * @function\r\n     * @param {string} s String to decode\r\n     * @param {number} len Maximum output length\r\n     * @returns {!Array.<number>}\r\n     * @expose\r\n     */\r\n    bcrypt.decodeBase64 = base64_decode;\r\n\r\n    return bcrypt;\r\n}));\r\n","import Element from './element.js';\nexport default class Script extends Element {\n    /**\n    * Constructs a new sript element.\n    */\n    constructor() {\n        let title = document.createElementNS('http://www.w3.org/2000/svg', 'script');\n        super(title);\n    }\n    // comments inherited from base class\n    setAttribute(name, value) {\n        this.root.setAttribute(name, value);\n        return this;\n    }\n    // comments inherited from base class\n    getAttribute(name) {\n        return this.root.getAttribute(name);\n    }\n}\n//# sourceMappingURL=script.js.map","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import Control from './control.js';\n// A first pass implementation of a control circle. In the future, it seems to\n// make sense for basic elements to be draggable. I think this would mean\n// making a draggable interface or class that contains window event handlers.\n// Another alternative would be moving some of that logic into the controller or\n// interactive wrapper class.\nexport default class ControlCircle extends Control {\n    /**\n    * Constructs a control at the position (x,y)\n    */\n    constructor(x, y) {\n        super(x, y);\n        this.point.r = ControlCircle.circleRadius;\n        this.handle.r = ControlCircle.circleRadius + .8;\n        this.handle.style.strokeWidth = '2';\n        // this.point.style.fill = 'lightblue';\n        this.point.style.fill = this.handle.style.stroke;\n    }\n}\n// Describes the size of the control handle and point\nControlCircle.circleRadius = 10;\n//# sourceMappingURL=control-circle.js.map","/* @license\nPapa Parse\nv5.3.0\nhttps://github.com/mholt/PapaParse\nLicense: MIT\n*/\n!function(e,t){\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof module&&\"undefined\"!=typeof exports?module.exports=t():e.Papa=t()}(this,function s(){\"use strict\";var f=\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:void 0!==f?f:{};var n=!f.document&&!!f.postMessage,o=n&&/blob:/i.test((f.location||{}).protocol),a={},h=0,b={parse:function(e,t){var i=(t=t||{}).dynamicTyping||!1;U(i)&&(t.dynamicTypingFunction=i,i={});if(t.dynamicTyping=i,t.transform=!!U(t.transform)&&t.transform,t.worker&&b.WORKERS_SUPPORTED){var r=function(){if(!b.WORKERS_SUPPORTED)return!1;var e=(i=f.URL||f.webkitURL||null,r=s.toString(),b.BLOB_URL||(b.BLOB_URL=i.createObjectURL(new Blob([\"(\",r,\")();\"],{type:\"text/javascript\"})))),t=new f.Worker(e);var i,r;return t.onmessage=m,t.id=h++,a[t.id]=t}();return r.userStep=t.step,r.userChunk=t.chunk,r.userComplete=t.complete,r.userError=t.error,t.step=U(t.step),t.chunk=U(t.chunk),t.complete=U(t.complete),t.error=U(t.error),delete t.worker,void r.postMessage({input:e,config:t,workerId:r.id})}var n=null;b.NODE_STREAM_INPUT,\"string\"==typeof e?n=t.download?new l(t):new p(t):!0===e.readable&&U(e.read)&&U(e.on)?n=new g(t):(f.File&&e instanceof File||e instanceof Object)&&(n=new c(t));return n.stream(e)},unparse:function(e,t){var n=!1,m=!0,_=\",\",v=\"\\r\\n\",s='\"',a=s+s,i=!1,r=null,o=!1;!function(){if(\"object\"!=typeof t)return;\"string\"!=typeof t.delimiter||b.BAD_DELIMITERS.filter(function(e){return-1!==t.delimiter.indexOf(e)}).length||(_=t.delimiter);(\"boolean\"==typeof t.quotes||\"function\"==typeof t.quotes||Array.isArray(t.quotes))&&(n=t.quotes);\"boolean\"!=typeof t.skipEmptyLines&&\"string\"!=typeof t.skipEmptyLines||(i=t.skipEmptyLines);\"string\"==typeof t.newline&&(v=t.newline);\"string\"==typeof t.quoteChar&&(s=t.quoteChar);\"boolean\"==typeof t.header&&(m=t.header);if(Array.isArray(t.columns)){if(0===t.columns.length)throw new Error(\"Option columns is empty\");r=t.columns}void 0!==t.escapeChar&&(a=t.escapeChar+s);\"boolean\"==typeof t.escapeFormulae&&(o=t.escapeFormulae)}();var h=new RegExp(q(s),\"g\");\"string\"==typeof e&&(e=JSON.parse(e));if(Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return f(null,e,i);if(\"object\"==typeof e[0])return f(r||u(e[0]),e,i)}else if(\"object\"==typeof e)return\"string\"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:u(e.data[0])),Array.isArray(e.data[0])||\"object\"==typeof e.data[0]||(e.data=[e.data])),f(e.fields||[],e.data||[],i);throw new Error(\"Unable to serialize unrecognized input\");function u(e){if(\"object\"!=typeof e)return[];var t=[];for(var i in e)t.push(i);return t}function f(e,t,i){var r=\"\";\"string\"==typeof e&&(e=JSON.parse(e)),\"string\"==typeof t&&(t=JSON.parse(t));var n=Array.isArray(e)&&0<e.length,s=!Array.isArray(t[0]);if(n&&m){for(var a=0;a<e.length;a++)0<a&&(r+=_),r+=y(e[a],a);0<t.length&&(r+=v)}for(var o=0;o<t.length;o++){var h=n?e.length:t[o].length,u=!1,f=n?0===Object.keys(t[o]).length:0===t[o].length;if(i&&!n&&(u=\"greedy\"===i?\"\"===t[o].join(\"\").trim():1===t[o].length&&0===t[o][0].length),\"greedy\"===i&&n){for(var d=[],l=0;l<h;l++){var c=s?e[l]:l;d.push(t[o][c])}u=\"\"===d.join(\"\").trim()}if(!u){for(var p=0;p<h;p++){0<p&&!f&&(r+=_);var g=n&&s?e[p]:p;r+=y(t[o][g],p)}o<t.length-1&&(!i||0<h&&!f)&&(r+=v)}}return r}function y(e,t){if(null==e)return\"\";if(e.constructor===Date)return JSON.stringify(e).slice(1,25);!0===o&&\"string\"==typeof e&&null!==e.match(/^[=+\\-@].*$/)&&(e=\"'\"+e);var i=e.toString().replace(h,a),r=\"boolean\"==typeof n&&n||\"function\"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||function(e,t){for(var i=0;i<t.length;i++)if(-1<e.indexOf(t[i]))return!0;return!1}(i,b.BAD_DELIMITERS)||-1<i.indexOf(_)||\" \"===i.charAt(0)||\" \"===i.charAt(i.length-1);return r?s+i+s:i}}};if(b.RECORD_SEP=String.fromCharCode(30),b.UNIT_SEP=String.fromCharCode(31),b.BYTE_ORDER_MARK=\"\\ufeff\",b.BAD_DELIMITERS=[\"\\r\",\"\\n\",'\"',b.BYTE_ORDER_MARK],b.WORKERS_SUPPORTED=!n&&!!f.Worker,b.NODE_STREAM_INPUT=1,b.LocalChunkSize=10485760,b.RemoteChunkSize=5242880,b.DefaultDelimiter=\",\",b.Parser=w,b.ParserHandle=i,b.NetworkStreamer=l,b.FileStreamer=c,b.StringStreamer=p,b.ReadableStreamStreamer=g,f.jQuery){var d=f.jQuery;d.fn.parse=function(o){var i=o.config||{},h=[];return this.each(function(e){if(!(\"INPUT\"===d(this).prop(\"tagName\").toUpperCase()&&\"file\"===d(this).attr(\"type\").toLowerCase()&&f.FileReader)||!this.files||0===this.files.length)return!0;for(var t=0;t<this.files.length;t++)h.push({file:this.files[t],inputElem:this,instanceConfig:d.extend({},i)})}),e(),this;function e(){if(0!==h.length){var e,t,i,r,n=h[0];if(U(o.before)){var s=o.before(n.file,n.inputElem);if(\"object\"==typeof s){if(\"abort\"===s.action)return e=\"AbortError\",t=n.file,i=n.inputElem,r=s.reason,void(U(o.error)&&o.error({name:e},t,i,r));if(\"skip\"===s.action)return void u();\"object\"==typeof s.config&&(n.instanceConfig=d.extend(n.instanceConfig,s.config))}else if(\"skip\"===s)return void u()}var a=n.instanceConfig.complete;n.instanceConfig.complete=function(e){U(a)&&a(e,n.file,n.inputElem),u()},b.parse(n.file,n.instanceConfig)}else U(o.complete)&&o.complete()}function u(){h.splice(0,1),e()}}}function u(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine=\"\",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=E(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null);this._handle=new i(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,t){if(this.isFirstChunk&&U(this._config.beforeFirstChunk)){var i=this._config.beforeFirstChunk(e);void 0!==i&&(e=i)}this.isFirstChunk=!1,this._halted=!1;var r=this._partialLine+e;this._partialLine=\"\";var n=this._handle.parse(r,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var s=n.meta.cursor;this._finished||(this._partialLine=r.substring(s-this._baseIndex),this._baseIndex=s),n&&n.data&&(this._rowCount+=n.data.length);var a=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(o)f.postMessage({results:n,workerId:b.WORKER_ID,finished:a});else if(U(this._config.chunk)&&!t){if(this._config.chunk(n,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);n=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(n.data),this._completeResults.errors=this._completeResults.errors.concat(n.errors),this._completeResults.meta=n.meta),this._completed||!a||!U(this._config.complete)||n&&n.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),a||n&&n.meta.paused||this._nextChunk(),n}this._halted=!0},this._sendError=function(e){U(this._config.error)?this._config.error(e):o&&this._config.error&&f.postMessage({workerId:b.WORKER_ID,error:e,finished:!1})}}function l(e){var r;(e=e||{}).chunkSize||(e.chunkSize=b.RemoteChunkSize),u.call(this,e),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(r=new XMLHttpRequest,this._config.withCredentials&&(r.withCredentials=this._config.withCredentials),n||(r.onload=y(this._chunkLoaded,this),r.onerror=y(this._chunkError,this)),r.open(this._config.downloadRequestBody?\"POST\":\"GET\",this._input,!n),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var t in e)r.setRequestHeader(t,e[t])}if(this._config.chunkSize){var i=this._start+this._config.chunkSize-1;r.setRequestHeader(\"Range\",\"bytes=\"+this._start+\"-\"+i)}try{r.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}n&&0===r.status&&this._chunkError()}},this._chunkLoaded=function(){4===r.readyState&&(r.status<200||400<=r.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:r.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(e){var t=e.getResponseHeader(\"Content-Range\");if(null===t)return-1;return parseInt(t.substring(t.lastIndexOf(\"/\")+1))}(r),this.parseChunk(r.responseText)))},this._chunkError=function(e){var t=r.statusText||e;this._sendError(new Error(t))}}function c(e){var r,n;(e=e||{}).chunkSize||(e.chunkSize=b.LocalChunkSize),u.call(this,e);var s=\"undefined\"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,s?((r=new FileReader).onload=y(this._chunkLoaded,this),r.onerror=y(this._chunkError,this)):r=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var t=Math.min(this._start+this._config.chunkSize,this._input.size);e=n.call(e,this._start,t)}var i=r.readAsText(e,this._config.encoding);s||this._chunkLoaded({target:{result:i}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(r.error)}}function p(e){var i;u.call(this,e=e||{}),this.stream=function(e){return i=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e,t=this._config.chunkSize;return t?(e=i.substring(0,t),i=i.substring(t)):(e=i,i=\"\"),this._finished=!i,this.parseChunk(e)}}}function g(e){u.call(this,e=e||{});var t=[],i=!0,r=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on(\"data\",this._streamData),this._input.on(\"end\",this._streamEnd),this._input.on(\"error\",this._streamError)},this._checkIsFinished=function(){r&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):i=!0},this._streamData=y(function(e){try{t.push(\"string\"==typeof e?e:e.toString(this._config.encoding)),i&&(i=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}},this),this._streamError=y(function(e){this._streamCleanUp(),this._sendError(e)},this),this._streamEnd=y(function(){this._streamCleanUp(),r=!0,this._streamData(\"\")},this),this._streamCleanUp=y(function(){this._input.removeListener(\"data\",this._streamData),this._input.removeListener(\"end\",this._streamEnd),this._input.removeListener(\"error\",this._streamError)},this)}function i(_){var a,o,h,r=Math.pow(2,53),n=-r,s=/^\\s*-?(\\d+\\.?|\\.\\d+|\\d+\\.\\d+)(e[-+]?\\d+)?\\s*$/,u=/(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d\\.\\d+([+-][0-2]\\d:[0-5]\\d|Z))|(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d([+-][0-2]\\d:[0-5]\\d|Z))|(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d([+-][0-2]\\d:[0-5]\\d|Z))/,t=this,i=0,f=0,d=!1,e=!1,l=[],c={data:[],errors:[],meta:{}};if(U(_.step)){var p=_.step;_.step=function(e){if(c=e,m())g();else{if(g(),0===c.data.length)return;i+=e.data.length,_.preview&&i>_.preview?o.abort():(c.data=c.data[0],p(c,t))}}}function v(e){return\"greedy\"===_.skipEmptyLines?\"\"===e.join(\"\").trim():1===e.length&&0===e[0].length}function g(){if(c&&h&&(k(\"Delimiter\",\"UndetectableDelimiter\",\"Unable to auto-detect delimiting character; defaulted to '\"+b.DefaultDelimiter+\"'\"),h=!1),_.skipEmptyLines)for(var e=0;e<c.data.length;e++)v(c.data[e])&&c.data.splice(e--,1);return m()&&function(){if(!c)return;function e(e,t){U(_.transformHeader)&&(e=_.transformHeader(e,t)),l.push(e)}if(Array.isArray(c.data[0])){for(var t=0;m()&&t<c.data.length;t++)c.data[t].forEach(e);c.data.splice(0,1)}else c.data.forEach(e)}(),function(){if(!c||!_.header&&!_.dynamicTyping&&!_.transform)return c;function e(e,t){var i,r=_.header?{}:[];for(i=0;i<e.length;i++){var n=i,s=e[i];_.header&&(n=i>=l.length?\"__parsed_extra\":l[i]),_.transform&&(s=_.transform(s,n)),s=y(n,s),\"__parsed_extra\"===n?(r[n]=r[n]||[],r[n].push(s)):r[n]=s}return _.header&&(i>l.length?k(\"FieldMismatch\",\"TooManyFields\",\"Too many fields: expected \"+l.length+\" fields but parsed \"+i,f+t):i<l.length&&k(\"FieldMismatch\",\"TooFewFields\",\"Too few fields: expected \"+l.length+\" fields but parsed \"+i,f+t)),r}var t=1;!c.data.length||Array.isArray(c.data[0])?(c.data=c.data.map(e),t=c.data.length):c.data=e(c.data,0);_.header&&c.meta&&(c.meta.fields=l);return f+=t,c}()}function m(){return _.header&&0===l.length}function y(e,t){return i=e,_.dynamicTypingFunction&&void 0===_.dynamicTyping[i]&&(_.dynamicTyping[i]=_.dynamicTypingFunction(i)),!0===(_.dynamicTyping[i]||_.dynamicTyping)?\"true\"===t||\"TRUE\"===t||\"false\"!==t&&\"FALSE\"!==t&&(function(e){if(s.test(e)){var t=parseFloat(e);if(n<t&&t<r)return!0}return!1}(t)?parseFloat(t):u.test(t)?new Date(t):\"\"===t?null:t):t;var i}function k(e,t,i,r){var n={type:e,code:t,message:i};void 0!==r&&(n.row=r),c.errors.push(n)}this.parse=function(e,t,i){var r=_.quoteChar||'\"';if(_.newline||(_.newline=function(e,t){e=e.substring(0,1048576);var i=new RegExp(q(t)+\"([^]*?)\"+q(t),\"gm\"),r=(e=e.replace(i,\"\")).split(\"\\r\"),n=e.split(\"\\n\"),s=1<n.length&&n[0].length<r[0].length;if(1===r.length||s)return\"\\n\";for(var a=0,o=0;o<r.length;o++)\"\\n\"===r[o][0]&&a++;return a>=r.length/2?\"\\r\\n\":\"\\r\"}(e,r)),h=!1,_.delimiter)U(_.delimiter)&&(_.delimiter=_.delimiter(e),c.meta.delimiter=_.delimiter);else{var n=function(e,t,i,r,n){var s,a,o,h;n=n||[\",\",\"\\t\",\"|\",\";\",b.RECORD_SEP,b.UNIT_SEP];for(var u=0;u<n.length;u++){var f=n[u],d=0,l=0,c=0;o=void 0;for(var p=new w({comments:r,delimiter:f,newline:t,preview:10}).parse(e),g=0;g<p.data.length;g++)if(i&&v(p.data[g]))c++;else{var m=p.data[g].length;l+=m,void 0!==o?0<m&&(d+=Math.abs(m-o),o=m):o=m}0<p.data.length&&(l/=p.data.length-c),(void 0===a||d<=a)&&(void 0===h||h<l)&&1.99<l&&(a=d,s=f,h=l)}return{successful:!!(_.delimiter=s),bestDelimiter:s}}(e,_.newline,_.skipEmptyLines,_.comments,_.delimitersToGuess);n.successful?_.delimiter=n.bestDelimiter:(h=!0,_.delimiter=b.DefaultDelimiter),c.meta.delimiter=_.delimiter}var s=E(_);return _.preview&&_.header&&s.preview++,a=e,o=new w(s),c=o.parse(a,t,i),g(),d?{meta:{paused:!0}}:c||{meta:{paused:!1}}},this.paused=function(){return d},this.pause=function(){d=!0,o.abort(),a=U(_.chunk)?\"\":a.substring(o.getCharIndex())},this.resume=function(){t.streamer._halted?(d=!1,t.streamer.parseChunk(a,!0)):setTimeout(t.resume,3)},this.aborted=function(){return e},this.abort=function(){e=!0,o.abort(),c.meta.aborted=!0,U(_.complete)&&_.complete(c),a=\"\"}}function q(e){return e.replace(/[.*+?^${}()|[\\]\\\\]/g,\"\\\\$&\")}function w(e){var O,D=(e=e||{}).delimiter,I=e.newline,T=e.comments,A=e.step,L=e.preview,F=e.fastMode,z=O=void 0===e.quoteChar?'\"':e.quoteChar;if(void 0!==e.escapeChar&&(z=e.escapeChar),(\"string\"!=typeof D||-1<b.BAD_DELIMITERS.indexOf(D))&&(D=\",\"),T===D)throw new Error(\"Comment character same as delimiter\");!0===T?T=\"#\":(\"string\"!=typeof T||-1<b.BAD_DELIMITERS.indexOf(T))&&(T=!1),\"\\n\"!==I&&\"\\r\"!==I&&\"\\r\\n\"!==I&&(I=\"\\n\");var M=0,j=!1;this.parse=function(a,t,i){if(\"string\"!=typeof a)throw new Error(\"Input must be a string\");var r=a.length,e=D.length,n=I.length,s=T.length,o=U(A),h=[],u=[],f=[],d=M=0;if(!a)return R();if(F||!1!==F&&-1===a.indexOf(O)){for(var l=a.split(I),c=0;c<l.length;c++){if(f=l[c],M+=f.length,c!==l.length-1)M+=I.length;else if(i)return R();if(!T||f.substring(0,s)!==T){if(o){if(h=[],b(f.split(D)),S(),j)return R()}else b(f.split(D));if(L&&L<=c)return h=h.slice(0,L),R(!0)}}return R()}for(var p=a.indexOf(D,M),g=a.indexOf(I,M),m=new RegExp(q(z)+q(O),\"g\"),_=a.indexOf(O,M);;)if(a[M]!==O)if(T&&0===f.length&&a.substring(M,M+s)===T){if(-1===g)return R();M=g+n,g=a.indexOf(I,M),p=a.indexOf(D,M)}else{if(-1!==p&&(p<g||-1===g)){if(!(p<_)){f.push(a.substring(M,p)),M=p+e,p=a.indexOf(D,M);continue}var v=x(p,_,g);if(v&&void 0!==v.nextDelim){p=v.nextDelim,_=v.quoteSearch,f.push(a.substring(M,p)),M=p+e,p=a.indexOf(D,M);continue}}if(-1===g)break;if(f.push(a.substring(M,g)),C(g+n),o&&(S(),j))return R();if(L&&h.length>=L)return R(!0)}else for(_=M,M++;;){if(-1===(_=a.indexOf(O,_+1)))return i||u.push({type:\"Quotes\",code:\"MissingQuotes\",message:\"Quoted field unterminated\",row:h.length,index:M}),E();if(_===r-1)return E(a.substring(M,_).replace(m,O));if(O!==z||a[_+1]!==z){if(O===z||0===_||a[_-1]!==z){-1!==p&&p<_+1&&(p=a.indexOf(D,_+1)),-1!==g&&g<_+1&&(g=a.indexOf(I,_+1));var y=w(-1===g?p:Math.min(p,g));if(a[_+1+y]===D){f.push(a.substring(M,_).replace(m,O)),a[M=_+1+y+e]!==O&&(_=a.indexOf(O,M)),p=a.indexOf(D,M),g=a.indexOf(I,M);break}var k=w(g);if(a.substring(_+1+k,_+1+k+n)===I){if(f.push(a.substring(M,_).replace(m,O)),C(_+1+k+n),p=a.indexOf(D,M),_=a.indexOf(O,M),o&&(S(),j))return R();if(L&&h.length>=L)return R(!0);break}u.push({type:\"Quotes\",code:\"InvalidQuotes\",message:\"Trailing quote on quoted field is malformed\",row:h.length,index:M}),_++}}else _++}return E();function b(e){h.push(e),d=M}function w(e){var t=0;if(-1!==e){var i=a.substring(_+1,e);i&&\"\"===i.trim()&&(t=i.length)}return t}function E(e){return i||(void 0===e&&(e=a.substring(M)),f.push(e),M=r,b(f),o&&S()),R()}function C(e){M=e,b(f),f=[],g=a.indexOf(I,M)}function R(e){return{data:h,errors:u,meta:{delimiter:D,linebreak:I,aborted:j,truncated:!!e,cursor:d+(t||0)}}}function S(){A(R()),h=[],u=[]}function x(e,t,i){var r={nextDelim:void 0,quoteSearch:void 0},n=a.indexOf(O,t+1);if(t<e&&e<n&&(n<i||-1===i)){var s=a.indexOf(D,n);if(-1===s)return r;n<s&&(n=a.indexOf(O,n+1)),r=x(s,n,i)}else r={nextDelim:e,quoteSearch:t};return r}},this.abort=function(){j=!0},this.getCharIndex=function(){return M}}function m(e){var t=e.data,i=a[t.workerId],r=!1;if(t.error)i.userError(t.error,t.file);else if(t.results&&t.results.data){var n={abort:function(){r=!0,_(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:v,resume:v};if(U(i.userStep)){for(var s=0;s<t.results.data.length&&(i.userStep({data:t.results.data[s],errors:t.results.errors,meta:t.results.meta},n),!r);s++);delete t.results}else U(i.userChunk)&&(i.userChunk(t.results,n,t.file),delete t.results)}t.finished&&!r&&_(t.workerId,t.results)}function _(e,t){var i=a[e];U(i.userComplete)&&i.userComplete(t),i.terminate(),delete a[e]}function v(){throw new Error(\"Not implemented.\")}function E(e){if(\"object\"!=typeof e||null===e)return e;var t=Array.isArray(e)?[]:{};for(var i in e)t[i]=E(e[i]);return t}function y(e,t){return function(){e.apply(t,arguments)}}function U(e){return\"function\"==typeof e}return o&&(f.onmessage=function(e){var t=e.data;void 0===b.WORKER_ID&&t&&(b.WORKER_ID=t.workerId);if(\"string\"==typeof t.input)f.postMessage({workerId:b.WORKER_ID,results:b.parse(t.input,t.config),finished:!0});else if(f.File&&t.input instanceof File||t.input instanceof Object){var i=b.parse(t.input,t.config);i&&f.postMessage({workerId:b.WORKER_ID,results:i,finished:!0})}}),(l.prototype=Object.create(u.prototype)).constructor=l,(c.prototype=Object.create(u.prototype)).constructor=c,(p.prototype=Object.create(p.prototype)).constructor=p,(g.prototype=Object.create(u.prototype)).constructor=g,b});","import { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\n\r\nexport class sidebarService {\r\n\r\n\r\n  constructor() { }\r\n\r\n  private zoom=2; \r\n  private glassActive=false;\r\n\r\nremoveGlass(){\r\n    let magni=document.getElementsByClassName(\"img-magnifier-glass\");\r\n\r\n    if(magni[0])magni[0].remove();\r\n}\r\n\r\nchangeGlass(){\r\n    this.glassActive=!this.glassActive;\r\n    if(this.glassActive){\r\n        this.magniGlass(\"image\");\r\n    }\r\n    else{\r\n        this.removeGlass();\r\n    }\r\n    \r\n}\r\n\r\nsetZoom(newValue:number){\r\n    this.zoom=newValue;\r\n    this.removeGlass();\r\n    this.magniGlass(\"image\");\r\n}\r\n\r\nmagniGlass(imgId:string){\r\n    let magni=document.getElementsByClassName(\"img-magnifier-glass\");\r\n    if(magni[0]){\r\n        return;\r\n    }\r\n    if(!this.glassActive){\r\n        return;\r\n    }\r\n    let w,h,bw;\r\n    let zoom=this.zoom;\r\n    const img=document.getElementById(imgId) as HTMLImageElement;\r\n    const interactive=document.getElementById(\"my-interactive\");\r\n    let glass=document.createElement(\"div\");      \r\n    glass.setAttribute(\"class\", \"img-magnifier-glass\");      \r\n    interactive.parentElement.insertBefore(glass, interactive);\r\n    // interactive.style.backgroundImage = \"url('\" + img.src + \"')\";\r\n    glass.style.backgroundImage = \"url('\" + img.src + \"')\";\r\n    glass.style.backgroundRepeat = \"no-repeat\";\r\n    glass.style.backgroundSize = (img.width * zoom) + \"px \" + (img.height * zoom) + \"px\";\r\n    bw = 3;\r\n    w = glass.offsetWidth / 2;\r\n    h = glass.offsetHeight / 2;\r\n    /*execute a function when someone moves the magnifier glass over the image:*/\r\n    glass.addEventListener(\"mousemove\", moveMagnifier);\r\n    interactive.addEventListener(\"mousemove\", moveMagnifier);\r\n    /*and also for touch screens:*/\r\n    glass.addEventListener(\"touchmove\", moveMagnifier);\r\n    interactive.addEventListener(\"touchmove\", moveMagnifier);\r\n\r\n    function moveMagnifier(e) {\r\n        var pos, x, y;\r\n        /*prevent any other actions that may occur when moving over the image*/\r\n        e.preventDefault();\r\n        /*get the cursor's x and y positions:*/\r\n        pos = getCursorPos(e);\r\n        x = pos.x;\r\n        y = pos.y;\r\n        /*prevent the magnifier glass from being positioned outside the image:*/\r\n        if (x > img.width - (w / zoom)) {x = img.width - (w / zoom);}\r\n        if (x < w / zoom) {x = w / zoom;}\r\n        if (y > img.height - (h / zoom)) {y = img.height - (h / zoom);}\r\n        if (y < h / zoom) {y = h /zoom;}\r\n        /*set the position of the magnifier glass:*/\r\n        glass.style.left = (x - w) + \"px\";\r\n        glass.style.top = (y - h) + \"px\";\r\n        /*display what the magnifier glass \"sees\":*/\r\n        glass.style.backgroundPosition = \"-\" + ((x * zoom) - w + bw) + \"px -\" + ((y * zoom) - h + bw) + \"px\";\r\n\r\n    }\r\n    function getCursorPos(e) {\r\n        var a, x = 0, y = 0;\r\n        e = e || window.event;\r\n        /*get the x and y positions of the image:*/\r\n        a = img.getBoundingClientRect();\r\n        /*calculate the cursor's x and y coordinates, relative to the image:*/\r\n        x = e.pageX - a.left;\r\n        y = e.pageY - a.top;\r\n        /*consider any page scrolling:*/\r\n        x = x - window.pageXOffset;\r\n        y = y - window.pageYOffset;\r\n        return {x : x, y : y};\r\n    }\r\n\r\n\r\n}\r\n}","import Element from './element.js';\n/**\n* A tspan element is a text element that allows the user to change the style\n* or position of the rendered text inside the tspan.\n*/\nexport default class TSpan extends Element {\n    /**\n    * Constructs a tspan element\n    */\n    constructor(str) {\n        let tspan = document.createElementNS('http://www.w3.org/2000/svg', 'tspan');\n        tspan.innerHTML = str;\n        super(tspan);\n    }\n    /**\n    * The text contents of this tspan element\n    */\n    get text() {\n        return this.root.innerHTML;\n    }\n    /**\n    * Sets the text contents of this tspan element to the provided string\n    */\n    set text(str) {\n        this.root.innerHTML = str;\n    }\n    // comment inherited from base class\n    setAttribute(name, value) {\n        this.root.setAttribute(name, value);\n        return this;\n    }\n    // comment inherited from base class\n    getAttribute(name) {\n        return this.root.getAttribute(name);\n    }\n    /**\n    * Creates a child tspan element.\n    */\n    tspan(str) {\n        let tspan = new TSpan(str);\n        this.root.appendChild(tspan.root);\n        return tspan;\n    }\n}\n//# sourceMappingURL=t-span.js.map","import { __decorate } from 'tslib';\nimport { defineInjectable, Injectable } from '@angular/core';\nimport * as lib from 'papaparse/papaparse.min.js';\n\nimport * as ngcc0 from '@angular/core';\nlet Papa = class Papa {\n    constructor() {\n        this._papa = lib;\n    }\n    /**\n     * Parse CSV to an array\n     */\n    parse(csv, config) {\n        return this._papa.parse(csv, config);\n    }\n    /**\n     * Convert an array into CSV\n     */\n    unparse(data, config) {\n        return this._papa.unparse(data, config);\n    }\n    /**\n     * Set the size in bytes of each file chunk.\n     * Used when streaming files obtained from the DOM that\n     * exist on the local computer. Default 10 MB.\n     */\n    setLocalChunkSize(value) {\n        this._papa.LocalChunkSize = value;\n    }\n    /**\n     * Set the size in bytes of each remote file chunk.\n     * Used when streaming remote files. Default 5 MB.\n     */\n    setRemoteChunkSize(value) {\n        this._papa.RemoteChunkSize = value;\n    }\n    /**\n     * Set the delimiter used when it is left unspecified and cannot be detected automatically. Default is comma.\n     */\n    setDefaultDelimiter(value) {\n        this._papa.DefaultDelimiter = value;\n    }\n    /**\n     * An array of characters that are not allowed as delimiters.\n     */\n    get badDelimiters() {\n        return this._papa.BAD_DELIMITERS;\n    }\n    /**\n     * The true delimiter. Invisible. ASCII code 30.\n     * Should be doing the job we strangely rely upon commas and tabs for.\n     */\n    get recordSeparator() {\n        return this._papa.RECORD_SEP;\n    }\n    /**\n     * Also sometimes used as a delimiting character. ASCII code 31.\n     */\n    get unitSeparator() {\n        return this._papa.UNIT_SEP;\n    }\n    /**\n     * Whether or not the browser supports HTML5 Web Workers.\n     * If false, worker: true will have no effect.\n     */\n    get workersSupported() {\n        return this._papa.WORKERS_SUPPORTED;\n    }\n};\nPapa.fac = function Papa_Factory(t) { return new (t || Papa)(); };\nPapa.prov = defineInjectable({ factory: function Papa_Factory() { return new Papa(); }, token: Papa, providedIn: \"root\" });\n/*@__PURE__*/ (function () { ngcc0.setClassMetadata(Papa, [{\n        type: Injectable,\n        args: [{\n                providedIn: 'root'\n            }]\n    }], function () { return []; }, null); })();\n\n/*\n * Public API Surface of papaparse\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { Papa };\n\n//# sourceMappingURL=ngx-papaparse.js.map","import SVG from '../svg/svg.js';\nimport Group from \"../svg/group.js\";\n/**\n* Map class for displaying geographic maps of the world and its different parts.\n*/\nexport default class GeoMap extends SVG {\n    /*\n    * mapName: the name of the map you wish to render\n    * width: width of the map\n    * height: height of the map\n    */\n    constructor(featureName, externalData, options = {}) {\n        super();\n        let defaultOptions = {\n            fill: \"white\",\n            stroke: \"black\",\n            strokeWidth: 0.5,\n            nonScalingStroke: true\n        };\n        this.mapOptions = Object.assign(Object.assign({}, defaultOptions), options);\n        this.featureName = featureName;\n        this.externalJSON = externalData;\n        this.featuresMap = new Map();\n        this.draw(featureName);\n    }\n    /**\n     * Renders the geo json onto the webpage.\n     * @param name name of the feature you want to draw. If left blank will draw all features\n     */\n    draw(name) {\n        this.clearPaths();\n        if (name != \"\")\n            this.featureName = name;\n        else\n            this.featureName = null;\n        this.loadExternalJSON(name);\n        this.featuresMap.forEach(element => {\n            this.appendChild(element);\n        });\n        let bbox = this.root.getBBox();\n        this.setViewBox(bbox.x, bbox.y, bbox.width, bbox.height);\n    }\n    /**\n     * remove the feature with the passed in name from the geo map\n     * @param name the name of the feature you want to remove\n     */\n    removeFeature(name) {\n        if (this.featuresMap.has(name)) {\n            let c = this.featuresMap.get(name);\n            c.remove();\n            this.featuresMap.delete(name);\n        }\n    }\n    /**\n     * Clears the interactive of all Map paths.\n     */\n    clearPaths() {\n        let t = this.root.getElementsByClassName('feature');\n        while (t.length > 0) {\n            t[0].remove();\n        }\n        this.featuresMap = new Map();\n    }\n    /**\n     * Returns the path for the given feature name\n     * @param name name of the feature you want the path for\n     */\n    getPathForFeatureName(name) {\n        return this.featuresMap.get(name);\n    }\n    /**\n     * Returns all of the paths for the current map.\n     */\n    getAllFeaturePaths() {\n        return Array.from(this.featuresMap.values());\n    }\n    /**\n     * Returns an Array HTML Elements that are all of the plotted features.\n     */\n    getHTMLFeatureElements() {\n        return Array.from(this.root.children);\n    }\n    /**\n     * sets the viewbox of the interactive to the specified feature\n     */\n    setViewBoxToFeature(name) {\n        if (this.featuresMap.has(name)) {\n            let bbox = this.featuresMap.get(name).root.getBBox();\n            this.setViewBox(bbox.x, bbox.y, bbox.width, bbox.height);\n        }\n    }\n    /**\n     * Resets the viewbox to the entire map\n     */\n    resetViewBox() {\n        let bbox = this.root.getBBox();\n        this.setViewBox(bbox.x, bbox.y, bbox.width, bbox.height);\n    }\n    /**\n     * Sets up a group for the passsed in feature name\n     * @param name name of the feature\n     */\n    setupGroup(name) {\n        let g = new Group();\n        g.classList.remove(\"element\");\n        g.root.setAttribute(\"name\", name);\n        g.style.stroke = this.mapOptions.stroke;\n        g.style.fill = this.mapOptions.fill;\n        g.style.strokeWidth = this.mapOptions.strokeWidth.toString();\n        g.classList.add(\"feature\");\n        return g;\n    }\n    /**\n     * Plots JSON into SVG paths. If the name param is provided only features that match\n     * those names will be plotted.\n     * @param name the optional name of the features you want to plot\n     */\n    loadExternalJSON(name) {\n        var json = this.externalJSON;\n        var listOfNames = null;\n        if (this.featureName != null)\n            listOfNames = name.toLowerCase().split(',');\n        var k = 0;\n        var c = 0;\n        var i = 1;\n        try {\n            for (let c = 0; c < json.features.length; c++) {\n                for (let k = 0; k < json.features[c].geometry.coordinates.length; k++) {\n                    let currentFeatureName = json.features[c].properties.name;\n                    if (this.featureName != null) {\n                        if (listOfNames != null && !listOfNames.includes(currentFeatureName.toLowerCase())) {\n                            continue;\n                        }\n                        else {\n                            if (!this.featuresMap.has(currentFeatureName)) {\n                                let g = this.setupGroup(currentFeatureName);\n                                this.featuresMap.set(currentFeatureName, g);\n                            }\n                        }\n                    }\n                    else {\n                        if (!this.featuresMap.has(currentFeatureName)) {\n                            let g = this.setupGroup(currentFeatureName);\n                            this.featuresMap.set(currentFeatureName, g);\n                        }\n                    }\n                    if (json.features[c].geometry.coordinates[k].length == 1) {\n                        let path = this.featuresMap.get(currentFeatureName).path('M 0 0');\n                        if (this.mapOptions.nonScalingStroke)\n                            path.root.setAttribute(\"vector-effect\", 'non-scaling-stroke');\n                        let startX = json.features[c].geometry.coordinates[k][0][0][0];\n                        let startY = json.features[c].geometry.coordinates[k][0][0][1];\n                        path.d = `M ${startX} ${-1 * startY}  `;\n                        for (i = 1; i < json.features[c].geometry.coordinates[k][0].length; i++) {\n                            let x = json.features[c].geometry.coordinates[k][0][i][0];\n                            let y = json.features[c].geometry.coordinates[k][0][i][1];\n                            path.d += `L ${x} ${-1 * y} `;\n                        }\n                    }\n                    else {\n                        let path = this.featuresMap.get(currentFeatureName).path('M 0 0');\n                        if (this.mapOptions.nonScalingStroke)\n                            path.root.setAttribute(\"vector-effect\", 'non-scaling-stroke');\n                        let startX = json.features[c].geometry.coordinates[k][0][0];\n                        let startY = json.features[c].geometry.coordinates[k][0][1];\n                        path.d = `M ${startX} ${-1 * startY} `;\n                        for (i = 1; i < json.features[c].geometry.coordinates[k].length; i++) {\n                            let x = json.features[c].geometry.coordinates[k][i][0];\n                            let y = json.features[c].geometry.coordinates[k][i][1];\n                            path.d += `L ${x} ${-1 * y} `;\n                        }\n                    }\n                }\n            }\n        }\n        catch (e) {\n            throw new Error('There was an error processing the provided GeoJSON: ' + e);\n        }\n    }\n    /**\n    * The default behavior is to update its dependents on change.\n    */\n    onchange() {\n        this.updateDependents();\n    }\n}\n//# sourceMappingURL=map.js.map","import Rectangle from '../svg/rectangle.js';\nimport Text from '../svg/text.js';\nimport Input from './input.js';\n/**\n* A checkbox with an label. The can be checked, unchecked, and related to other\n* elements.\n*/\nexport default class CheckBox extends Input {\n    /**\n    * Constructs a control at the position (x,y)\n    */\n    constructor(x, y, text, value) {\n        super();\n        /**\n        * The state of the checkbox\n        */\n        this._value = false;\n        this.root.setAttribute('transform', `translate(${x},${y})`);\n        this.box = new Rectangle(-6.5, -6.5, 13, 13);\n        this.box.root.setAttribute('rx', '2px');\n        this.label = new Text(18, 1, text);\n        this.label.root.setAttribute('alignment-baseline', 'middle');\n        this.root.appendChild(this.box.root);\n        this.root.appendChild(this.label.root);\n        let temp = this;\n        this.value = value;\n        this.box.root.onmousedown = function () {\n            temp.toggle();\n        };\n        this.addDependency(this.box);\n    }\n    /**\n    * Sets the value to true and visually checks the box.\n    */\n    set value(value) {\n        if (this._value = value) {\n            this.box.style.fill = '#404040';\n        }\n        else {\n            this.box.style.fill = '';\n        }\n        this.onchange();\n    }\n    /**\n    * Returns true if the box is checked, false if it is not.\n    */\n    get value() {\n        return this._value;\n    }\n    /**\n    * Converts the current true/false state of the checkbox to a zero or one.\n    */\n    number() {\n        return this.value ? 1 : 0;\n    }\n    /**\n    * Toggles the state of this check box.\n    */\n    toggle() {\n        this.value = !this.value;\n    }\n}\n//# sourceMappingURL=check-box.js.map","import Slider from './slider.js';\n/**\n* A scubber element has\n*/\nexport default class Scrubber extends Slider {\n    // TODO: When the scrubber control is grabbed, active should be set to false and the animation cycle should be stopped.\n    // TODO: Reset done variable when the control is changed\n    // TODO: Show darker line of progress\n    /**\n    * Constructs a new scrubber element at the (x,y) position.\n    */\n    constructor(x, y, options) {\n        let defaultOptions = {\n            width: 486\n        };\n        // combine the default configuration with the user's configuration\n        let config = Object.assign(Object.assign({}, defaultOptions), options);\n        // make room for the play & pause button\n        config.width = config.width - 80;\n        super(x + 80, y, config);\n        this.active = false;\n        this.loop = false;\n        this.done = false;\n        let circleRadius = 16;\n        let playCircle = this.circle(0, 0, circleRadius);\n        playCircle.style.fill = '#eeeeee';\n        playCircle.style.stroke = '#333333';\n        playCircle.style.strokeWidth = '1px';\n        let radius = 8;\n        let playTriangle = this.path(` M ${radius} ${0}\r\n                                  L ${radius * Math.cos(-2 * Math.PI / 3)} ${radius * Math.sin(-2 * Math.PI / 3)}\r\n                                  L ${radius * Math.cos(-4 * Math.PI / 3)} ${radius * Math.sin(-4 * Math.PI / 3)}\r\n                                  Z`);\n        playTriangle.style.fill = '#333333';\n        this.playButton = this.group();\n        this.playButton.appendChild(playCircle);\n        this.playButton.appendChild(playTriangle);\n        this.playButton.setAttribute('transform', `translate( ${x}, ${y})`);\n        let pauseCircle = this.circle(0, 0, circleRadius);\n        pauseCircle.style.fill = '#eeeeee';\n        pauseCircle.style.stroke = '#333333';\n        pauseCircle.style.strokeWidth = '1px';\n        // TODO: style the lines with rounded end points\n        let pauseLines = this.path(` M ${-3.5} ${-5}\r\n                                L ${-3.5} ${5}\r\n                                M ${3.5} ${-5}\r\n                                L ${3.5} ${5}`);\n        pauseLines.style.stroke = '#333333';\n        pauseLines.style.strokeWidth = '2';\n        pauseLines.style.strokeLinecap = 'round';\n        this.pauseButton = this.group();\n        this.pauseButton.appendChild(pauseCircle);\n        this.pauseButton.appendChild(pauseLines);\n        this.pauseButton.setAttribute('transform', `translate( ${x + 42}, ${y})`);\n        let scrubber = this;\n        this.playButton.root.addEventListener('click', function () {\n            scrubber.play();\n        });\n        this.pauseButton.root.addEventListener('click', function () {\n            scrubber.pause();\n        });\n        let fn = this.onchange;\n        this.onchange = function () {\n            if (scrubber.value == scrubber.max) {\n                scrubber.done = true;\n            }\n            else {\n                scrubber.done = false;\n            }\n            fn();\n        };\n    }\n    play() {\n        if (!this.active) {\n            let scrubber = this;\n            scrubber.active = true;\n            if (this.done) {\n                this.value = this.min;\n                this.done = false;\n                // TODO: change this.done to true when the control is \"scrubbed\" to the end\n            }\n            let stepSize = .0025 * scrubber.range;\n            let step = function (timestamp) {\n                scrubber.value = (scrubber.value + stepSize);\n                if (scrubber.value > scrubber.max && !scrubber.loop) {\n                    scrubber.value = scrubber.max;\n                    scrubber.pause();\n                    // TODO: change play icon to reset icon\n                    scrubber.done = true;\n                    scrubber.onchange();\n                }\n                else {\n                    scrubber.value = scrubber.value % scrubber.max;\n                    scrubber.onchange();\n                    scrubber.requestID = window.requestAnimationFrame(step);\n                }\n            };\n            // start animating\n            window.requestAnimationFrame(step);\n        }\n    }\n    pause() {\n        this.active = false;\n        window.cancelAnimationFrame(this.requestID);\n    }\n}\n//# sourceMappingURL=scrubber.js.map","import { Component, OnInit } from '@angular/core';\r\nimport { ImageClass } from './image-class';\r\nimport { ImageAdderService } from './imagebar.service';\r\nimport { DrawsService } from '../draws/draws.service';\r\nimport { Interactive } from 'src/assets/source';\r\n\r\nimport { DrawsComponent} from '../draws/draws.component'\r\nimport { sidebarService } from '../sidebar/sidebar.service';\r\nimport { ActiveShape, Clase, ShapeContainer } from '../draws/draws-class';\r\nimport {Papa} from 'ngx-papaparse'\r\nimport { interactive } from 'src/assets/source/examples/math/angle-fixed';\r\n\r\n@Component({\r\n  selector: 'app-imagebar',\r\n  templateUrl: './imagebar.component.html',\r\n  styleUrls: ['./imagebar.component.css']\r\n})\r\nexport class ImagebarComponent implements OnInit {\r\n\r\n  constructor(public imageService: ImageAdderService, \r\n              public drawsService: DrawsService,\r\n              public sidebarService:sidebarService,\r\n              private papa:Papa\r\n              ) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  public message: String;  \r\n  public imgget= new ImageClass();\r\n\r\n  \r\n  // Funcion para cargar una imagen desde\r\n  // los archivos locales\r\n  preview(files) {\r\n\r\n    if (files.length === 0){\r\n      return;\r\n    }\r\n    this.drawsService.refreshContainer(this.imageService.img.name);\r\n    this.drawsService.myInteractive.remove();\r\n    this.drawsService.myInteractive=new Interactive(\"my-interactive\");    \r\n    this.drawsService.myInteractive.width=1400;    \r\n    this.drawsService.clearActiveShapes();\r\n    \r\n    \r\n    let mimeType = files[0].type;\r\n    if (mimeType.match(/image\\/*/) == null) {\r\n      this.message = \"Only images are supported.\";\r\n      return;\r\n    }\r\n    // single image\r\n    if(files.length===1){     \r\n      this.loadFile(files[0]).then(()=>{\r\n        this.syncFunction(80*files.length).then(()=>{\r\n          this.sortList(\"imageheaderid\").then(()=>{\r\n            this.createImageContainer();\r\n            this.imageService.setBlank();\r\n            this.sortShort().then(() => {\r\n            })\r\n          })\r\n        })\r\n      })          \r\n     \r\n    }\r\n    // Multiple images\r\n    else if (files.length>1) {      \r\n      this.loadFiles(files).then(()=>{\r\n        this.syncFunction(80*files.length).then(()=>{\r\n          this.sortList(\"imageheaderid\").then(()=>{\r\n            this.createImageContainer();\r\n            this.imageService.setBlank();\r\n            this.sortShort().then(() => {\r\n              let first=document.getElementById(\"imageheaderid\").firstChild as HTMLElement\r\n              first.click()\r\n            })\r\n          })\r\n        })\r\n      })  \r\n\r\n     }\r\n  }\r\n\r\n  async createImageContainer(){\r\n    \r\n    this.imageService.images.forEach(element=>{\r\n      let  create=true;\r\n      this.drawsService.shapeContainer.forEach(container=>{\r\n        if(element.name.localeCompare(container.imgName)===0){\r\n          create=false;\r\n        }\r\n      });\r\n      if(create){\r\n        this.drawsService.createContainers(element);\r\n      }    \r\n    })\r\n  }\r\n\r\n\r\n  async loadFiles(files){\r\n    for (let index = 0; index < files.length; index++) {\r\n      await this.loadFile(files[index]);      \r\n    }\r\n  }\r\n\r\n  async loadFile(file){\r\n\r\n    if(this.checkImageName(file.name)){\r\n      let imgCapture = new ImageClass();\r\n      let reader = new FileReader();\r\n      reader.readAsDataURL(file);\r\n      reader.onload=event=>{\r\n        imgCapture.name=file.name;\r\n        imgCapture.imgURL=reader.result;\r\n        this.imageService.addImage(imgCapture);\r\n        this.syncFunction(50).then(v=>{\r\n          \r\n          this.sidebarService.removeGlass();\r\n          let img=document.getElementById('image') as HTMLImageElement;\r\n          imgCapture.height=img.naturalHeight.toString();\r\n          imgCapture.width=img.naturalWidth.toString();\r\n          this.imageService.addComplex(imgCapture);\r\n          document.getElementById('image-box').style.marginTop='-'+img.clientHeight.toString()+'px'; \r\n          this.drawsService.myInteractive.height=img.clientHeight;\r\n          this.sidebarService.magniGlass(\"image\");\r\n\r\n          // Destacar imagen activa\r\n          const header=document.getElementById(\"imageheaderid\")\r\n          const elements=header.getElementsByClassName(\"list\");\r\n          this.syncFunction(50).then(v=>{        \r\n            for(var i =0;i<elements.length;i++){\r\n              elements[i].addEventListener(\"click\",function(){\r\n                let current=document.getElementsByClassName(\"imageActive\");\r\n                if(current.length>0){\r\n                  current[0].className=current[0].className.replace(\" imageActive\",\"\");\r\n                }\r\n                this.className+=\" imageActive\";          \r\n              });\r\n  \r\n            }\r\n          });\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  async sortShort(){\r\n    var i, switching, shouldSwitch;\r\n    switching=true;\r\n    while(switching){\r\n      switching=false;\r\n      for (i = 0; i < this.imageService.images.length-1; i++) {\r\n        shouldSwitch=false;\r\n        let a=this.imageService.images[i].name;\r\n        let b=this.imageService.images[i+1].name;\r\n        let comp=a.localeCompare(b);\r\n        if(comp===1){\r\n          shouldSwitch=true;\r\n          break;\r\n        }\r\n      }\r\n      if(shouldSwitch){\r\n        let a=this.imageService.images[i];\r\n        this.imageService.images[i]=this.imageService.images[i+1];\r\n        this.imageService.images[i+1]=a;\r\n        switching=true;\r\n      }\r\n    }\r\n  }\r\n\r\n  async sortList(id){\r\n\r\n    var list, i, switching, shouldSwitch;\r\n    list = document.getElementById(id); \r\n    \r\n    switching = true;\r\n    /* Make a loop that will continue until\r\n    no switching has been done: */\r\n      let b = list.getElementsByTagName(\"li\") as HTMLCollection;\r\n      while (switching) {\r\n      // start by saying: no switching is done:\r\n        switching = false;\r\n      // Loop through all list-items:\r\n        for (i = 0; i < (b.length - 1); i++) {\r\n          // start by saying there should be no switching:\r\n          shouldSwitch = false;\r\n          /* check if the next item should\r\n          switch place with the current item: */\r\n          let str1=b[i].innerHTML.toLowerCase();\r\n          let str2=b[i+1].innerHTML.toLowerCase();\r\n          let comp=str1.localeCompare(str2);\r\n          if (comp===1) {\r\n            /* if next item is alphabetically\r\n            lower than current item, mark as a switch\r\n            and break the loop: */            \r\n            shouldSwitch = true;\r\n            break;\r\n          }\r\n        }\r\n        if (shouldSwitch) {\r\n          /* If a switch has been marked, make the switch\r\n          and mark the switch as done: */\r\n          b[i].parentNode.insertBefore(b[i + 1], b[i]);\r\n  \r\n          switching = true;\r\n        }\r\n      \r\n    }\r\n\r\n  \r\n  }\r\n\r\ncheckImageName(imgName:string):boolean{\r\n  let result=true;\r\n  this.imageService.images.forEach(element=>{\r\n    if(imgName.localeCompare(element.name)===0){\r\n      result= false;\r\n    }\r\n  })\r\n  return result;\r\n}\r\n\r\n  resolveAfter2Seconds(x) {\r\n    return new Promise(resolve => {\r\n      setTimeout(() => {\r\n        resolve(x);\r\n      }, x);\r\n    });\r\n  }\r\n    \r\n  async syncFunction(x) {\r\n    const a = await this.resolveAfter2Seconds(x);\r\n    const b = await this.resolveAfter2Seconds(x);\r\n    return x + a + b;\r\n  }\r\n\r\n  //  Funcion para actualizar el valor actual de \r\n  // la imagen que se muestra por pantalla\r\n  imageSelect (name){\r\n    this.drawsService.refreshContainer(this.imageService.img.name).then(()=>{\r\n      this.drawsService.myInteractive.remove();\r\n    // Establece a element como imagen activa y actualiza el tamao del canvas\r\n    this.imageService.images.forEach(element => {\r\n      if (element.name.localeCompare(name)===0) {\r\n        this.imageService.setImage(element);        \r\n        this.syncFunction(50).then(v => {          \r\n          this.sidebarService.removeGlass();\r\n          let img=document.getElementById('image');  \r\n          document.getElementById('image-box').style.marginTop='-'+img.clientHeight.toString()+'px';\r\n          this.drawsService.myInteractive.height=img.clientHeight;      \r\n          this.sidebarService.magniGlass(\"image\");\r\n        });\r\n        \r\n      }\r\n    });\r\n    // Establece a element como imagen compleja activa\r\n    this.imageService.complexImages.forEach(element=>{\r\n      if(element.name.localeCompare(name)===0){\r\n        this.imageService.setComplex(element);\r\n      }\r\n    })\r\n    this.drawsService.myInteractive=new Interactive(\"my-interactive\");\r\n    this.drawsService.myInteractive.width=1400;\r\n    this.drawsService.myInteractive.window=false;\r\n    let img=document.getElementById('image') as HTMLImageElement;  \r\n\r\n    document.getElementById('image-box').style.marginTop='-'+img.clientHeight.toString()+'px';\r\n    this.drawsService.myInteractive.height=img.clientHeight;\r\n\r\n    // cargar imagenes\r\n    this.drawsService.clearActiveShapes();\r\n    // busco la imagen en el container\r\n    let indexA=0;\r\n    let indexB=0;\r\n    let found=false;\r\n    this.drawsService.shapeContainer.forEach(element => {        \r\n        if (!(element.imgName===name)) {\r\n            indexA++;\r\n        }\r\n        else{\r\n            indexB=indexA;\r\n            found=true;\r\n\r\n        }\r\n    });\r\n    //asigno valores a nuevo shape container\r\n    if(found){      \r\n      this.drawsService.shapeContainer[indexB].shapeList.forEach(element => {\r\n        this.drawsService.crearFromData(element);\r\n  \r\n      });\r\n    }\r\n    })\r\n    \r\n  }\r\n\r\n\r\n\r\n  // Funcion para alternar la vista del recuadro de eliminar imagen\r\n  changeDisplay(id1):void{\r\n    if(document.getElementById(id1).style.display==\"none\"){      \r\n      document.getElementById(id1).style.display=\"block\";\r\n    }\r\n    else{\r\n      document.getElementById(id1).style.display=\"none\";    \r\n    }  \r\n  }\r\n\r\n  // Funcion para eliminar una imagen seleccionada\r\n  eliminar(){\r\n    const indexA=this.imageService.images.indexOf(this.imageService.img);\r\n    const indexB=this.imageService.complexImages.indexOf(this.imageService.complexImg);\r\n    \r\n    this.drawsService.removeImage(this.imageService.img.name)\r\n    this.imageService.setBlank();\r\n    this.imageService.removeImage(indexA);\r\n    this.imageService.removeComplex(indexB);\r\n    this.drawsService.myInteractive.remove();\r\n    this.changeDisplay('alert1');\r\n  }\r\n\r\n  hideShowSection(id):void{\r\n    if(document.getElementById(id).style.display==\"none\"){\r\n      document.getElementById(id).style.display=\"block\"\r\n    }\r\n    else{\r\n    document.getElementById(id).style.display=\"none\"}\r\n  \r\n  }\r\n\r\n}\r\n","<link href=\"https://fonts.googleapis.com/icon?family=Material+Icons\" rel=\"stylesheet\">\r\n\r\n<div>\r\n    <p class=\"title\" (click)=\"hideShowSection('button-loads')\">Cargar</p>\r\n    <div id=\"button-loads\" class=\"button-container\" style=\"display: none;\">\r\n\r\n        <input id=\"image-input\" class=\"image_input\" #files type=\"file\" accept='image/*' (change)=\"preview(files.files)\" multiple/>\r\n        <label for=\"image-input\" title=\"Carga una o varias imgenes desde su dispositivo.\">Imgenes</label>\r\n        <br>\r\n        <input id=\"folder-input\" class=\"image_input\" #file type=\"file\" accept='image/*' (change)=\"preview(file.files)\" webkitdirectory multiple/>\r\n        <label for=\"folder-input\" title=\"Carga una o varias imgenes desde su dispositivo.\">Carpeta de Imgenes</label>\r\n\r\n    </div>\r\n</div>\r\n\r\n<span *ngIf=\"message\">{{message}}</span>\r\n<p class=\"title\" (click)=\"hideShowSection('image-show')\">Imgenes cargadas</p>\r\n<div id=\"image-show\" style=\"display: none;\">\r\n    \r\n    <div class=\"imageContainer\">\r\n    <ul id=\"imageheaderid\">\r\n        <li id={{item.name}} class=\"list\" *ngFor=\"let item of imageService.images\" (click)=\"imageSelect(item.name)\" title=\"{{item.name}}\">{{item.name}}</li>\r\n    </ul>\r\n    </div>\r\n    \r\n    <div class=\"button-container\">\r\n        <button class=\"btn\" id=\"btnEliminar\" (click)=\"changeDisplay('alert1')\">Eliminar Imagen</button>\r\n    </div>\r\n\r\n</div>\r\n\r\n\r\n\r\n<div id=\"image-show\">\r\n    <div id=\"alert1\" class=\"alert\" style=\"display: none;\">\r\n        <a>\r\n            <strong>Atencin</strong>&nbsp;Est seguro que desea eliminar {{imageService.img.name}}?\r\n        </a>\r\n        <div class=\"flexButtons\">\r\n            <button class=\"material-icons\" (click)=\"eliminar()\">\r\n                check\r\n            </button>\r\n            <button class=\"material-icons\" (click)=\"changeDisplay('alert1')\">clear</button>\r\n            \r\n        </div>\r\n    </div>\r\n    \r\n    <div id=\"temporal-interactive\" style=\"display: none;\"></div>\r\n</div>\r\n\r\n\r\n\r\n<!-- <input id=\"image_input\" #file type=\"file\" accept='image/*' style=\"display: none;\" /> -->\r\n<!-- <button class=\"btn_add\" (click)=\"loadImages()\">Cargar imagen</button> -->","/*\n* FileSaver.js\n* A saveAs() FileSaver implementation.\n*\n* By Eli Grey, http://eligrey.com\n*\n* License : https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md (MIT)\n* source  : http://purl.eligrey.com/github/FileSaver.js\n*/\nfunction download(url, name, opts) {\n    var xhr = new XMLHttpRequest();\n    xhr.open('GET', url);\n    xhr.responseType = 'blob';\n    xhr.onload = function () {\n        saveAs(xhr.response, name, opts);\n    };\n    xhr.onerror = function () {\n        console.error('could not download file');\n    };\n    xhr.send();\n}\nfunction corsEnabled(url) {\n    var xhr = new XMLHttpRequest();\n    // use sync to avoid popup blocker\n    xhr.open('HEAD', url, false);\n    xhr.send();\n    return xhr.status >= 200 && xhr.status <= 299;\n}\n// `a.click()` doesn't work for all browsers (#465)\nfunction click(node) {\n    try {\n        node.dispatchEvent(new MouseEvent('click'));\n    }\n    catch (e) {\n        var evt = document.createEvent('MouseEvents');\n        evt.initMouseEvent('click', true, true, window, 0, 0, 0, 80, 20, false, false, false, false, 0, null);\n        node.dispatchEvent(evt);\n    }\n}\nexport function saveAs(blob, name, opts) {\n    var a = document.createElement('a');\n    name = name || blob.name || 'download';\n    a.download = name;\n    a.rel = 'noopener'; // tabnabbing\n    if (typeof blob === 'string') {\n        // Support regular links\n        a.href = blob;\n        if (a.origin !== location.origin) {\n            corsEnabled(a.href) ? download(blob, name, opts) : click(a);\n        }\n        else {\n            click(a);\n        }\n    }\n    else {\n        // Support blobs\n        a.href = URL.createObjectURL(blob);\n        setTimeout(function () { URL.revokeObjectURL(a.href); }, 4E4); // 40s\n        setTimeout(function () { click(a); }, 0);\n    }\n}\n//# sourceMappingURL=save-as.js.map","import { Injectable } from '@angular/core';\r\nimport {HttpClient} from '@angular/common/http'\r\nimport { environment } from '../../../environments/environment';\r\nimport { User } from './home-inbterfaces';\r\nimport {tap} from 'rxjs/operators'\r\nimport * as bcrypt from 'bcryptjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\n\r\nexport class HomeService {\r\n  private baseUrl=environment.baseUrl;\r\n  private _user:User|undefined;\r\n  get user():User{\r\n    return {...this._user!}\r\n  }\r\n  constructor(\r\n    private http:HttpClient,\r\n    ) { }\r\n\r\n  async auth(mail){\r\n    const fromData:User={\r\n      id:\"\",\r\n      username:\"\",\r\n      password:\"\",\r\n      mail:mail,\r\n      type:0\r\n    };\r\n    // const bcpass=this.bcrypt.hash(pass,10);\r\n    // console.log(bcpass);\r\n\r\n    const requestOptions={\r\n      method:\"POST\",\r\n      body:fromData\r\n    }\r\n    return this.http.post<User>(`${this.baseUrl}/login`,fromData)\r\n    .pipe(\r\n      tap(user=>{\r\n        this._user=user;\r\n      })\r\n    );\r\n    \r\n    // return fetch(`${this.baseUrl}/user/Diego`);\r\n    //Autencticar user\r\n    // \r\n  }\r\n\r\n  async create(name,pass,mail,type){\r\n    const salt = bcrypt.genSaltSync(10);\r\n    const passw = bcrypt.hashSync(pass, salt);\r\n    const fromData:User={\r\n      id:'',\r\n      username:name,\r\n      password:passw,\r\n      mail:mail,\r\n      type:type\r\n    };\r\n    return this.http.post<User>(`${this.baseUrl}/user`,fromData)\r\n    \r\n\r\n  }\r\n}\r\n","import Shape from './shape.js';\n/**\n* A rectangle is a basic element with a position, width, and height. The\n* position refers to the top left corner of the rectangle\n*/\nexport default class Rectangle extends Shape {\n    /**\n    * Constructs a rectangle element at the position (x,y)\n    */\n    constructor(x, y, width, height) {\n        let rect = document.createElementNS('http://www.w3.org/2000/svg', 'rect');\n        rect.setAttributeNS(null, 'x', x.toString());\n        rect.setAttributeNS(null, 'y', y.toString());\n        rect.setAttributeNS(null, 'width', width.toString());\n        rect.setAttributeNS(null, 'height', height.toString());\n        super(rect);\n    }\n    // comment inherited from base class\n    setAttribute(name, value) {\n        this.root.setAttribute(name, value);\n        return this;\n    }\n    // comment inherited from base class\n    getAttribute(name) {\n        return this.root.getAttribute(name);\n    }\n    /**\n    * Returns the x position of the rectangle\n    */\n    get x() {\n        return this.root.x.baseVal.value;\n    }\n    /**\n    * Sets the x position of the rectangle\n    */\n    set x(n) {\n        this.root.x.baseVal.value = n;\n    }\n    /**\n    * Returns the y position of the rectangle\n    */\n    get y() {\n        return this.root.y.baseVal.value;\n    }\n    /**\n    * Sets the y position of the rectangle\n    */\n    set y(n) {\n        this.root.y.baseVal.value = n;\n    }\n    /**\n    * Returns the width of the rectangle\n    */\n    get width() {\n        return this.root.width.baseVal.value;\n    }\n    /**\n    * Sets the width of the rectangle\n    */\n    set width(n) {\n        this.root.width.baseVal.value = n;\n    }\n    /**\n    * Returns the height of the rectangle\n    */\n    get height() {\n        return this.root.height.baseVal.value;\n    }\n    /**\n    * Sets the height of the rectangle\n    */\n    set height(n) {\n        this.root.height.baseVal.value = n;\n    }\n    /*\n    * Translates the position of the rectangle to a new position from its current\n    * position. TODO: this is inconsistent with other translate methods within\n    * the elements. Probably best to conform to how SVG implements translate with\n    * the transform attribute, and then implement a move method or something.\n    */\n    translate(x, y) {\n        this.root.x.baseVal.value = this.root.x.baseVal.value + x;\n        this.root.y.baseVal.value = this.root.y.baseVal.value + y;\n    }\n    /**\n    * Returns the fill style of this rectangle\n    */\n    get fill() {\n        return this.root.style.fill;\n    }\n    /**\n    * Sets the fill style of this rectangle\n    */\n    set fill(s) {\n        this.root.style.fill = s;\n    }\n    /**\n    * Returns the stroke style of this rectangle\n    */\n    get stroke() {\n        return this.root.style.stroke;\n    }\n    /**\n    * Sets the stroke style of this rectangle\n    */\n    set stroke(s) {\n        this.root.style.stroke = s;\n    }\n}\n//# sourceMappingURL=rectangle.js.map","import { Component, OnInit, HostListener } from '@angular/core';\r\nimport { Router, ActivatedRoute, ParamMap } from '@angular/router';\r\nimport { ImageAdderService } from '../imagebar/imagebar.service';\r\nimport { DrawsService } from '../draws/draws.service';\r\nimport { sidebarService } from '../sidebar/sidebar.service';\r\nimport Interactive from 'src/assets/source/elements/interactive';\r\n\r\n@Component({\r\n  selector: 'app-main',\r\n  templateUrl: './main.component.html',\r\n  styleUrls: ['./main.component.css']\r\n})\r\nexport class MainComponent implements OnInit {\r\n  private name;\r\n  constructor(private route: ActivatedRoute,\r\n              public imageService: ImageAdderService,\r\n              public drawsService:DrawsService,  \r\n              public sidebarService:sidebarService,\r\n              \r\n    ) {    \r\n   }\r\n\r\n  ngOnInit(): void {\r\n    \r\n    this.route.queryParams.subscribe(params => {\r\n      this.name = params['name'];     \r\n      \r\n    });\r\n\r\n    // Alerta al cerrar pestaa\r\n\r\n    // window.onbeforeunload=function(e){\r\n    //   if(e){\r\n    //     e.returnValue=\"Seguro?\"\r\n    //   }\r\n    //   return \"desea salir?\"\r\n    // }\r\n\r\n  }\r\n  crearForma(){\r\n    this.drawsService.crearShape(this.imageService.img.name);\r\n  }\r\n\r\n \r\n  @HostListener('window:keydown', ['$event'])\r\n  handleKeyboardEvent(event: KeyboardEvent) {\r\n    if(event.key.localeCompare(\"Shift\")===0){\r\n      document.getElementById(\"toggle-class\").click();\r\n    }\r\n     /*\r\n    else if(event.key.localeCompare(\"l\")===0){\r\n      document.getElementById(\"toggle-glass\").click();\r\n    }    \r\n    else if(event.key.localeCompare(\"a\")===0 && this.imageService.images.length>0){      \r\n      const imageIndex=this.imageService.images.indexOf(this.imageService.img)\r\n      if(imageIndex===0){\r\n        document.getElementById(this.imageService.images[this.imageService.images.length-1].name).click();\r\n        // this.imageSelect(this.imageService.images[this.imageService.images.length-1].name)\r\n      }\r\n      else{\r\n        document.getElementById(this.imageService.images[imageIndex-1].name).click();\r\n        // this.imageSelect(this.imageService.images[imageIndex-1].name)\r\n      }\r\n    }\r\n    \r\n    else if(event.key.localeCompare(\"d\")===0 && this.imageService.images.length>0){      \r\n      const imageIndex=this.imageService.images.indexOf(this.imageService.img)\r\n      if(imageIndex===(this.imageService.images.length-1)){\r\n        document.getElementById(this.imageService.images[0].name).click();\r\n      }\r\n      else{\r\n        document.getElementById(this.imageService.images[imageIndex+1].name).click();\r\n      }\r\n    }\r\n    */\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n  imageSelect (name){\r\n    this.drawsService.refreshContainer(this.imageService.img.name).then(()=>{\r\n      this.drawsService.myInteractive.remove();\r\n    // Establece a element como imagen activa y actualiza el tamao del canvas\r\n    this.imageService.images.forEach(element => {\r\n      if (element.name.localeCompare(name)===0) {\r\n        this.imageService.setImage(element);        \r\n        this.syncFunction(50).then(v => {          \r\n          this.sidebarService.removeGlass();\r\n          let img=document.getElementById('image');  \r\n          document.getElementById('image-box').style.marginTop='-'+img.clientHeight.toString()+'px';\r\n          this.drawsService.myInteractive.height=img.clientHeight;      \r\n          this.sidebarService.magniGlass(\"image\");\r\n        });\r\n        \r\n      }\r\n    });\r\n    // Establece a element como imagen compleja activa\r\n    this.imageService.complexImages.forEach(element=>{\r\n      if(element.name.localeCompare(name)===0){\r\n        this.imageService.setComplex(element);\r\n      }\r\n    })\r\n    this.drawsService.myInteractive=new Interactive(\"my-interactive\");\r\n    this.drawsService.myInteractive.width=1400;\r\n    this.drawsService.myInteractive.window=false;\r\n    let img=document.getElementById('image') as HTMLImageElement;  \r\n\r\n    document.getElementById('image-box').style.marginTop='-'+img.clientHeight.toString()+'px';\r\n    this.drawsService.myInteractive.height=img.clientHeight;\r\n\r\n    // cargar imagenes\r\n    this.drawsService.clearActiveShapes();\r\n    // busco la imagen en el container\r\n    let indexA=0;\r\n    let indexB=0;\r\n    let found=false;\r\n    this.drawsService.shapeContainer.forEach(element => {        \r\n        if (!(element.imgName===name)) {\r\n            indexA++;\r\n        }\r\n        else{\r\n            indexB=indexA;\r\n            found=true;\r\n\r\n        }\r\n    });\r\n    //asigno valores a nuevo shape container\r\n    if(found){      \r\n      this.drawsService.shapeContainer[indexB].shapeList.forEach(element => {\r\n        this.drawsService.crearFromData(element);\r\n  \r\n      });\r\n    }\r\n    })\r\n    \r\n  }\r\n\r\n  resolveAfter2Seconds(x) {\r\n    return new Promise(resolve => {\r\n      setTimeout(() => {\r\n        resolve(x);\r\n      }, x);\r\n    });\r\n  }\r\n  \r\n  \r\n  async syncFunction(x) {\r\n    const a = await this.resolveAfter2Seconds(x);\r\n    const b = await this.resolveAfter2Seconds(x);\r\n    return x + a + b;\r\n  }\r\n  \r\n\r\n  // showcoordinates(e){\r\n    \r\n  //   let cont=document.getElementById(\"draw_container_id\");\r\n  //   const mouseX=e.clientX-cont.getBoundingClientRect().left;\r\n  //   const mouseY=e.clientY-cont.getBoundingClientRect().top;\r\n  //   this.drawsService.crearShape(this.imageService.img.name,mouseX,mouseY);\r\n\r\n  // }\r\n\r\n} \r\n","<link rel=\"stylesheet\" type=\"text/css\" href=\"main.component.css\">\r\n<body>\r\n        <div class=\"container\">\r\n            <app-navbar></app-navbar>\r\n            <div class=\"even-columns\">\r\n                <app-sidebar></app-sidebar>\r\n                <div>\r\n                    <div id=\"draw_container_id\" class=\"draw-container\" (click)=\"this.drawsService.shapeEvent()\"> \r\n                        <div id=\"my-interactive\" class=\"drawBox\"></div>\r\n                        <div  id=\"image-box\" class=\"imageBox\">\r\n                            <img id=\"image\"  [src]=\"imageService.img.imgURL\">                            \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                \r\n            </div>\r\n        </div>\r\n</body>\r\n\r\n    \r\n    \r\n    \r\n   \r\n\r\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar CsvConfigConsts = (function () {\n    function CsvConfigConsts() {\n    }\n    CsvConfigConsts.EOL = \"\\r\\n\";\n    CsvConfigConsts.BOM = \"\\ufeff\";\n    CsvConfigConsts.DEFAULT_FIELD_SEPARATOR = ',';\n    CsvConfigConsts.DEFAULT_DECIMAL_SEPARATOR = '.';\n    CsvConfigConsts.DEFAULT_QUOTE = '\"';\n    CsvConfigConsts.DEFAULT_SHOW_TITLE = false;\n    CsvConfigConsts.DEFAULT_TITLE = 'My Generated Report';\n    CsvConfigConsts.DEFAULT_FILENAME = 'generated';\n    CsvConfigConsts.DEFAULT_SHOW_LABELS = false;\n    CsvConfigConsts.DEFAULT_USE_TEXT_FILE = false;\n    CsvConfigConsts.DEFAULT_USE_BOM = true;\n    CsvConfigConsts.DEFAULT_HEADER = [];\n    CsvConfigConsts.DEFAULT_KEYS_AS_HEADERS = false;\n    return CsvConfigConsts;\n}());\nexports.CsvConfigConsts = CsvConfigConsts;\nexports.ConfigDefaults = {\n    filename: CsvConfigConsts.DEFAULT_FILENAME,\n    fieldSeparator: CsvConfigConsts.DEFAULT_FIELD_SEPARATOR,\n    quoteStrings: CsvConfigConsts.DEFAULT_QUOTE,\n    decimalSeparator: CsvConfigConsts.DEFAULT_DECIMAL_SEPARATOR,\n    showLabels: CsvConfigConsts.DEFAULT_SHOW_LABELS,\n    showTitle: CsvConfigConsts.DEFAULT_SHOW_TITLE,\n    title: CsvConfigConsts.DEFAULT_TITLE,\n    useTextFile: CsvConfigConsts.DEFAULT_USE_TEXT_FILE,\n    useBom: CsvConfigConsts.DEFAULT_USE_BOM,\n    headers: CsvConfigConsts.DEFAULT_HEADER,\n    useKeysAsHeaders: CsvConfigConsts.DEFAULT_KEYS_AS_HEADERS,\n};\nvar ExportToCsv = (function () {\n    function ExportToCsv(options) {\n        this._csv = \"\";\n        var config = options || {};\n        this._options = objectAssign({}, exports.ConfigDefaults, config);\n        if (this._options.useKeysAsHeaders\n            && this._options.headers\n            && this._options.headers.length > 0) {\n            console.warn('Option to use object keys as headers was set, but headers were still passed!');\n        }\n    }\n    Object.defineProperty(ExportToCsv.prototype, \"options\", {\n        get: function () {\n            return this._options;\n        },\n        set: function (options) {\n            this._options = objectAssign({}, exports.ConfigDefaults, options);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Generate and Download Csv\n     */\n    ExportToCsv.prototype.generateCsv = function (jsonData, shouldReturnCsv) {\n        if (shouldReturnCsv === void 0) { shouldReturnCsv = false; }\n        // Make sure to reset csv data on each run\n        this._csv = '';\n        this._parseData(jsonData);\n        if (this._options.useBom) {\n            this._csv += CsvConfigConsts.BOM;\n        }\n        if (this._options.showTitle) {\n            this._csv += this._options.title + '\\r\\n\\n';\n        }\n        this._getHeaders();\n        this._getBody();\n        if (this._csv == '') {\n            console.log(\"Invalid data\");\n            return;\n        }\n        // When the consumer asks for the data, exit the function\n        // by returning the CSV data built at this point\n        if (shouldReturnCsv) {\n            return this._csv;\n        }\n        // Create CSV blob to download if requesting in the browser and the\n        // consumer doesn't set the shouldReturnCsv param\n        var FileType = this._options.useTextFile ? 'plain' : 'csv';\n        var fileExtension = this._options.useTextFile ? '.txt' : '.csv';\n        var blob = new Blob([this._csv], { \"type\": \"text/\" + FileType + \";charset=utf8;\" });\n        if (navigator.msSaveBlob) {\n            var filename = this._options.filename.replace(/ /g, \"_\") + fileExtension;\n            navigator.msSaveBlob(blob, filename);\n        }\n        else {\n            var attachmentType = this._options.useTextFile ? 'text' : 'csv';\n            var uri = 'data:attachment/' + attachmentType + ';charset=utf-8,' + encodeURI(this._csv);\n            var link = document.createElement(\"a\");\n            link.href = URL.createObjectURL(blob);\n            link.setAttribute('visibility', 'hidden');\n            link.download = this._options.filename.replace(/ /g, \"_\") + fileExtension;\n            document.body.appendChild(link);\n            link.click();\n            document.body.removeChild(link);\n        }\n    };\n    /**\n     * Create Headers\n     */\n    ExportToCsv.prototype._getHeaders = function () {\n        if (!this._options.showLabels && !this._options.useKeysAsHeaders) {\n            return;\n        }\n        var useKeysAsHeaders = this._options.useKeysAsHeaders;\n        var headers = useKeysAsHeaders ? Object.keys(this._data[0]) : this._options.headers;\n        if (headers.length > 0) {\n            var row = \"\";\n            for (var keyPos = 0; keyPos < headers.length; keyPos++) {\n                row += headers[keyPos] + this._options.fieldSeparator;\n            }\n            row = row.slice(0, -1);\n            this._csv += row + CsvConfigConsts.EOL;\n        }\n    };\n    /**\n     * Create Body\n     */\n    ExportToCsv.prototype._getBody = function () {\n        var keys = Object.keys(this._data[0]);\n        for (var i = 0; i < this._data.length; i++) {\n            var row = \"\";\n            for (var keyPos = 0; keyPos < keys.length; keyPos++) {\n                var key = keys[keyPos];\n                row += this._formatData(this._data[i][key]) + this._options.fieldSeparator;\n            }\n            row = row.slice(0, -1);\n            this._csv += row + CsvConfigConsts.EOL;\n        }\n    };\n    /**\n     * Format Data\n     * @param {any} data\n     */\n    ExportToCsv.prototype._formatData = function (data) {\n        if (this._options.decimalSeparator === 'locale' && this._isFloat(data)) {\n            return data.toLocaleString();\n        }\n        if (this._options.decimalSeparator !== '.' && this._isFloat(data)) {\n            return data.toString().replace('.', this._options.decimalSeparator);\n        }\n        if (typeof data === 'string') {\n            data = data.replace(/\"/g, '\"\"');\n            if (this._options.quoteStrings || data.indexOf(',') > -1 || data.indexOf('\\n') > -1 || data.indexOf('\\r') > -1) {\n                data = this._options.quoteStrings + data + this._options.quoteStrings;\n            }\n            return data;\n        }\n        if (typeof data === 'boolean') {\n            return data ? 'TRUE' : 'FALSE';\n        }\n        return data;\n    };\n    /**\n     * Check if is Float\n     * @param {any} input\n     */\n    ExportToCsv.prototype._isFloat = function (input) {\n        return +input === input && (!isFinite(input) || Boolean(input % 1));\n    };\n    /**\n     * Parse the collection given to it\n     *\n     * @private\n     * @param {*} jsonData\n     * @returns {any[]}\n     * @memberof ExportToCsv\n     */\n    ExportToCsv.prototype._parseData = function (jsonData) {\n        this._data = typeof jsonData != 'object' ? JSON.parse(jsonData) : jsonData;\n        return this._data;\n    };\n    return ExportToCsv;\n}());\nexports.ExportToCsv = ExportToCsv;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n/**\n * Convet to Object\n * @param {any} val\n */\nfunction toObject(val) {\n    if (val === null || val === undefined) {\n        throw new TypeError('Object.assign cannot be called with null or undefined');\n    }\n    return Object(val);\n}\n/**\n * Assign data  to new Object\n * @param {any}   target\n * @param {any[]} ...source\n */\nfunction objectAssign(target) {\n    var source = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        source[_i - 1] = arguments[_i];\n    }\n    var from;\n    var to = toObject(target);\n    var symbols;\n    for (var s = 1; s < arguments.length; s++) {\n        from = Object(arguments[s]);\n        for (var key in from) {\n            if (hasOwnProperty.call(from, key)) {\n                to[key] = from[key];\n            }\n        }\n        if (Object.getOwnPropertySymbols) {\n            symbols = Object.getOwnPropertySymbols(from);\n            for (var i = 0; i < symbols.length; i++) {\n                if (propIsEnumerable.call(from, symbols[i])) {\n                    to[symbols[i]] = from[symbols[i]];\n                }\n            }\n        }\n    }\n    return to;\n}\n//# sourceMappingURL=export-to-csv.js.map","import Rectangle from '../../../assets/source/elements/svg/rectangle';\r\nimport Control from '../../../assets/source/elements/input/control';\r\nimport Line from '../../../assets/source/elements/svg/line';\r\n\r\nexport class Clase{\r\n    lines:string;\r\n    name:string;\r\n    tag:string;\r\n    color:string;\r\n    shape:string;\r\n    width:number;\r\n    height:number; \r\n    atribute:string; \r\n    view:boolean;\r\n    showName:string;\r\n    icon:string;\r\n    upClass:string;\r\n}\r\n\r\n\r\n\r\nexport class ActiveShape{\r\n    lines:string;\r\n    shape:Rectangle;\r\n    shapeLine:Line [];\r\n    imgName:string;\r\n    activo:boolean;\r\n    color:string;\r\n    clase:string;\r\n    shapeType:string; \r\n    atribute:string;\r\n\r\n}\r\n\r\nexport class altLine{\r\n    x1:number;\r\n    x2:number;\r\n    y1:number;\r\n    y2:number;\r\n}\r\n\r\nexport class exportableShape{\r\n    id:number;\r\n    lines:string;\r\n    imgName:string;\r\n    imgWidth:string;\r\n    imgHeight:string;\r\n    clase:string;    \r\n    shapetype:string;\r\n    color:string;\r\n    oriX:string;\r\n    oriY:string;\r\n    width:string;\r\n    height:string;\r\n    atribute:string;  \r\n}\r\n\r\nexport class ShapeContainer{\r\n    imgName:String;\r\n    shapeList:ActiveShape[];\r\n    width:string;\r\n    height:string;\r\n}\r\nexport class Category{\r\n    id:string;\r\n    nombre:string;\r\n    upClass:string;\r\n}","import Use from '../svg/use.js';\nexport default class Icon extends Use {\n    /**\n    * Construct an icon element at the position (x,y) with the provided dimensions\n    */\n    constructor(x, y, width, height) {\n        super(x, y, width, height);\n        this.classList.add('icon');\n    }\n}\n//# sourceMappingURL=icon.js.map","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","import Shape from './shape.js';\r\n\r\n/**\r\n* A circle is a basic shape element with a start and end position.\r\n*\r\n* Geometric Properties:\r\n*   - x1\r\n*   - y1\r\n*   - x2\r\n*   - y2\r\n*/\r\nexport default class Line extends Shape {\r\n\r\n  // make the type of the root to be more specific\r\n  root: SVGLineElement;\r\n\r\n  /**\r\n  * Constructs a line between the points (x1, y1) and (x2, y2)\r\n  */\r\n  constructor(x1: number, y1: number, x2: number, y2: number) {\r\n    let line = document.createElementNS('http://www.w3.org/2000/svg', 'line');\r\n    line.setAttributeNS(null, 'x1', x1.toString());\r\n    line.setAttributeNS(null, 'y1', y1.toString());\r\n    line.setAttributeNS(null, 'x2', x2.toString());\r\n    line.setAttributeNS(null, 'y2', y2.toString());\r\n    super(line);\r\n  }\r\n\r\n  /**\r\n  * Returns the x position of the start position\r\n  */\r\n  get x1(): number {\r\n    return this.root.x1.baseVal.value;\r\n  }\r\n\r\n  /**\r\n  * Sets the x position of the start position\r\n  */\r\n  set x1(x1: number) {\r\n    this.root.x1.baseVal.value = x1;\r\n  }\r\n\r\n  /**\r\n  * Returns the y position of the start position\r\n  */\r\n  get y1(): number {\r\n    return this.root.y1.baseVal.value;\r\n  }\r\n\r\n  /**\r\n  * Sets the y position of the start position\r\n  */\r\n  set y1(y1: number) {\r\n    this.root.y1.baseVal.value = y1;\r\n  }\r\n\r\n  /**\r\n  * Returns the x position of the end position\r\n  */\r\n  get x2(): number {\r\n    return this.root.x2.baseVal.value;\r\n  }\r\n\r\n  /**\r\n  * Sets the x position of the end position\r\n  */\r\n  set x2(x2: number) {\r\n    this.root.x2.baseVal.value = x2;\r\n  }\r\n\r\n  /**\r\n  * Returns the y position of the end position\r\n  */\r\n  get y2(): number {\r\n    return this.root.y2.baseVal.value;\r\n  }\r\n\r\n  /**\r\n  * Sets the y position of the end position\r\n  */\r\n  set y2(y2: number) {\r\n    this.root.y2.baseVal.value = y2;\r\n  }\r\n\r\n  /*\r\n  * Translates the position of the line to a new position from its current\r\n  * position. TODO: this is inconsistent with other translate methods within\r\n  * the elements. Probably best to conform to how SVG implements translate with\r\n  * the transform attribute, and then implement a move method or something.\r\n  */\r\n  translate(x: number, y: number) {\r\n    this.root.x1.baseVal.value += x;\r\n    this.root.y1.baseVal.value += y;\r\n    this.root.x2.baseVal.value += x;\r\n    this.root.y2.baseVal.value += y;\r\n  }\r\n\r\n  /**\r\n  * Returns the fill style of this line\r\n  */\r\n  get fill() : string{\r\n   return this.root.style.fill;\r\n  }\r\n\r\n  /**\r\n  * Sets the fill style of this line\r\n  */\r\n  set fill(s:string){\r\n   this.root.style.fill = s;\r\n  }\r\n\r\n  /**\r\n  * Returns the stroke style of this line\r\n  */\r\n  get stroke() : string{\r\n   return this.root.style.stroke;\r\n  }\r\n\r\n  /**\r\n  * Sets the stroke style of this line\r\n  */\r\n  set stroke(s: string){\r\n   this.root.style.stroke = s;\r\n  }\r\n}\r\n","import Controller from './controller.js';\n/**\n* A basic element of the interactive ecosystem. Each element has an unique\n* identifier, an update function to be defined by the user, and the ability to\n* add dependencies on other elements.\n*/\nexport default class BaseElement {\n    /**\n    * Constructs the elements and adds it into the current controller.\n    */\n    constructor() {\n        // give this element an unique id\n        this._id = `${this.constructor.name.toLowerCase()}-${BaseElement.count++}`;\n        // add this element to the controller\n        BaseElement.controller.add(this);\n    }\n    /**\n    * Clears the static data structures holding elements and resets the count.\n    */\n    static clear(disable = false) {\n        BaseElement.count = 0;\n        BaseElement.controller.clear();\n        BaseElement.disable = disable;\n    }\n    /**\n    * Returns the unique generated identifier associated with this element.\n    */\n    get id() {\n        return this._id;\n    }\n    /**\n    * Removes this element from the DOM and from the Element controller.\n    */\n    remove() {\n        BaseElement.controller.remove(this);\n    }\n    /**\n    * Declares this element dependent on the provided element(s).\n    */\n    addDependency(...elements) {\n        for (let element of elements) {\n            BaseElement.controller.dependencyGraph.addDependency(element, this);\n        }\n    }\n    /**\n    * Updates all of the elements that depend on this element.\n    */\n    updateDependents() {\n        BaseElement.controller.update(this);\n    }\n}\n/**\n* Allows for the events attatched to elements to be disabled.\n*/\nBaseElement.disable = false;\n/**\n* The controller manages the dependencies between elements. Every element\n* is added to this controller upon creation.\n*/\nBaseElement.controller = new Controller();\n/**\n* This number uniquely identifes elements\n*/\nBaseElement.count = 0;\n//# sourceMappingURL=base-element.js.map","/**\n* A point has an x position and y position\n*/\nexport default class Point {\n}\n//# sourceMappingURL=point.js.map","import Element from './element.js';\n/**\n* A hyper link element.\n*/\nexport default class A extends Element {\n    /**\n    * Constructs a link element with the provided href.\n    */\n    constructor(href) {\n        let root = document.createElementNS('http://www.w3.org/2000/svg', 'a');\n        root.setAttributeNS(null, 'href', href);\n        super(root);\n    }\n    // comment inherited from base class\n    setAttribute(name, value) {\n        this.root.setAttribute(name, value);\n        return this;\n    }\n    // comment inherited from base class\n    getAttribute(name) {\n        return this.root.getAttribute(name);\n    }\n}\n//# sourceMappingURL=a.js.map","import Element from './element.js';\nexport default class Definitions extends Element {\n    constructor() {\n        let defs = document.createElementNS('http://www.w3.org/2000/svg', 'defs');\n        super(defs);\n    }\n}\n//# sourceMappingURL=definitions.js.map","import { Component, OnInit } from '@angular/core';\r\nimport { ImageAdderService } from '../imagebar/imagebar.service';\r\nimport { DrawsService } from '../draws/draws.service';\r\nimport {Papa} from 'ngx-papaparse'\r\n\r\nimport { sidebarService } from '../sidebar/sidebar.service';\r\nimport { ActiveShape, Clase, ShapeContainer, altLine } from '../draws/draws-class';\r\nimport Line from '../../../assets/source/elements/svg/line';\r\nimport Rectangle from '../../../assets/source/elements/svg/rectangle';\r\n\r\n@Component({\r\n  selector: 'app-imports',\r\n  templateUrl: './imports.component.html',\r\n  styleUrls: ['./imports.component.css']\r\n})\r\nexport class ImportsComponent implements OnInit {\r\n\r\n  constructor(public imageService: ImageAdderService, \r\n              public drawsService: DrawsService,\r\n              public sidebarService:sidebarService,\r\n              private papa:Papa) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  resolveAfter2Seconds(x) {\r\n    return new Promise(resolve => {\r\n      setTimeout(() => {\r\n        resolve(x);\r\n      }, x);\r\n    });\r\n  }\r\n  \r\n  \r\n  async syncFunction(x) {\r\n    const a = await this.resolveAfter2Seconds(x);\r\n    const b = await this.resolveAfter2Seconds(x);\r\n    return x + a + b;\r\n  }\r\n\r\n  exportData(){\r\n    let pass=false;\r\n    this.drawsService.shapeContainer.forEach(element=>{\r\n      if(element.shapeList.length>=1){\r\n        pass=true;\r\n      }\r\n    })\r\n    if(this.drawsService.activesShapes.length>=1 || pass){   \r\n      this.drawsService.exportData(this.imageService.img.name);\r\n    }\r\n    else console.log(\"Nada que exportar\");\r\n  }\r\n  \r\n  loadCSV(files){\r\n    console.log(files);\r\n    if(files.length===0){\r\n      return;\r\n    }\r\n    const type=files[0].type;\r\n    if(type.localeCompare(\"application/vnd.ms-excel\")!=0){\r\n      return;\r\n    }\r\n    let csvData=[];\r\n    let header=[];\r\n    let counter=0;\r\n    this.papa.parse(files[0], {\r\n      // header true->ignora el header del archivo\r\n      header: false, \r\n      step:function (results) {\r\n        if(counter!=0){\r\n          if(results.data!=\"\"){\r\n            csvData.push(results.data);\r\n          }\r\n        }\r\n        else{\r\n          header.push(results.data);\r\n        }\r\n        counter++;\r\n        \r\n      }\r\n    });\r\n    this.syncFunction(500).then(v=>{   \r\n      // recorrer el data para crear entradas \r\n      // en el shapecontainer\r\n      this.createFrames(csvData).then(() => {\r\n         // si la imagen activa es la que contiene datos, se dibujan directamente, sino\r\n      // se almacenan en el shape container\r\n        csvData.forEach(csvelement=>{\r\n          if(!this.isEmpty(this.imageService.img)){\r\n            // Revisa si la imagen cargada es la misma que esta contenida\r\n            if(this.imageService.img.name.localeCompare(csvelement[0])===0){\r\n              this.loadFill(csvelement);\r\n            }\r\n            else{\r\n              this.loadEmpty(csvelement);\r\n            }\r\n          }\r\n          \r\n          // Si no hay imagen activa\r\n          else{\r\n            this.loadEmpty(csvelement);\r\n          } \r\n          \r\n        })\r\n      });     \r\n\r\n    })\r\n\r\n  }\r\n\r\n   isEmpty(obj) {\r\n    return Object.keys(obj).length === 0;\r\n  }\r\n\r\n  loadEmpty(csvelement){\r\n    this.drawsService.shapeContainer.forEach(containerElement=>{\r\n      // si pertenece a la imagen, se crea el elemento\r\n      if(csvelement[0].localeCompare(containerElement.imgName)===0){\r\n        let temporal= new ActiveShape();\r\n        let factor=1400/(containerElement.width);\r\n        temporal.imgName=csvelement[0];\r\n        temporal.activo=true;            \r\n        temporal.clase=csvelement[3];\r\n        temporal.shapeType=csvelement[4];\r\n        let rawData=csvelement[5].replace(\"{\",\"\");        \r\n        rawData=rawData.replace(\"}\",\"\");\r\n        rawData=rawData.replace(/\\\"/g,\"\");\r\n        temporal.atribute=rawData;\r\n        temporal.color=csvelement[11];\r\n        temporal.shapeLine=[];\r\n        if(temporal.shapeType.localeCompare(\"box\")===0){          \r\n          let x=Math.floor(factor*csvelement[7]);\r\n          let y=Math.floor(factor*csvelement[8]);\r\n          let width=Math.floor(factor*csvelement[9]);\r\n          let height=Math.floor(factor*csvelement[10]);\r\n          temporal.shape=new Rectangle(x,y,width,height);\r\n        }\r\n        else if(temporal.shapeType.localeCompare(\"line\")===0){\r\n          let rawX=csvelement[7].replace(/\\\"/g,\"\");              \r\n          let rawY=csvelement[8].replace(/\\\"/g,\"\"); \r\n          let linesXPoints=this.drawsService.splitAtributeDataService(rawX,\",\");\r\n          let linesYPoints=this.drawsService.splitAtributeDataService(rawY,\",\");\r\n          let lineCounter=(linesXPoints.length/2);                      \r\n          for (let index = 0; index < linesXPoints.length; index+=2) {\r\n            \r\n            let x1=Math.floor(parseInt(linesXPoints[index])*factor);\r\n            let x2=Math.floor(parseInt(linesXPoints[index+1])*factor);\r\n            let y1=Math.floor(parseInt(linesYPoints[index])*factor);\r\n            let y2=Math.floor(parseInt(linesYPoints[index+1])*factor);\r\n            let tempLine= new Line(x1,y1,x2,y2);\r\n            temporal.shapeLine.push(tempLine)\r\n\r\n          }            \r\n          // console.log(temporal.shapeLine);\r\n          temporal.lines=lineCounter.toString();\r\n        }\r\n        else if(temporal.shapeType.localeCompare(\"arrow\")===0){\r\n          let x=Math.floor(factor*csvelement[7]);\r\n          let y=Math.floor(factor*csvelement[8]);\r\n          temporal.shape=new Rectangle(x,y,0,0);\r\n        }\r\n        containerElement.shapeList.push(temporal);\r\n\r\n      }\r\n\r\n    });\r\n  }\r\n  loadFill(csvelement){\r\n    let temporal= new ActiveShape();\r\n    let factor=1400/parseInt((this.imageService.complexImg.width));\r\n    temporal.imgName=csvelement[0];\r\n    temporal.activo=true;            \r\n    temporal.clase=csvelement[3];\r\n    temporal.shapeType=csvelement[4];\r\n    let rawData=csvelement[5].replace(\"{\",\"\");        \r\n    rawData=rawData.replace(\"}\",\"\");\r\n    rawData=rawData.replace(/\\\"/g,\"\");\r\n    temporal.atribute=rawData;\r\n    temporal.color=csvelement[11];\r\n    temporal.shapeLine=[];\r\n\r\n    if(temporal.shapeType.localeCompare(\"box\")===0){\r\n      \r\n      let x=Math.floor(factor*csvelement[7]);\r\n      let y=Math.floor(factor*csvelement[8]);\r\n      let width=Math.floor(factor*csvelement[9]);\r\n      let height=Math.floor(factor*csvelement[10]);\r\n      \r\n      temporal.shape=new Rectangle(x,y,width,height)\r\n    }\r\n    else if(temporal.shapeType.localeCompare(\"line\")===0){\r\n      let rawX=csvelement[7].replace(/\\\"/g,\"\");              \r\n      let rawY=csvelement[8].replace(/\\\"/g,\"\"); \r\n      let linesXPoints=this.drawsService.splitAtributeDataService(rawX,\",\");\r\n      let linesYPoints=this.drawsService.splitAtributeDataService(rawY,\",\");\r\n      let lineCounter=(linesXPoints.length/2);                      \r\n      for (let index = 0; index < linesXPoints.length; index+=2) {\r\n        \r\n        let x1=Math.floor(parseInt(linesXPoints[index])*factor);\r\n        let x2=Math.floor(parseInt(linesXPoints[index+1])*factor);\r\n        let y1=Math.floor(parseInt(linesYPoints[index])*factor);\r\n        let y2=Math.floor(parseInt(linesYPoints[index+1])*factor);\r\n        let tempLine= new Line(x1,y1,x2,y2);\r\n        temporal.shapeLine.push(tempLine)\r\n\r\n      }            \r\n      // console.log(temporal.shapeLine);\r\n      temporal.lines=lineCounter.toString();\r\n    }\r\n    else if(temporal.shapeType.localeCompare(\"arrow\")===0){\r\n      let x=Math.floor(factor*csvelement[7]);\r\n      let y=Math.floor(factor*csvelement[8]);\r\n      temporal.shape=new Rectangle(x,y,0,0);\r\n      console.log(x,y);\r\n    }\r\n    this.drawsService.crearFromData(temporal);\r\n  }\r\n  async createFrames(csvData: any[]) {\r\n    csvData.forEach(element=>{\r\n      let addImg=true;\r\n      let addclas=true;\r\n      this.drawsService.shapeContainer.forEach(containerElement=>{\r\n        if(element[0].localeCompare(containerElement.imgName)===0){\r\n          addImg=false;\r\n        }\r\n\r\n      });\r\n      this.drawsService.clases.forEach(clasElement=>{\r\n        if(element[3].localeCompare(clasElement.name)===0){\r\n          addclas=false;\r\n        }\r\n      });\r\n\r\n      if(addImg){\r\n        let container= new ShapeContainer();\r\n        container.imgName=element[0];\r\n        container.height=element[1];\r\n        container.width=element[2];\r\n        container.shapeList=[];\r\n        this.drawsService.shapeContainer.push(container);\r\n      }\r\n      if(addclas){\r\n        let clase= new Clase();\r\n        clase.name=element[3];\r\n        clase.shape=element[4];\r\n        clase.color=element[11];\r\n        let rawData=element[5].replace(\"{\",\"\");        \r\n        rawData=rawData.replace(\"}\",\"\");\r\n        rawData=rawData.replace(/\\\"/g,\"\");\r\n        clase.atribute=rawData;\r\n        clase.view=true;\r\n        \r\n        if(clase.shape.localeCompare(\"box\")===0){\r\n          clase.width=60;\r\n          clase.height=60;\r\n        }\r\n        else{\r\n          let linesXPoints=element[7].replace(/\\\"/g,\"\")\r\n          linesXPoints=this.drawsService.splitAtributeDataService(linesXPoints,\",\")\r\n          clase.lines=(linesXPoints.length/2).toString();\r\n        }\r\n        this.drawsService.clases.push(clase);          \r\n      }\r\n\r\n    });  \r\n  }\r\n\r\n\r\n}\r\n","\r\n    <div id=\"button-exports\" class=\"btn-container\">\r\n        \r\n        <input id=\"csv-input\" class=\"image_input\" #csv accept=\".csv\" type=\"file\" (change)=\"loadCSV(csv.files)\">\r\n        <label for=\"csv-input\" style=\"margin-left: 1em;margin-top: 0.5em;\" title=\"Importa un archivo .csv desde su dispositivo\">Importar datos</label>\r\n\r\n        <br>\r\n\r\n        <button class=\"btn export\" (click)='exportData()' title=\"Exportar datos de clases en formato .csv\">Exportar datos</button>\r\n\r\n    </div>","/**\n* A node class contains data and a recursive next point.\n*/\nclass Node {\n    /**\n    Constructs a new node with the provided data and sets next to be null.\n    */\n    constructor(data) {\n        this.data = data;\n        this.next = null;\n    }\n    /**\n    * Returns the string representation of the data.\n    */\n    toString() {\n        return this.data.toString();\n    }\n}\n/**\n* A dynamic, singlely linked list.\n*/\nexport default class LinkedList {\n    /**\n    Consstructs an empty linked list.\n    */\n    constructor() {\n        this.head = null;\n    }\n    /**\n    Inserts a node at the beginning of the list\n    */\n    insert(element) {\n        if (this.head == null) {\n            this.head = new Node(element);\n        }\n        else {\n            let temp = this.head;\n            this.head = new Node(element);\n            this.head.next = temp;\n        }\n    }\n    /**\n    Returns the first element in the list, or null if the list is empty.\n    */\n    first() {\n        if (this.head != null) {\n            return this.head.data;\n        }\n        else {\n            return null;\n        }\n    }\n    /**\n    Removes the first element in the list. Returns true if element was successfully removed, false otherwise.\n    */\n    remove() {\n        if (this.head != null) {\n            this.head = this.head.next;\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n    /**\n    * Prints out the string reprsentation of this linked list.\n    */\n    toString() {\n        let current = this.head;\n        let str = '';\n        while (current != null) {\n            str += current.toString() + ' ';\n            current = current.next;\n        }\n        return str.substr(0, str.length - 1);\n    }\n    /**\n    Returns an iterator over the elements in the list\n    */\n    [Symbol.iterator]() {\n        let current = this.head;\n        const iterator = {\n            next() {\n                if (current == null) {\n                    return {\n                        done: true,\n                        value: undefined\n                    };\n                }\n                else {\n                    let data = current.data;\n                    current = current.next;\n                    return {\n                        done: false,\n                        value: data\n                    };\n                }\n            }\n        };\n        return iterator;\n    }\n}\n//# sourceMappingURL=linked-list.js.map","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { MainComponent } from './main/main.component';\r\n\r\nconst routes:Routes=[\r\n  {\r\n    path:'',\r\n    component:MainComponent\r\n  },\r\n  {\r\n    path:'**',\r\n    redirectTo:''\r\n  }\r\n]\r\n\r\n@NgModule({\r\n  imports: [\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  exports:[\r\n    RouterModule\r\n  ]\r\n})\r\nexport class TaggerRoutingModule { }\r\n","import Element from './element.js';\n/**\n* A shape is a basic geometric element.\n*/\nexport default class Shape extends Element {\n    /**\n    * Constructs a shape element with the provided root.\n    */\n    constructor(root) {\n        super(root);\n    }\n    // comment inherited from base class\n    setAttribute(name, value) {\n        this.root.setAttribute(name, value);\n        return this;\n    }\n    // comment inherited from base class\n    getAttribute(name) {\n        return this.root.getAttribute(name);\n    }\n    /**\n    * Returns the location of the point on the path.\n    */\n    getPointAtLength(x) {\n        return this.root.getPointAtLength(x);\n    }\n    /**\n    * Returns the total length of this path.\n    */\n    getTotalLength() {\n        return this.root.getTotalLength();\n    }\n    /**\n    * Returns true if the point is contained within this shapes fill\n    */\n    isPointInFill(point) {\n        return this.root.isPointInFill(point);\n    }\n    /**\n    * Returns true if the point is contained within this shapes stroke\n    */\n    isPointInStroke(point) {\n        return this.root.isPointInStroke(point);\n    }\n}\n//# sourceMappingURL=shape.js.map","import Shape from './shape.js';\n/**\n* An ellipse is a basic element with a position, x-radius, and y-radius\n*\n* Geometric Properties:\n*   - cx\n*   - cy\n*   - rx\n*   - ry\n*/\nexport default class Ellipse extends Shape {\n    /**\n    * Constructs a ellipse element at the position (cx,cy) with a rx and ry radius.\n    */\n    constructor(cx, cy, rx, ry) {\n        let ellipse = document.createElementNS('http://www.w3.org/2000/svg', 'ellipse');\n        ellipse.setAttributeNS(null, 'cx', cx.toString());\n        ellipse.setAttributeNS(null, 'cy', cy.toString());\n        ellipse.setAttributeNS(null, 'rx', rx.toString());\n        ellipse.setAttributeNS(null, 'ry', ry.toString());\n        super(ellipse);\n    }\n    /**\n    * Returns the x position of the rectangle\n    */\n    get cx() {\n        return this.root.cx.baseVal.value;\n    }\n    /**\n    * Sets the x position of the rectangle\n    */\n    set cx(n) {\n        this.root.cx.baseVal.value = n;\n    }\n    /**\n    * Returns the y position of the rectangle\n    */\n    get cy() {\n        return this.root.cy.baseVal.value;\n    }\n    /**\n    * Sets the y position of the rectangle\n    */\n    set cy(n) {\n        this.root.cy.baseVal.value = n;\n    }\n    /**\n    * Returns the width of the rectangle\n    */\n    get rx() {\n        return this.root.rx.baseVal.value;\n    }\n    /**\n    * Sets the width of the rectangle\n    */\n    set rx(n) {\n        this.root.rx.baseVal.value = n;\n    }\n    /**\n    * Returns the height of the rectangle\n    */\n    get ry() {\n        return this.root.ry.baseVal.value;\n    }\n    /**\n    * Sets the height of the rectangle\n    */\n    set ry(n) {\n        this.root.ry.baseVal.value = n;\n    }\n    /**\n    * Translates the ellipse to a new position by changing the x and y attributes.\n    */\n    translate(x, y) {\n        this.root.cx.baseVal.value = this.root.cx.baseVal.value + x;\n        this.root.cy.baseVal.value = this.root.cy.baseVal.value + y;\n    }\n    /**\n    * Returns the fill style of this ellipse\n    */\n    get fill() {\n        return this.root.style.fill;\n    }\n    /**\n    * Sets the fill style of this ellipse\n    */\n    set fill(s) {\n        this.root.style.fill = s;\n    }\n    /**\n    * Returns the stroke style of this ellipse\n    */\n    get stroke() {\n        return this.root.style.stroke;\n    }\n    /**\n    * Sets the stroke style of this ellipse\n    */\n    set stroke(s) {\n        this.root.style.stroke = s;\n    }\n}\n//# sourceMappingURL=ellipse.js.map","import BaseElement from '../base-element.js';\nimport Input from './input.js';\nimport Path from '../svg/path.js';\nimport Circle from '../svg/circle.js';\nimport Rectangle from '../svg/rectangle.js';\n/**\n* A point has an x position and y position\n*/\nclass Point {\n}\n/**\n* A control point is a draggable two dimensional point.\n*/\nexport default class Control extends Input {\n    /**\n    * Constructs a control at the position (x,y)\n    */\n    constructor(x, y) {\n        super();\n        /**\n        * Modifying the transform function allows for the control to be constrained\n        * to a path or constrained to the region enclosed in a path.\n        */\n        this.constrain = function (_oldPosition, newPosition) {\n            return newPosition;\n        };\n        // create the svg components\n        this.point = this.circle(0, 0, Control.pointRadius);\n        this.handle = this.circle(0, 0, Control.handleRadius);\n        this.point.classList.add('point');\n        this.handle.classList.add('handle');\n        this.root.classList.add('control');\n        // initialize instance variables\n        this._x = x;\n        this._y = y;\n        this._dx = 0;\n        this._dy = 0;\n        this.update = () => { };\n        // translate the control to its initial position\n        this.translate(x, y);\n        // register event handlers\n        this.root.onmousedown = this.handleMouseDown.bind(this);\n        this.handle.root.onmouseout = this.handleMouseOut.bind(this);\n        this.handle.root.addEventListener('touchstart', this.handleTouchStart.bind(this), { passive: false });\n        // initialize window event listeners only once\n        if (!Control.initalized) {\n            window.onmouseover = Control.handleMouseOver;\n            window.onmousemove = Control.handleMouseMove;\n            window.onmouseup = Control.handleInputEnd;\n            window.addEventListener('touchend', Control.handleInputEnd, { passive: false });\n            window.addEventListener('touchmove', Control.handleTouchMove, { passive: false });\n            Control.initalized = true;\n        }\n    }\n    /**\n    * Handles when the user moves their mouse over the window. If there is an\n    * active control, the control's position is updated.\n    */\n    static handleMouseMove(event) {\n        if (Control.active != null) {\n            Control.handleMoveTo(event.clientX, event.clientY);\n            event.preventDefault();\n        }\n    }\n    /**\n    * Handles a touch move event. If there is an active control, the control's\n    * position is updated.\n    */\n    static handleTouchMove(event) {\n        if (Control.active != null) {\n            Control.handleMoveTo(event.touches[0].clientX, event.touches[0].clientY);\n            event.preventDefault();\n        }\n    }\n    /**\n    * Moves the active control to the new (x,y) position.\n    */\n    static handleMoveTo(clientX, clientY) {\n        // let deltaX = clientX - Control.prevX;\n        // let deltaY = clientY - Control.prevY;\n        // Control.prevX = clientX;\n        // Control.prevY = clientY;\n        // let x = Control.active.x + deltaX;\n        // let y = Control.active.y + deltaY;\n        let x = clientX + Control.slopX;\n        let y = clientY + Control.slopY;\n        Control.active.translate(x, y);\n    }\n    // static handleMoveTo( clientX, clientY) {\n    //\n    //   let viewPort = Control.active.root.viewportElement;\n    //   let viewBox = viewPort.getAttribute('viewBox');\n    //\n    //   let transform = viewPort.getAttribute('transform');\n    //   let start = transform.indexOf(',');\n    //   let end = transform.indexOf(')');\n    //\n    //   let yDirection = parseInt(transform.substr(start + 1, end - start));\n    //   let width = parseInt(viewPort.getAttribute('width'));\n    //   let height = parseInt(viewPort.getAttribute('height'));\n    //   let viewBoxArray = viewBox.split(' ');\n    //   // let originX = parseInt(viewBoxArray[0]);\n    //   // let originY = parseInt(viewBoxArray[1]);\n    //   let visibleWidth = parseInt(viewBoxArray[2]);\n    //   let visibleHeight = parseInt(viewBoxArray[3]);\n    //   let scaleX = width/visibleWidth;\n    //   let scaleY = height/visibleHeight;\n    //\n    //   let deltaX = clientX - Control.prevX;\n    //   let deltaY = clientY - Control.prevY;\n    //   Control.prevX = clientX;\n    //   Control.prevY = clientY;\n    //   let x = Control.active.x + deltaX/scaleX;\n    //   let y = Control.active.y + deltaY/scaleY*yDirection;\n    //\n    //   Control.active.translate( x, y);\n    //   event.preventDefault();\n    // }\n    /**\n    * Handles when a use mouses up over the window or ends their touch event.\n    */\n    static handleInputEnd(event) {\n        if (Control.active != null) {\n            // remove highlighting from the active control and set to null\n            Control.active.handle.root.classList.remove('highlight');\n            Control.active = null;\n            // fire a mouseover event to highlight either: an interactive control,\n            // the recently active control, or a different element entirely.\n            // Currently, whichever element is highest in the DOM order will be the\n            // target. In the future the most recently active Control could be\n            // prioritized for user experience.\n            if (event.type != \"touchend\") {\n                event.target.dispatchEvent(new MouseEvent('mouseover', {\n                    view: window,\n                    bubbles: true,\n                    cancelable: true\n                }));\n            }\n        }\n    }\n    /**\n    * When a user mouses over a control, add the class \"highlight\" to the control\n    * handle.\n    */\n    static handleMouseOver(event) {\n        if (Control.active == null && !BaseElement.disable && event.target.tagName == 'circle') {\n            event.target.classList.add('highlight');\n        }\n    }\n    /**\n    * When a user mouses out of a control handle and when there is no active\n    * control, remove the \"highlight\" class from the event target.\n    */\n    handleMouseOut(event) {\n        if (Control.active == null) {\n            event.target.classList.remove('highlight');\n        }\n    }\n    /**\n    * Handle when a user mouses down over a Control's handle. Stores the error in\n    * the user's click as well as stores which Control the user is clicking.\n    */\n    handleMouseDown(event) {\n        if (!BaseElement.disable) {\n            event.preventDefault();\n            event.stopPropagation();\n            Control.active = this;\n            Control.slopX = Control.active.x - event.clientX;\n            Control.slopY = Control.active.y - event.clientY;\n            Control.prevX = event.clientX;\n            Control.prevY = event.clientY;\n        }\n    }\n    /**\n    * Handle when a user touches over a Control's handle. Stores the error in\n    * the user's input as well as stores which Control the user is clicking.\n    */\n    handleTouchStart(event) {\n        if (!BaseElement.disable) {\n            Control.active = this;\n            Control.slopX = Control.active.x - event.touches[0].clientX;\n            Control.slopY = Control.active.y - event.touches[0].clientY;\n            event.preventDefault();\n        }\n    }\n    /**\n    * Moves the control to a new location\n    */\n    translate(x, y) {\n        // call the internal transform function\n        let point = this.constrain({ x: this.x, y: this.y }, { x: x, y: y });\n        // update the instance data\n        this._dx = point.x - this._x;\n        this._dy = point.y - this._y;\n        this._x = point.x;\n        this._y = point.y;\n        // transform the position of the contorl\n        this.root.setAttribute('transform', `translate( ${this.x}, ${this.y})`);\n        // call the onchange function\n        this.onchange();\n    }\n    /**\n    * Updates the x position of the control.\n    */\n    set x(x) {\n        this._dx = x - this.x;\n        this._x = x;\n        this.root.setAttribute('transform', 'translate( ' + this.x + ', ' + this.y + ')');\n    }\n    /**\n    * Updates the y position of the control.\n    */\n    set y(y) {\n        this._dy = y - this.y;\n        this._y = y;\n        this.root.setAttribute('transform', 'translate( ' + this.x + ', ' + this.y + ')');\n    }\n    /**\n    * Gets the x position of the control.\n    */\n    get x() {\n        return this._x;\n    }\n    /**\n    * Gets the y position of the control.\n    */\n    get y() {\n        return this._y;\n    }\n    /**\n    * Gets the change in x position of this control.\n    */\n    get dx() {\n        return this._dx;\n    }\n    /**\n    * Gets the change in y position of this control.\n    */\n    get dy() {\n        return this._dy;\n    }\n    /**\n    * Constrains the movement of this control point to the path of the provided\n    * element.\n    */\n    constrainTo(element) {\n        this.addDependency(element);\n        if (element instanceof Path) {\n            throw Error('not implemented');\n        }\n        else if (element instanceof Circle) {\n            this.constrain = function (_oldPosition, newPosition) {\n                // Calculate the angle between the current coordinate and the origin\n                let angle = Math.atan2(newPosition.y - element.cy, newPosition.x - element.cx);\n                // Set the controls position to the vector in the direction of the angle\n                // above and with the magnitude of the radius of the circle.\n                let x = element.r * Math.cos(angle) + element.cx;\n                let y = element.r * Math.sin(angle) + element.cy;\n                // Return the new position\n                return { x: x, y: y };\n            };\n        }\n        else if (element instanceof Rectangle) {\n            this.constrain = function (_oldPosition, newPosition) {\n                let x = newPosition.x;\n                let y = newPosition.y;\n                // min and max points\n                let minX = element.x;\n                let minY = element.y;\n                let maxX = element.x + element.width;\n                let maxY = element.y + element.height;\n                let cx = element.x + element.width / 2;\n                let cy = element.y + element.height / 2;\n                if (y >= maxY && x >= maxX) {\n                    y = maxY;\n                    x = maxX;\n                }\n                else if (y <= minY && x <= minX) {\n                    y = minY;\n                    x = minY;\n                }\n                else if (y <= minY && x >= maxX) {\n                    y = minY;\n                    x = maxX;\n                }\n                else if (y >= maxY && x <= minX) {\n                    y = maxY;\n                    x = minX;\n                }\n                else if (x > minX && x < maxX) {\n                    if (y > cy) {\n                        y = maxY;\n                    }\n                    else {\n                        y = minY;\n                    }\n                }\n                else {\n                    if (x > cx) {\n                        x = maxX;\n                    }\n                    else {\n                        x = minX;\n                    }\n                }\n                //  else if ( y - cy < x - cx ) {\n                //   y = minY;\n                // } else if ( x - cx < y - cy ) {\n                //   x = minX;\n                // }\n                //\n                // if( x - cx >= y - cy) {\n                //   x = maxX;\n                // }\n                // if( y - cy < x - cx) {\n                //   y = minY;\n                // }\n                // if( x - cx < y - cy) {\n                //   x = minX;\n                // }\n                // constrain\n                // if( x < minX || (x > minX && x <= cx)) {x = minX;}\n                // if( y < minY || (y > minY && y <= cy)) {y = minY;}\n                // if( x > maxX || (x < maxX && x > cx)) {x = maxX;}\n                // if( y > maxY || (y < maxY && y > cy)) {y = maxY;}\n                return { x: x, y: y };\n            };\n        }\n    }\n    /**\n    * Constrains the movement of this control point to the path of the provided\n    * element.\n    */\n    constrainWithin(element) {\n        this.addDependency(element);\n        if (element instanceof Path) {\n            throw Error('not implemented');\n        }\n        else if (element instanceof Circle) {\n            this.constrain = function (_oldPosition, newPosition) {\n                // Contain the position within the circle\n                if (Math.hypot(newPosition.y - element.cy, newPosition.x - element.cx) > element.r) {\n                    // Calculate the angle between the current coordinate and the origin\n                    let angle = Math.atan2(newPosition.y - element.cy, newPosition.x - element.cx);\n                    let x = element.r * Math.cos(angle) + element.cx;\n                    let y = element.r * Math.sin(angle) + element.cy;\n                    return { x: x, y: y };\n                }\n                else {\n                    return newPosition;\n                }\n            };\n        }\n        else if (element instanceof Rectangle) {\n            this.constrain = function (_oldPosition, newPosition) {\n                let x = newPosition.x;\n                let y = newPosition.y;\n                // min and max points\n                let x1 = element.x;\n                let y1 = element.y;\n                let x2 = element.x + element.width;\n                let y2 = element.y + element.height;\n                // constrain\n                if (x < x1) {\n                    x = x1;\n                }\n                if (y < y1) {\n                    y = y1;\n                }\n                if (x > x2) {\n                    x = x2;\n                }\n                if (y > y2) {\n                    y = y2;\n                }\n                return { x: x, y: y };\n            };\n        }\n    }\n    /**\n    * Constrains the control to follow the path of the circle specified by the\n    * arguments. TODO: add a method to constrain the control to a path\n    */\n    constrainToCircle(cx, cy, r) {\n        // set the constrain function\n        this.constrain = function (_oldPosition, newPosition) {\n            // Calculate the angle between the current coordinate and the origin\n            let angle = Math.atan2(newPosition.y - cy, newPosition.x - cx);\n            // Set the controls position to the vector in the direction of the angle\n            // above and with the magnitude of the radius of the circle.\n            let x = r * Math.cos(angle) + cx;\n            let y = r * Math.sin(angle) + cy;\n            // Return the new position\n            return { x: x, y: y };\n        };\n    }\n    /**\n    * Constrains the control to the box defined by the points (x1, y1) and\n    * (x2, y2). The first point defines the top-left corner of the box, the\n    * second the bottom-right corner of the box.\n    */\n    constrainWithinBox(x1, y1, x2, y2) {\n        this.constrain = function (_oldPosition, newPosition) {\n            let x = newPosition.x;\n            let y = newPosition.y;\n            if (x < x1) {\n                x = x1;\n            }\n            if (y < y1) {\n                y = y1;\n            }\n            if (x > x2) {\n                x = x2;\n            }\n            if (y > y2) {\n                y = y2;\n            }\n            return { x: x, y: y };\n        };\n    }\n    constrainWithinRange(minX, maxX) {\n        this.constrain = function (_oldPosition, newPosition) {\n            let x = newPosition.x;\n            let y = newPosition.y;\n            if (x < minX) {\n                x = minX;\n            }\n            if (x > maxX) {\n                x = maxX;\n            }\n            return { x: x, y: y };\n        };\n    }\n    /**\n    * Constrain this control to only move left and right along its current x\n    * position.\n    */\n    constrainToX(minX = -Infinity, maxX = Infinity) {\n        this.constrain = function (oldPosition, newPosition) {\n            return { x: newPosition.x, y: oldPosition.y };\n        };\n    }\n    /**\n    * Constrain this control to only move up and down along its current y\n    * position.\n    */\n    constrainToY() {\n        this.constrain = function (oldPosition, newPosition) {\n            return { x: oldPosition.x, y: newPosition.y };\n        };\n    }\n}\n// Describes the size of the control handle and point\nControl.pointRadius = 4;\nControl.handleRadius = 13;\n// Keeps track of the active control and the error in the user's click\nControl.active = null;\nControl.slopX = 0;\nControl.slopY = 0;\nControl.prevX = 0;\nControl.prevY = 0;\n// Keep track of whether global event listeners have been initialized\nControl.initalized = false;\n//# sourceMappingURL=control.js.map","import { __awaiter } from \"tslib\";\nimport { saveAs } from './save-as.js';\n/**\n* Returns the filename portion of a file path.\n*/\nexport function parseName(path, trimExtension = true) {\n    let start = path.lastIndexOf(\"/\") + 1;\n    let end = trimExtension ? path.lastIndexOf(\".\") : path.length;\n    return path.substr(start, end - start);\n}\n/**\n* Returns the current script name.\n*/\nexport function getScriptName(trimExtension = true) {\n    // Variables\n    let error = new Error();\n    let source;\n    let lastStackFrameRegex = new RegExp(/.+\\/(.*?):\\d+(:\\d+)*$/);\n    let currentStackFrameRegex = new RegExp(/getScriptName \\(.+\\/(.*):\\d+:\\d+\\)/);\n    // Get the script name\n    let name;\n    if ((source = lastStackFrameRegex.exec(error.stack.trim())) && source[1] != \"\") {\n        name = source[1];\n    }\n    else if ((source = currentStackFrameRegex.exec(error.stack.trim()))) {\n        name = source[1];\n    }\n    else if (name = parseName(error.stack.trim(), trimExtension)) {\n        return name;\n    }\n    else {\n        return error.message;\n    }\n    // Return name\n    if (trimExtension) {\n        let position = name.lastIndexOf(\".\");\n        return name.substr(0, position);\n    }\n    else {\n        return name;\n    }\n}\n/**\n* Downloads the current drawing as an svg file.\n*/\nexport function download(id, filename) {\n    let svg = document.getElementById(id).firstChild;\n    let styleSheet = null;\n    for (let i = 0; i < document.styleSheets.length; i++) {\n        // TODO: there is a better way to do this\n        if (document.styleSheets[i].href != null && document.styleSheets[i].href.toLowerCase().includes(\"library.css\")) {\n            styleSheet = document.styleSheets[i];\n            break;\n        }\n    }\n    let style = document.createElementNS('http://www.w3.org/2000/svg', 'style');\n    style.type = \"text/css\";\n    let css = \"\";\n    for (let i = 0; i < styleSheet.rules.length; i++) {\n        let rule = styleSheet.rules[i];\n        css += rule.cssText + \"\\n\";\n    }\n    style.innerHTML = css;\n    svg.appendChild(style);\n    // best piece of code i have written in 2019\n    saveSVG(filename, svg.outerHTML);\n    style.remove();\n}\nexport function saveSVG(filename, data) {\n    let blob = new Blob([data], { type: 'image/svg+xml' });\n    saveAs(blob, filename, {});\n}\n/**\n* Returns a promise containing the response object.\n*/\nexport function getURL(url) {\n    // Return a new promise.\n    return new Promise(function (resolve, reject) {\n        // Do the usual XHR stuff\n        var req = new XMLHttpRequest();\n        req.open('GET', url);\n        req.onload = function () {\n            // This is called even on 404 etc so check the status\n            if (req.status == 200) {\n                // Resolve the promise with the response text\n                resolve(req.response);\n            }\n            else {\n                // Otherwise reject with the status text\n                // which will hopefully be a meaningful error\n                reject(Error(req.statusText));\n            }\n        };\n        // Handle network errors\n        req.onerror = function () {\n            reject(Error(\"Network Error\"));\n        };\n        // Make the request\n        req.send();\n    });\n}\n/**\n* Gets the URL parameters of the current session.\n*/\nexport function getUrlParams(str) {\n    let hashes = str.slice(str.indexOf('?') + 1).split('&');\n    let params = new Map();\n    for (let h of hashes) {\n        let value = h.split('=');\n        params.set(value[0], value[1]);\n    }\n    return params;\n}\n// TODO: this is unfinished\nexport function setUrlParams(param, value) {\n    let url = new URL(window.location.href);\n    let params = new URLSearchParams(url.search.slice(1));\n    params.set(param, value);\n    alert(url.href);\n    // window.location.href = url.href;\n    window.open(url.href);\n}\n/**\n* Loads the interactive script at the provided url into the provided HTMLElement.\n*/\nexport function loadScript(url, element) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const response = yield getURL(url);\n        let div = document.createElement('div');\n        div.id = parseName(url);\n        let script = document.createElement('script');\n        script.type = 'module';\n        script.src = url;\n        element.appendChild(div);\n        element.appendChild(script);\n        return response;\n    });\n}\n//# sourceMappingURL=file.js.map","import Shape from './shape.js';\n/**\n* A polygon is a closed shape defined by a series of points.\n*/\nexport default class Polygon extends Shape {\n    constructor(points) {\n        let polygon = document.createElementNS('http://www.w3.org/2000/svg', 'polygon');\n        polygon.setAttributeNS(null, 'points', points);\n        super(polygon);\n    }\n    get points() {\n        return this.root.getAttribute('points');\n    }\n}\n//# sourceMappingURL=polygon.js.map","import Element from './element.js';\nimport TSpan from './t-span.js';\n/**\n* Text is a basic element containing string contents\n*/\nexport default class Text extends Element {\n    /**\n    * Constructs text at the position (x,y) with the provided string\n    */\n    constructor(x, y, str = '') {\n        let text = document.createElementNS('http://www.w3.org/2000/svg', 'text');\n        text.setAttributeNS(null, 'x', x.toString());\n        text.setAttributeNS(null, 'y', y.toString());\n        if (str != undefined) {\n            text.innerHTML = str;\n        }\n        super(text);\n    }\n    // comment inherited from base class\n    setAttribute(name, value) {\n        this.root.setAttribute(name, value);\n        return this;\n    }\n    // comment inherited from base class\n    getAttribute(name) {\n        return this.root.getAttribute(name);\n    }\n    /**\n    * Sets the contents of this element\n    */\n    set contents(str) {\n        this.root.innerHTML = str;\n    }\n    /**\n    * Sets the contents of this element\n    */\n    get contents() {\n        return this.root.innerHTML;\n    }\n    /**\n    * Gets the x position of this element\n    */\n    get x() {\n        return Number(this.root.getAttribute('x'));\n    }\n    /**\n    * Gets the y position of this element\n    */\n    get y() {\n        return Number(this.root.getAttribute('y'));\n    }\n    /**\n    * Sets the x position of this element\n    */\n    set x(value) {\n        this.root.setAttribute('x', value.toString());\n    }\n    /**\n    * Sets the y position of this element\n    */\n    set y(value) {\n        this.root.setAttribute('y', value.toString());\n    }\n    /**\n    * Returns the length of the text\n    */\n    get length() {\n        const context = document.createElement(\"canvas\").getContext(\"2d\");\n        return context.measureText(this.root.innerHTML).width;\n    }\n    text(x, y, str) {\n        let text = new Text(x, y, str);\n        this.root.appendChild(text.root);\n        return text;\n    }\n    tspan(text) {\n        let tspan = new TSpan(text);\n        this.root.appendChild(tspan.root);\n        return tspan;\n    }\n}\n//# sourceMappingURL=text.js.map","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from) {\r\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\r\n        to[j] = from[i];\r\n    return to;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import {Injectable} from '@angular/core'\r\n\r\nimport { ImageClass, ImageElement } from './image-class';\r\nimport {Subject} from 'rxjs';\r\nimport { DrawsService } from '../draws/draws.service';\r\nimport { sidebarService } from '../sidebar/sidebar.service';\r\n\r\nimport { Interactive } from 'src/assets/source';\r\n@Injectable({\r\nprovidedIn:'root',\r\n})\r\n\r\nexport class ImageAdderService{\r\n    \r\npublic img= new ImageClass();\r\npublic images=[];\r\npublic complexImg= new ImageClass();\r\npublic complexImages=[];\r\n\r\n\r\n\r\npublic blank= new ImageClass();\r\n// message:String=\"no hay mano compadre\";\r\n// imageChange:Subject<String>=new Subject();\r\n\r\nconstructor(){\r\n}\r\n\r\naddImage(image:ImageClass):void{\r\n    this.images.push(image);\r\n    this.img=this.images[this.images.length-1];\r\n}\r\naddSingleImage(image:ImageClass):void{\r\n    this.images.push(image);\r\n}\r\naddComplex(image:ImageClass){\r\n    this.complexImages.push(image);\r\n    this.complexImg=this.complexImages[this.complexImages.length-1]    \r\n}\r\n\r\ngetImage():ImageClass{\r\n    return this.img;\r\n}\r\n\r\ngetImages():ImageClass[]{\r\n    return this.images;\r\n}\r\n\r\nremoveImage(i:number):void{\r\n    this.images.splice(i,1);\r\n}\r\nremoveComplex(i:number):void{\r\n    this.complexImages.splice(i,1);\r\n}\r\n\r\nclearImages():void{\r\nthis.images=[];\r\n}\r\n\r\nsetImage(image:ImageClass):void{\r\n    this.img=image;\r\n}\r\nsetComplex(image:ImageClass):void{\r\n    this.complexImg=image;\r\n}\r\n\r\nsetBlank(){\r\n    this.img=this.blank;\r\n}\r\n\r\n}","import Element from './element.js';\nimport Circle from './circle.js';\nimport Defs from './definitions.js';\nimport Description from './definitions.js';\nimport Ellipse from './ellipse.js';\nimport Group from './group.js';\nimport Line from './line.js';\nimport MetaData from './meta-data.js';\nimport Path from './path.js';\nimport Polygon from './polygon.js';\nimport Rectangle from './rectangle.js';\nimport Symbol from './symbol.js';\nimport SVG from './svg.js';\nimport Text from './text.js';\nimport Title from './title.js';\nimport Use from './use.js';\n/**\n* A marker is a shape that can be repeatably drawn on a shape.\n*/\nexport default class Marker extends Element {\n    /**\n    * Constructs a rectangle element at the position (x,y)\n    */\n    constructor(refX, refY, width, height) {\n        let element = document.createElementNS('http://www.w3.org/2000/svg', 'marker');\n        element.setAttributeNS(null, 'refX', refX.toString());\n        element.setAttributeNS(null, 'refY', refY.toString());\n        element.setAttributeNS(null, 'markerWidth', width.toString());\n        element.setAttributeNS(null, 'markerHeight', height.toString());\n        super(element);\n    }\n    // comment inherited from base class\n    setAttribute(name, value) {\n        this.root.setAttribute(name, value);\n        return this;\n    }\n    // comment inherited from base class\n    getAttribute(name) {\n        return this.root.getAttribute(name);\n    }\n    get viewBox() {\n        return this.getAttribute('viewBox');\n    }\n    set viewBox(value) {\n        this.setAttribute('viewBox', value);\n    }\n    get refX() {\n        return this.root.refX.baseVal.value;\n    }\n    set refX(value) {\n        this.root.refX.baseVal.value = value;\n    }\n    get refY() {\n        return this.root.refY.baseVal.value;\n    }\n    set refY(value) {\n        this.root.refY.baseVal.value = value;\n    }\n    get width() {\n        return this.root.markerWidth.baseVal.value;\n    }\n    set width(value) {\n        this.root.markerWidth.baseVal.value = value;\n    }\n    get height() {\n        return this.root.markerHeight.baseVal.value;\n    }\n    set height(value) {\n        this.root.markerHeight.baseVal.value = value;\n    }\n    // Descriptive methods\n    description() {\n        return this.appendChild(new Description());\n    }\n    metadata() {\n        return this.appendChild(new MetaData());\n    }\n    title() {\n        return this.appendChild(new Title());\n    }\n    // Structural methods\n    defs() {\n        return this.appendChild(new Defs());\n    }\n    group() {\n        return this.appendChild(new Group());\n    }\n    svg() {\n        return this.appendChild(new SVG());\n    }\n    symbol() {\n        return this.appendChild(new Symbol());\n    }\n    use(x, y, width, height) {\n        return this.appendChild(new Use(x, y, width, height));\n    }\n    // Shape methods\n    circle(cx, cy, r) {\n        return this.appendChild(new Circle(cx, cy, r));\n    }\n    ellipse(cx, cy, rx, ry) {\n        return this.appendChild(new Ellipse(cx, cy, rx, ry));\n    }\n    line(x1, y1, x2, y2) {\n        return this.appendChild(new Line(x1, y1, x2, y2));\n    }\n    path(d) {\n        return this.appendChild(new Path(d));\n    }\n    polygon(points) {\n        return this.appendChild(new Polygon(points));\n    }\n    rectangle(x, y, width, height) {\n        return this.appendChild(new Rectangle(x, y, width, height));\n    }\n    // other methods\n    text(x, y, str) {\n        return this.appendChild(new Text(x, y, str));\n    }\n}\n//# sourceMappingURL=marker.js.map","import Shape from './shape.js';\n/**\n* A circle is a basic shape element with a start and end position.\n*\n* Geometric Properties:\n*   - x1\n*   - y1\n*   - x2\n*   - y2\n*/\nexport default class Line extends Shape {\n    /**\n    * Constructs a line between the points (x1, y1) and (x2, y2)\n    */\n    constructor(x1, y1, x2, y2) {\n        let line = document.createElementNS('http://www.w3.org/2000/svg', 'line');\n        line.setAttributeNS(null, 'x1', x1.toString());\n        line.setAttributeNS(null, 'y1', y1.toString());\n        line.setAttributeNS(null, 'x2', x2.toString());\n        line.setAttributeNS(null, 'y2', y2.toString());\n        super(line);\n    }\n    /**\n    * Returns the x position of the start position\n    */\n    get x1() {\n        return this.root.x1.baseVal.value;\n    }\n    /**\n    * Sets the x position of the start position\n    */\n    set x1(x1) {\n        this.root.x1.baseVal.value = x1;\n    }\n    /**\n    * Returns the y position of the start position\n    */\n    get y1() {\n        return this.root.y1.baseVal.value;\n    }\n    /**\n    * Sets the y position of the start position\n    */\n    set y1(y1) {\n        this.root.y1.baseVal.value = y1;\n    }\n    /**\n    * Returns the x position of the end position\n    */\n    get x2() {\n        return this.root.x2.baseVal.value;\n    }\n    /**\n    * Sets the x position of the end position\n    */\n    set x2(x2) {\n        this.root.x2.baseVal.value = x2;\n    }\n    /**\n    * Returns the y position of the end position\n    */\n    get y2() {\n        return this.root.y2.baseVal.value;\n    }\n    /**\n    * Sets the y position of the end position\n    */\n    set y2(y2) {\n        this.root.y2.baseVal.value = y2;\n    }\n    /*\n    * Translates the position of the line to a new position from its current\n    * position. TODO: this is inconsistent with other translate methods within\n    * the elements. Probably best to conform to how SVG implements translate with\n    * the transform attribute, and then implement a move method or something.\n    */\n    translate(x, y) {\n        this.root.x1.baseVal.value += x;\n        this.root.y1.baseVal.value += y;\n        this.root.x2.baseVal.value += x;\n        this.root.y2.baseVal.value += y;\n    }\n    /**\n    * Returns the fill style of this line\n    */\n    get fill() {\n        return this.root.style.fill;\n    }\n    /**\n    * Sets the fill style of this line\n    */\n    set fill(s) {\n        this.root.style.fill = s;\n    }\n    /**\n    * Returns the stroke style of this line\n    */\n    get stroke() {\n        return this.root.style.stroke;\n    }\n    /**\n    * Sets the stroke style of this line\n    */\n    set stroke(s) {\n        this.root.style.stroke = s;\n    }\n}\n//# sourceMappingURL=line.js.map","import Element from './element.js';\nexport default class Title extends Element {\n    constructor() {\n        let title = document.createElementNS('http://www.w3.org/2000/svg', 'title');\n        super(title);\n    }\n}\n//# sourceMappingURL=title.js.map","import Element from './element.js';\nimport A from './a.js';\nimport Circle from './circle.js';\nimport ClipPath from './clip-path.js';\nimport Defs from './definitions.js';\nimport Ellipse from './ellipse.js';\nimport Line from './line.js';\nimport Path from './path.js';\nimport Polygon from './polygon.js';\nimport Rectangle from './rectangle.js';\nimport Symbol from './symbol.js';\nimport SVG from './svg.js';\nimport Text from './text.js';\nimport Title from './title.js';\nimport Use from './use.js';\nimport Description from './description.js';\nimport MetaData from './meta-data.js';\n/**\n* A group is a structural element that allows for elements to be grouped\n* together and have styles and transformations applied to the elements in the\n* group.\n*/\nexport default class Group extends Element {\n    /**\n    * Constructs a rectangle element at the position (x,y)\n    */\n    constructor() {\n        let group = document.createElementNS('http://www.w3.org/2000/svg', 'g');\n        super(group);\n    }\n    // comment inherited from base class\n    setAttribute(name, value) {\n        this.root.setAttribute(name, value);\n        return this;\n    }\n    // comment inherited from base class\n    getAttribute(name) {\n        return this.root.getAttribute(name);\n    }\n    // Descriptive methods\n    description() {\n        return this.appendChild(new Description());\n    }\n    metadata() {\n        return this.appendChild(new MetaData());\n    }\n    title() {\n        return this.appendChild(new Title());\n    }\n    // Structural methods\n    defs() {\n        return this.appendChild(new Defs());\n    }\n    group() {\n        return this.appendChild(new Group());\n    }\n    svg(x, y, width, height) {\n        return this.appendChild(new SVG(x, y, width, height));\n    }\n    symbol() {\n        return this.appendChild(new Symbol());\n    }\n    use(x, y, width, height) {\n        return this.appendChild(new Use(x, y, width, height));\n    }\n    // Shape methods\n    circle(cx, cy, r) {\n        return this.appendChild(new Circle(cx, cy, r));\n    }\n    ellipse(cx, cy, rx, ry) {\n        return this.appendChild(new Ellipse(cx, cy, rx, ry));\n    }\n    line(x1, y1, x2, y2) {\n        return this.appendChild(new Line(x1, y1, x2, y2));\n    }\n    path(d) {\n        return this.appendChild(new Path(d));\n    }\n    polygon(points) {\n        return this.appendChild(new Polygon(points));\n    }\n    rectangle(x, y, width, height) {\n        return this.appendChild(new Rectangle(x, y, width, height));\n    }\n    // other methods\n    /**\n    * Constructs and appends a text element within this element.\n    */\n    text(x, y, str) {\n        return this.appendChild(new Text(x, y, str));\n    }\n    /**\n    * Constructs and appends an 'a' (link) within this element.\n    */\n    a(href) {\n        return this.appendChild(new A(href));\n    }\n    /**\n    * Constructs and appends a clipPath within this element\n    */\n    clipPath() {\n        return this.appendChild(new ClipPath());\n    }\n}\n//# sourceMappingURL=group.js.map","/**\n* Returns the next prime number after the given integer.\n*/\nexport function nextPrime(n) {\n    if (!Number.isInteger(n)) {\n        throw Error('Please pass an integer as a parameter');\n    }\n    // Search for the next prime until it is found\n    while (!isPrime(++n)) {\n    }\n    return n;\n}\n/**\n* Returns true if the number is prime, false otherwise.\n*/\nexport function isPrime(n) {\n    if (!Number.isInteger(n) || n <= 1) {\n        return false;\n    }\n    // Check if any of the numbers, up to the square root of the number, evenly\n    // divide the number\n    for (let i = 2; i <= Math.sqrt(n); i++) {\n        if (n % i == 0) {\n            return false;\n        }\n    }\n    return true;\n}\n/**\n* Returns the point where two lines intersect. The first line is defined by the\n* points p1 and p2. The second line is defined by the points p3 and p4.\n*/\nexport function PointWhereTwoLinesIntersect(p1, p2, p3, p4) {\n    let slope1 = (p2.y - p1.y) / (p2.x - p1.x);\n    let slope2 = (p4.y - p3.y) / (p4.x - p3.x);\n    let b1 = (p2.y - p2.x * slope1);\n    let b2 = (p4.y - p4.x * slope2);\n    let x = (b2 - b1) / (slope1 - slope2);\n    let y;\n    if (!isFinite(slope1)) {\n        x = p1.x;\n        y = p3.y + slope2 * (x - p3.x);\n    }\n    else if (!isFinite(slope2)) {\n        x = p3.x;\n        y = p1.y + slope1 * (x - p1.x);\n    }\n    else {\n        y = p1.y + slope1 * (x - p1.x);\n    }\n    return { x: x, y: y };\n}\n/**\n* This function generates a particular trapezoidal wave function. The wave starts\n* at 0 and linearly increases to the amplitude of the wave in 1/6 the period. It\n* stays at the amplitude for 1/3 the period, then decreases linearly to 0 in 1/6\n* the period where it stays at 0 for the remaind period of 1/3.\n*\n* t - shifts the wave forwards or backwards (TODO: shifted too far right causes\n* a bug where the waveform doesn't appear when it should)\n* a - is the amplitude of the wave\n*  - is the period of the wave\n*/\nexport function trapezoidalWave(t, a = 1,  = 1) {\n    return (x) => {\n        x = Math.abs(x);\n        // normalize x to always be in the range from 0 to \n        x = (x - t) % ;\n        if (x < 0) {\n            return 0;\n        }\n        else if (x <  * 1 / 6) {\n            return a * 6 * x / ;\n        }\n        else if (x <=  * 1 / 2) {\n            return a;\n        }\n        else if (x <  * 2 / 3) {\n            return a * 4 - a * 6 * x / ;\n        }\n        else {\n            return 0;\n        }\n    };\n}\n//# sourceMappingURL=math.js.map","import SVG from '../svg/svg.js';\nimport Text from '../svg/text.js';\n/**\n* Returns the closest power of ten. TODO: replace this with an optimized\n* function that remembers the last closest power of ten and first checks the\n* adjacent powers of ten and then continues.\n*/\nfunction expTrunc(x) {\n    // constants so don't have to count zeros\n    const N06 = 1000000;\n    const N05 = 100000;\n    const N04 = 10000;\n    const N03 = 1000;\n    const N02 = 100;\n    const N01 = 10;\n    const N00 = 1;\n    const N_1 = 0.1;\n    const N_2 = 0.01;\n    const N_3 = 0.001;\n    const N_4 = 0.0001;\n    const N_5 = 0.00001;\n    const N_6 = 0.000001;\n    if (x >= N06) {\n        return N06;\n    }\n    else if (x >= N05) {\n        return N05;\n    }\n    else if (x >= N04) {\n        return N04;\n    }\n    else if (x >= N03) {\n        return N03;\n    }\n    else if (x >= N02) {\n        return N02;\n    }\n    else if (x >= N01) {\n        return N01;\n    }\n    else if (x >= N00) {\n        return N00;\n    }\n    else if (x >= N_1) {\n        return N_1;\n    }\n    else if (x >= N_2) {\n        return N_2;\n    }\n    else if (x >= N_3) {\n        return N_3;\n    }\n    else if (x >= N_4) {\n        return N_4;\n    }\n    else if (x >= N_5) {\n        return N_5;\n    }\n    else if (x >= N_6) {\n        return N_6;\n    }\n}\n/**\n* A plot of the graph of a function.\n*/\nexport default class Plot extends SVG {\n    /**\n    * Constructs a new graph capable of displaying a function in the form of\n    * x -> y. The user is able to drag, zoom-in, and zoom-out on the graph to\n    * explore the shape and form of the function.\n    */\n    constructor(fn, options) {\n        // default configuration options\n        let defaultOptions = {\n            x: 0,\n            y: 0,\n            width: 700,\n            height: 400,\n            margin: 50,\n            scaleX: 1,\n            scaleY: 1,\n            grid: true,\n            labels: true,\n            border: true,\n            zoomable: false,\n            displayPoint: false,\n            controls: false // experimental\n        };\n        // combine the default configuration with the user's configuration\n        let config = Object.assign(Object.assign({}, defaultOptions), options);\n        super(config.x, config.y, config.width, config.height);\n        // event variables\n        this.prevX = 0;\n        this.prevY = 0;\n        this.active = false;\n        this._function = fn;\n        // calculate the visible dimensions and top-left position of internal plot area coordinates\n        this._width = config.width - 2 * config.margin;\n        this._height = config.height - 2 * config.margin;\n        this._x = -this._width / 2;\n        this._y = -this._height / 2;\n        // creates a transparent rectangle to capture all user events\n        this.rect = this.rectangle(config.margin, config.margin, this._width, this._height);\n        this.rect.style.fill = 'transparent';\n        if (config.border) {\n            this.rect.style.border = '1px solid #404040';\n        }\n        else {\n            this.rect.style.stroke = 'none';\n        }\n        // create a clipping path rectangle to trim overflowing visual elements\n        let clipPath = this.clipPath();\n        clipPath.rectangle(0, 0, this._width, this._height);\n        this.clipGroup = this.group();\n        this.clipGroup.setAttribute('clip-path', `url(#${clipPath.id})`);\n        this.clipGroup.setAttribute('transform', `translate(${config.margin}, ${config.margin})`);\n        // default values\n        this.viewPort = this.clipGroup.svg(0, 0, this._width, this._height);\n        this.viewPort.setAttribute('preserveAspectRatio', 'none');\n        // create a static group for non-size-scaling objects\n        this.staticGroup = this.clipGroup.group();\n        this.xAxis = this.staticGroup.line(-10000, 0, 10000, 0);\n        this.yAxis = this.staticGroup.line(0, -10000, 0, 10000);\n        this.staticGroup.circle(0, 0, 3).fill = '#404040';\n        // initialize the scaling\n        this.scaleX = config.scaleX;\n        this.scaleY = config.scaleY;\n        // calculate the visible dimensions and top-left position of internal coordinates\n        this.visibleWidth = this._width / this.scaleX;\n        this.visibleHeight = this._height / this.scaleY;\n        this.internalX = -this.visibleWidth / 2;\n        this.internalY = -this.visibleHeight / 2;\n        this.fPath = this.staticGroup.path('');\n        // this.fPath.root.setAttribute('vector-effect','non-scaling-stroke');\n        this.fPath.setAttribute('transform', 'scale(1, -1)');\n        this.setViewBox();\n        if (config.originX != undefined && config.originY != undefined) {\n            this.setOrigin(config.originX, config.originY);\n        }\n        // draw a grid of rectangles\n        if (config.grid) {\n            this.grid = this.viewPort.group();\n            this.grid.classList.add('grid');\n            this.grid.style.opacity = '.4';\n            this.drawGrid();\n        }\n        // store a temp variable for registering events\n        let graph = this;\n        // Registers event listeners\n        if (config.displayPoint === undefined || config.displayPoint) {\n            // create a display circle for showing input and output\n            this.displayCircle = this.staticGroup.circle(0, 0, 4);\n            this.displayCircle.style.fill = 'cornflowerblue';\n            this.displayCircle.setAttribute('transform', 'scale(1, -1)');\n            this.xRect = this.rectangle(0, 0, 125, 40);\n            this.yRect = this.rectangle(120, 0, 125, 40);\n            this.xRect.root.style.fill = 'white';\n            this.yRect.root.style.fill = 'white';\n            this.xText = this.text(15, 20, 'x:0');\n            this.xText.root.style.dominantBaseline = 'middle';\n            this.xText.root.style.whiteSpace = 'pre';\n            this.yText = this.text(125 + 15, 20, 'y:0');\n            this.yText.root.style.dominantBaseline = 'middle';\n            this.yText.root.style.whiteSpace = 'pre';\n            this.root.addEventListener('mousemove', function (event) {\n                graph.handleMouseMove(event);\n            });\n        }\n        if (config.zoomable === undefined || config.zoomable) {\n            this.root.addEventListener('mousedown', function (event) {\n                graph.handleMouseDown(event);\n            });\n            this.root.addEventListener('mouseup', function (event) {\n                graph.handleMouseUp(event);\n            });\n            this.root.addEventListener('mouseleave', function (event) {\n                graph.handleMouseLeave(event);\n            });\n            this.root.addEventListener('mousewheel', function (event) {\n                graph.handleMouseWheelEvent(event);\n            }, { passive: false });\n        }\n        if (config.controls) {\n            let zoomIn = this.rectangle(this._width - 48, 16, 30, 30);\n            zoomIn.setAttribute('rx', '3');\n            zoomIn.style.fill = '#f8f8f8';\n            let zoomOut = this.rectangle(this._width - 48, 46, 30, 30);\n            zoomOut.setAttribute('rx', '3');\n            zoomOut.style.fill = '#f8f8f8';\n            let fullscreen = this.circle(this._width - 32, this._height - 32, 16);\n            fullscreen.style.fill = '#f8f8f8';\n        }\n        // draw the initial state of the graph\n        this.draw();\n        if (config.labels) {\n            // draw the labels\n            let group = this.group();\n            group.style.fontFamily = 'KaTeX_Main';\n            group.style.fontSize = '22px';\n            // draw the title\n            let title;\n            if (config.title instanceof Text) {\n                title = group.appendChild(config.title);\n                title.x = this.width / 2;\n                title.y = 25;\n            }\n            else {\n                title = group.text(this.width / 2, 25, config.title);\n            }\n            title.setAttribute('alignment-baseline', 'middle');\n            title.setAttribute('text-anchor', 'middle');\n            let xPoints = this.getXLabelPoints();\n            let yPoints = this.getYLabelPoints();\n            for (let p of xPoints) {\n                let point = this.internalToAbsolute(p);\n                let text = group.text(point.x + config.margin, config.margin + this._height + config.margin / 2, `${p.x.toFixed(1)}`);\n                text.setAttribute('alignment-baseline', 'middle');\n                text.setAttribute('text-anchor', 'middle');\n            }\n            for (let p of yPoints) {\n                let point = this.internalToAbsolute(p);\n                let text = group.text(point.x + config.margin / 2, point.y + config.margin, `${p.y.toFixed(1)}`);\n                text.setAttribute('alignment-baseline', 'middle');\n                text.setAttribute('text-anchor', 'middle');\n            }\n        }\n    }\n    /**\n    * Sets the internal function to the provided function\n    */\n    set function(f) {\n        this._function = f;\n    }\n    /**\n    * Returns the internal function\n    */\n    get function() {\n        return this._function;\n    }\n    get originX() {\n        return -this._x;\n    }\n    get originY() {\n        return -this._y;\n    }\n    /**\n    * Updates the display circle based on its current cx position, also updates\n    * the display text elements to represent the position of the display circle.\n    */\n    updateDisplayCircle() {\n        // Set the initial display position\n        if (this.displayCircle != undefined) {\n            let cy = this.call(this.displayCircle.cx, false);\n            if (isNaN(cy)) {\n                this.displayCircle.cy = 0;\n            }\n            else if (isFinite(cy)) {\n                this.displayCircle.cy = cy;\n                this.xText.contents = this.format(this.displayCircle.cx / this.scaleX);\n                this.yText.contents = this.format(this.displayCircle.cy / this.scaleY);\n            }\n            else {\n                this.displayCircle.cy = this._height * 3;\n                this.xText.contents = this.format(this.displayCircle.cx / this.scaleX);\n                this.yText.contents = cy.toString();\n            }\n        }\n    }\n    /**\n    * Returns the result of calling the internal function with the provided\n    * function scaling both the input and the output.\n    */\n    call(x, trim = false) {\n        // call and scale the function\n        let y = this.scaleY * this._function(x / this.scaleX);\n        // normalize big/small y values\n        if (trim) {\n            let margin = 8;\n            let yMax = this._y + this._height + margin;\n            let yMin = this._y - margin;\n            if (-y > yMax) {\n                y = -yMax;\n            }\n            if (-y < yMin) {\n                y = -yMin;\n            }\n        }\n        else {\n            let yMin = this._y - this._height;\n            let yMax = this._y + 2 * this._height;\n            if (-y > yMax) {\n                y = -yMax;\n            }\n            if (-y < yMin) {\n                y = -yMin;\n            }\n        }\n        return y;\n    }\n    /**\n    * Formats the input number to be displayed within the graph.\n    */\n    format(n) {\n        if (n > 10000 || n < -10000 || (n < .01 && n > -.01)) {\n            return n.toExponential(2);\n        }\n        else {\n            return n.toPrecision(4);\n        }\n    }\n    /**\n    * Draws the internal function over the interval [startX, endX]. The default\n    * interval is [ minX - width, maxX + width ] so that when a user drags the\n    * graph there is enough drawn so that a translate may be applied instead of\n    * having to call draw again.\n    */\n    draw(startX = this._x - this._width, endX = this._x + 2 * this._width, trim = false) {\n        this.setViewBox();\n        this.updateDisplayCircle();\n        // Start drawing the function\n        let start = false;\n        let x = startX;\n        let y = this.call(x, false);\n        let d = '';\n        let prev;\n        // If y is valid input start drawing\n        if (!isNaN(y)) {\n            d = `M ${x} ${y} `;\n            prev = y;\n            start = true;\n        }\n        // Loop through and draw coordiantes of the function path\n        for (x += 1; x < endX; x += 1) {\n            let y = this.call(x, trim);\n            if (isNaN(y) || !isFinite(y)) {\n                continue;\n            }\n            // check for vertical asymptotes or if we haven't started drawing\n            else if (Math.abs(prev - y) >= this._height || !start) {\n                d += `M ${x.toFixed(1)} ${y.toFixed(1)} `;\n                start = true;\n            }\n            else {\n                d += `L ${x.toFixed(1)} ${y.toFixed(1)} `;\n            }\n            prev = y;\n        }\n        this.fPath.d = d;\n        // Update the dependents if there are any\n        this.updateDependents();\n    }\n    /**\n    *\n    */\n    drawGrid() {\n        // clear all the children\n        this.grid.clear();\n        // TODO: use a combination of these metrics below to calculate the spacing\n        // between two grid lines. I am guessing the goal is to space grid lines\n        // somewhere between 10 - 50 pixels in the actual coordinate system\n        let pixelsX = 100 * this.visibleWidth / this._width;\n        let pixelsY = 100 * this.visibleHeight / this._height;\n        let spacingX = expTrunc(pixelsX);\n        let spacingY = expTrunc(pixelsY);\n        // TODO: use the static group for this?\n        // let minX = this.internalX - this.visibleWidth;\n        // let maxX = this.internalX + 2*this.visibleWidth;\n        // let minY = this.internalY - this.visibleHeight;\n        // let maxY = this.internalY + 2*this.visibleHeight;\n        let minX = this.internalX;\n        let maxX = this.internalX + this.visibleWidth;\n        let minY = this.internalY;\n        let maxY = this.internalY + this.visibleHeight;\n        let x = spacingX * Math.floor(minX / spacingX);\n        while (x < maxX) {\n            this.grid.line(x, minY, x, maxY);\n            x += spacingX;\n        }\n        let y = spacingY * Math.floor(maxY / spacingY);\n        while (y > minY) {\n            this.grid.line(minX, y, maxX, y);\n            y -= spacingY;\n        }\n    }\n    internalToAbsolute(point) {\n        let x = point.x * this.scaleX + this.originX;\n        let y = point.y * this.scaleY - this.originY;\n        return { x: x, y: -y };\n    }\n    /**\n    *\n    */\n    getXLabelPoints() {\n        let labels = [];\n        let pixelsX = 250 * this.visibleWidth / this._width;\n        let spacingX = expTrunc(pixelsX);\n        // TODO: use the static group for this?\n        let minX = this.internalX;\n        let maxX = this.internalX + this.visibleWidth;\n        let minY = this.internalY;\n        let x = spacingX * Math.ceil(minX / spacingX);\n        while (x <= maxX) {\n            labels.push({ x: x, y: minY });\n            x += spacingX;\n        }\n        return labels;\n    }\n    /**\n    *\n    */\n    getYLabelPoints() {\n        let labels = [];\n        let pixelsY = 250 * this.visibleHeight / this._height;\n        let spacingY = expTrunc(pixelsY);\n        // TODO: use the static group for this?\n        let minX = this.internalX;\n        let minY = this.internalY;\n        let maxY = this.internalY + this.visibleHeight;\n        let y = spacingY * Math.floor(maxY / spacingY);\n        while (y >= minY) {\n            labels.push({ x: minX, y: -y });\n            y -= spacingY;\n        }\n        return labels;\n    }\n    /**\n    * When a user mouses down over this graph a drag is active.\n    */\n    handleMouseDown(event) {\n        this.active = true;\n        this.prevX = event.clientX;\n        this.prevY = event.clientY;\n    }\n    /**\n    * Deactivates the current drag event.\n    */\n    handleMouseUp(_event) {\n        this.active = false;\n    }\n    /**\n    * When the user's mouse leaves the graph deactivates any concurrent drag.\n    */\n    handleMouseLeave(event) {\n        this.handleMouseUp(event);\n    }\n    /**\n    * Updates the position of the static group and sets the viewbox on the\n    * viewPort element.\n    */\n    setViewBox() {\n        this.staticGroup.setAttribute('transform', `translate(${-this._x}, ${-this._y})`);\n        this.viewPort.setAttribute('viewBox', `${this.internalX} ${this.internalY} ${this.visibleWidth} ${this.visibleHeight}`);\n    }\n    /**\n    * This moves the origin of the plot to the location (x,y) relative to the size\n    * of the plot. For example, if the plot is 600 wide and 300 tall, placing the\n    * origin at (100,100) move the origin to the point 100 units in the x\n    * direction and 100 units in the y direction from the top left corner of the\n    * plot.\n    */\n    setOrigin(x, y) {\n        this._x = -x;\n        this._y = -y;\n        this.internalX = this._x / this.scaleX;\n        this.internalY = this._y / this.scaleY;\n        this.draw();\n    }\n    /**\n    * Handle when a mouse moves over this graph. If a drag event is active then\n    * translates the position of the graph to the new location.\n    */\n    handleMouseMove(event) {\n        if (this.active) {\n            let deltaX = event.clientX - this.prevX;\n            let deltaY = event.clientY - this.prevY;\n            this._x -= deltaX;\n            this._y -= deltaY;\n            this.internalX -= deltaX / this.scaleX;\n            this.internalY -= deltaY / this.scaleY;\n            this.prevX = event.clientX;\n            this.prevY = event.clientY;\n            this.draw();\n        }\n        else {\n            let br = this.rect.root.getBoundingClientRect();\n            if (this.displayCircle != undefined) {\n                this.displayCircle.cx = event.clientX - br.left + this._x;\n                this.updateDisplayCircle();\n            }\n        }\n    }\n    /**\n    * Zooms in and out on this graph. TODO: There is some jarring wheel action\n    * where an active wheel event on the page will stop dead when the mouse\n    * goes over the graph. Also it seems as if the scroll has pre-existing\n    * \"momentum\" that it can also affect the graph.\n    */\n    handleMouseWheelEvent(event) {\n        event.preventDefault();\n        let zoomIntensity = .02;\n        let br = this.rect.root.getBoundingClientRect();\n        let x = event.clientX - br.left;\n        let y = event.clientY - br.top;\n        let wheel = event.deltaY < 0 ? 1 : -1;\n        let zoom = Math.exp(wheel * zoomIntensity);\n        // transform the internal coordinate system\n        let deltaX = x / (this.scaleX * zoom) - x / this.scaleX;\n        let deltaY = y / (this.scaleY * zoom) - y / this.scaleY;\n        this.internalX -= deltaX;\n        this.internalY -= deltaY;\n        this.scaleX *= zoom;\n        this.scaleY *= zoom;\n        this.visibleWidth = this._width / this.scaleX;\n        this.visibleHeight = this._height / this.scaleY;\n        // update the elements in the static (svg) coordinate system\n        this._x = this.internalX * this.scaleX;\n        this._y = this.internalY * this.scaleY;\n        // update the position of the display circle\n        if (this.displayCircle != undefined) {\n            this.displayCircle.cx = event.clientX - br.left + this._x;\n        }\n        // redraw visual elements\n        this.drawGrid();\n        this.draw();\n    }\n    /**\n    *\n    */\n    export() {\n        let result = new SVG(0, 0, this._width, this._height);\n        let margin = 8;\n        // trim axis\n        this.xAxis.x1 = this._x;\n        this.xAxis.x2 = this._x + this._width;\n        this.yAxis.y1 = this._y;\n        this.yAxis.y2 = this._y + this._height;\n        // draw trimmed version\n        this.draw(this._x - margin, this._x + this._width + margin, true);\n        return result;\n    }\n}\n//# sourceMappingURL=plot.js.map","import Element from './element.js';\nexport default class MetaData extends Element {\n    constructor() {\n        let metadata = document.createElementNS('http://www.w3.org/2000/svg', 'metadata');\n        super(metadata);\n    }\n}\n//# sourceMappingURL=meta-data.js.map","import { __awaiter } from \"tslib\";\n// util\nimport { getURL } from '../util/file.js';\nimport { parseSVG } from '../util/svg.js';\n// basic elements\nimport Input from './input/input.js';\nimport SVG from './svg/svg.js';\nimport Group from './svg/group.js';\n// visual elements\nimport Icon from './visual/icon.js';\n// input elements\nimport Button from './input/button.js';\nimport CheckBox from './input/check-box.js';\nimport Control from './input/control.js';\nimport ControlCircle from './input/control-circle.js';\nimport RadioControl from './input/radio-control.js';\nimport DropdownControl from './input/dropdown-control.js';\nimport Scrubber from './input/scrubber.js';\nimport Slider from './input/slider.js';\nimport HoverBox from './input/hover-box.js';\n// graph elements\nimport Node from '../elements/graph/node.js';\nimport Edge from '../elements/graph/edge.js';\nimport Graph from '../elements/graph/graph.js';\n// map elements\nimport Map from '../elements/maps/map.js';\n// math elements\nimport Plot from '../elements/math/plot.js';\n/**\n* This class exposes the high level functionality of our library. Elements can\n* created and related together\n*\n* By default input elements are added to a SVG \"controls\" group and visual\n* elements are added to the \"background\" group. This ensures that controls will\n* alwaysbe focusable, despite the order in which elements are created.\n*/\nexport default class Interactive extends SVG {\n    /**\n    * Constructs a new interactive object and appends it into the DOM. If the\n    * provided argument is an HTMLElement appends the interactive within that\n    * element. If the provided a value is a string, appends the interactive within\n    * the HTML element with the corresponding ID. If no element is found throws an\n    * error.\n    */\n    constructor(value, options = {}) {\n        super();\n        // If the user passes in a string identifier check to see if such an\n        // element exists in the current document.\n        if (typeof value == \"string\") {\n            this.container = document.getElementById(value);\n            if (this.container === null || this.container === undefined) {\n                throw new Error(`There is no HTML element with the id: ${value}`);\n            }\n        }\n        else {\n            this.container = value;\n        }\n        // create and append the root svg element and group elements\n        this.container.appendChild(this.root);\n        this.root.classList.add('interactive');\n        // Have to create and manually append because overridden append child will\n        // throw an error.\n        this.background = new Group();\n        this.input = new Group();\n        this.root.appendChild(this.background.root);\n        this.root.appendChild(this.input.root);\n        // default configuration options\n        let defaultOptions = {\n            originX: 0,\n            originY: 0,\n            width: 600,\n            height: 300,\n            border: false\n        };\n        // combine the default configuration with the user's configuration\n        let config = Object.assign(Object.assign({}, defaultOptions), options);\n        this._originX = config.originX;\n        this._originY = config.originY;\n        this._width = config.width;\n        this._height = config.height;\n        this.root.setAttribute('width', this._width.toString());\n        this.root.setAttribute('height', this._height.toString());\n        this.setViewBox(-this._originX, -this._originY, this._width, this._height);\n        this.window = false;\n        this.border = config.border;\n        // prevent the default behavior of selecting text\n        this.container.addEventListener('mousedown', function (event) {\n            event.preventDefault();\n        });\n    }\n    /**\n    * Sets the width of this interactive area.\n    */\n    set width(value) {\n        this._width = value;\n        this.root.setAttribute('width', value.toString());\n        this.setViewBox(-this._originX, -this._originY, this._width, this._height);\n    }\n    /**\n    * Returns the width of this interactive area.\n    */\n    get width() {\n        return this._width;\n    }\n    /**\n    * Sets the height of this interactive area.\n    */\n    set height(value) {\n        this._height = value;\n        this.root.setAttribute('height', value.toString());\n        this.setViewBox(-this._originX, -this._originY, this._width, this._height);\n    }\n    /**\n    * Returns the height of this interactive area.\n    */\n    get height() {\n        return this._height;\n    }\n    /**\n    * Sets the x coordinate of the origin.\n    */\n    set originX(value) {\n        this._originX = value;\n        this.setViewBox(-this._originX, -this._originY, this._width, this._height);\n    }\n    /**\n    * Returns the value of the x-coordinate of the origin.\n    */\n    get originX() {\n        return this._originX;\n    }\n    /**\n    * Sets the y coordinate of the origin.\n    */\n    set originY(value) {\n        this._originY = value;\n        this.setViewBox(-this._originX, -this._originY, this._width, this._height);\n    }\n    /**\n    * Returns the value of the x-coordinate of the origin.\n    */\n    get originY() {\n        return this._originY;\n    }\n    /**\n    * If set to true, styles the interactive to float on top of the background.\n    * This feature is good for interactives where elements can be dragged out of\n    * the bounds of the container element.\n    */\n    set window(value) {\n        if (value) {\n            this.root.classList.add('window');\n        }\n        else {\n            this.root.classList.remove('window');\n        }\n    }\n    /**\n    * If set to true, draws a minimal border around the interactive.\n    */\n    set border(value) {\n        if (value) {\n            this.root.classList.add('border');\n        }\n        else {\n            this.root.classList.remove('border');\n        }\n    }\n    /**\n    * Returns the minimum x-coordinate of this interactive.\n    */\n    get minX() {\n        return -this.originX;\n    }\n    /**\n    * Returns the minimum y-coordinate of this interactive.\n    */\n    get minY() {\n        return -this.originY;\n    }\n    /**\n    * Returns the maximum x-coordinate of this interactive.\n    */\n    get maxX() {\n        return this.minX + this._width;\n    }\n    /**\n    * Returns the maximum y-coordinate of this interactive.\n    */\n    get maxY() {\n        return this.minY + this._height;\n    }\n    /**\n    * Appends the element within the interactive. If the element is an \"input\"\n    * element, places the element in the input group so that visually the element\n    * is always placed above other graphical elements.\n    */\n    appendChild(child) {\n        if (child instanceof Input) {\n            this.input.appendChild(child);\n        }\n        else {\n            this.background.appendChild(child);\n        }\n        return child;\n    }\n    /**\n    * Creates a nested interactive within this interactive\n    */\n    interactive(x, y, options = {}) {\n        let obj = new Interactive(this.id, options);\n        // TODO: standardize this\n        obj.root.setAttribute('x', x.toString());\n        obj.root.setAttribute('y', y.toString());\n        return obj;\n    }\n    /**\n    * Creates a checkbox input at the position (x,y) within this interactive.\n    */\n    button(x, y, label) {\n        return this.appendChild(new Button(x, y, label));\n    }\n    /**\n    * Creates a checkbox input at the position (x,y) within this interactive.\n    */\n    checkBox(x, y, label, value) {\n        return this.appendChild(new CheckBox(x, y, label, value));\n    }\n    /**\n    * Creates an icon at the position (x,y) with the provided dimensions.\n    */\n    icon(x, y, width, height, name, options = {}) {\n        let baseURL;\n        if (options.baseURL === undefined) {\n            baseURL = 'resources/icons/';\n        }\n        else {\n            baseURL = options.baseURL;\n        }\n        // check to see if the symbols group has been initialized\n        if (this.symbols === undefined) {\n            this.symbols = new Group();\n            this.root.appendChild(this.symbols.root);\n            this.icons = new Set();\n        }\n        // create a new icon element\n        let icon = new Icon(x, y, width, height);\n        this.appendChild(icon);\n        // check to see if we have loaded this icon before\n        let id = `${this.id}-${name}`;\n        if (!this.icons.has(id)) {\n            // TODO: maybe we should only request one SVG file with that defines many\n            // icon symbols. Then add the symbols as needed from, rather than have\n            // many network requests for symbols. Or maybe the user could add the\n            // symbols to their web page themselves.\n            let temp = this;\n            getURL(`${baseURL}${name}.svg`).then(function (response) {\n                let symbolSVG = parseSVG(response);\n                let symbol = temp.symbols.symbol();\n                symbol.root.id = id;\n                symbol.viewBox = symbolSVG.getAttribute('viewBox');\n                while (symbolSVG.childNodes.length > 0) {\n                    symbol.root.appendChild(symbolSVG.childNodes[0]);\n                }\n                icon.href = `#${id}`;\n            }).catch(function (error) {\n                throw error;\n            });\n        }\n        else {\n            icon.href = `#${id}`;\n        }\n        this.icons.add(id);\n        return icon;\n    }\n    /**\n    * Creates a checkbox input at the position (x,y) within this interactive.\n    */\n    radioControl(x, y, labels, index = 0) {\n        return this.appendChild(new RadioControl(x, y, labels, index));\n    }\n    /**\n    * Creates a dropdown input at the position (x,y) within this interactive.\n    */\n    dropdownControl(x, y, optionLabels, defaultIndex) {\n        return this.appendChild(new DropdownControl(x, y, optionLabels, defaultIndex));\n    }\n    /**\n    * Creates a control point within this interactive at the position (x,y).\n    */\n    control(x, y) {\n        return this.appendChild(new Control(x, y));\n    }\n    /**\n    * Creates a control point within this interactive at the position (x,y).\n    */\n    controlCircle(x, y) {\n        return this.appendChild(new ControlCircle(x, y));\n    }\n    /**\n    * Creates a plot within this interactive at the position (x,y).\n    */\n    plot(fn, options) {\n        return this.appendChild(new Plot(fn, options));\n    }\n    /**\n    * Creates a graph element within this interactive\n    */\n    graph(options) {\n        return this.appendChild(new Graph(options));\n    }\n    hoverBox(str) {\n        return this.appendChild(new HoverBox(str));\n    }\n    /**\n    * Creates a graph element within this interactive\n    */\n    map(externalData, featureName = null, options = {}) {\n        let map = new Map(featureName, externalData, options);\n        let ret = this.appendChild(map);\n        let bbox = map.root.getBBox();\n        map.setViewBox(bbox.x, bbox.y, bbox.width, bbox.height);\n        return ret;\n    }\n    /**\n    * Creates a slider input within this interactive\n    */\n    slider(x, y, options) {\n        return this.appendChild(new Slider(x, y, options));\n    }\n    /**\n    * Creates a scrubber with a play and pause button at the position (x,y).\n    */\n    scrubber(x, y, options) {\n        return this.appendChild(new Scrubber(x, y, options));\n    }\n    /**\n    * Creates a node within this interactive.\n    */\n    node(x, y, rx, ry, contents) {\n        return this.appendChild(new Node(x, y, rx, ry, contents));\n    }\n    /**\n    * Creates an edge connecting two nodes within this interactive.\n    */\n    edge(nodeFrom, nodeTo, directed) {\n        return this.appendChild(new Edge(nodeFrom, nodeTo, directed));\n    }\n    /**\n    *\n    */\n    loadSVG(url) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let group = new Group();\n            this.appendChild(group);\n            getURL(url).then(function (response) {\n                group.root.appendChild(parseSVG(response));\n            }).catch(function (error) {\n                throw error;\n            });\n            return group;\n        });\n    }\n}\n//# sourceMappingURL=interactive.js.map","import Group from '../svg/group.js';\nimport Rectangle from '../svg/rectangle.js';\nimport Text from '../svg/text.js';\nimport Path from '../svg/path.js';\nimport Input from './input.js';\n/**\n*  Dropdown with menu item labels that can be selected.\n*/\nexport default class DropdownControl extends Input {\n    /**\n     * Constructs a dropdown control with given option labels at the given (x,y) position\n     * and with the default selection as the label at the given default index.\n     */\n    constructor(x, y, optionLabels, defaultIndex) {\n        if (optionLabels === undefined || optionLabels.length === 0) {\n            throw new Error('Dropdown control must have at least one option');\n        }\n        if (defaultIndex < 0 || defaultIndex >= optionLabels.length) {\n            throw new Error('Default index must be within bounds of option labels array.');\n        }\n        super();\n        this.optionLabels = optionLabels;\n        this.currentIndex = defaultIndex;\n        this.expanded = false;\n        this.textWidth = new Text(0, 0, this.getLongestString(optionLabels)).length;\n        this.x = x;\n        this.y = y;\n        this.collapsedView = new Group();\n        this.collapsedView.setAttribute(\"transform\", `translate(${this.x},${this.y})`);\n        this.currSelection = new Group();\n        this.currSelection.root.classList.add('dropdown-control-curr-selection-box');\n        this.currSelectionText = new Text(0, 1, this.optionLabels[this.currentIndex]);\n        this.currSelectionText.root.setAttribute('alignment-baseline', 'middle');\n        this.currSelectionText.style.textAnchor = 'middle';\n        this.currSelectionBox = new Rectangle(0, -16, this.textWidth * 3 + 16, 32);\n        this.currSelectionText.x = this.currSelectionBox.x + this.currSelectionBox.width / 2;\n        this.currSelection.appendChild(this.currSelectionBox);\n        this.currSelection.appendChild(this.currSelectionText);\n        let dropdownButton = new Group();\n        dropdownButton.root.classList.add('dropdown-control-button');\n        let buttonBox = new Rectangle(this.textWidth * 3 + 16, -16, 32, 32);\n        let radius = 8;\n        let downArrow = new Path(` M ${radius + this.textWidth * 3 + 32} ${radius * Math.sin(-2 * Math.PI / 3) + 1}\r\n                                 L ${radius * Math.cos(-2 * Math.PI / 3) + this.textWidth * 3 + 28} ${radius * Math.sin(-2 * Math.PI / 3) + 1}\r\n                                 L ${(radius + this.textWidth * 3 + 32 + radius * Math.cos(-2 * Math.PI / 3) + this.textWidth * 3 + 28) / 2} ${radius * Math.sin(-4 * Math.PI / 3) + 1}\r\n                                 Z`);\n        downArrow.style.fill = '#333333';\n        dropdownButton.appendChild(buttonBox);\n        dropdownButton.appendChild(downArrow);\n        let _this = this;\n        dropdownButton.root.onmousedown = function () {\n            if (!_this.expanded) {\n                _this.updateExpandedView();\n                _this.root.appendChild(_this.expandedView.root);\n                _this.expanded = true;\n            }\n            else {\n                _this.root.removeChild(_this.expandedView.root);\n                _this.expanded = false;\n            }\n            _this.onchange();\n        };\n        this.collapsedView.appendChild(this.currSelection);\n        this.collapsedView.appendChild(dropdownButton);\n        this.root = this.collapsedView.root;\n        this.root.id = this.id;\n    }\n    get value() {\n        return this.optionLabels[this.currentIndex];\n    }\n    /**\n    *  Updates the expanded view of menu options.\n    */\n    updateExpandedView() {\n        this.expandedView = new Group();\n        this.collapsedView.setAttribute(\"transform\", `translate(${this.x},${this.y})`);\n        let currSelection = new Group();\n        currSelection.root.classList.add('dropdown-control-menu-option');\n        let currSelectionText = new Text(0, 1, this.optionLabels[this.currentIndex]);\n        currSelectionText.root.setAttribute('alignment-baseline', 'middle');\n        currSelectionText.style.textAnchor = 'middle';\n        let currSelectionBox = new Rectangle(0, -16, this.textWidth * 3 + 16, 32);\n        currSelectionText.x = currSelectionBox.x + currSelectionBox.width / 2;\n        currSelection.appendChild(currSelectionBox);\n        currSelection.appendChild(currSelectionText);\n        this.expandedView.appendChild(currSelection);\n        let _this = this;\n        let rectY = 32;\n        this.optionLabels.forEach((label, i) => {\n            if (i == this.currentIndex) {\n                return;\n            }\n            let menuOption = new Group();\n            menuOption.root.classList.add('dropdown-control-menu-option');\n            let optionText = new Text(0, 1 + rectY, label);\n            optionText.root.setAttribute('alignment-baseline', 'middle');\n            optionText.style.textAnchor = 'middle';\n            let optionBox = new Rectangle(0, -16 + rectY, this.textWidth * 3 + 16, 32);\n            optionText.x = optionBox.x + optionBox.width / 2;\n            menuOption.appendChild(optionBox);\n            menuOption.appendChild(optionText);\n            menuOption.root.onmousedown = function () {\n                _this.root.removeChild(_this.expandedView.root);\n                _this.expanded = false;\n                _this.currentIndex = i;\n                _this.currSelectionText.contents = label;\n                _this.onchange();\n            };\n            this.expandedView.appendChild(menuOption);\n            rectY += 32;\n        });\n    }\n    /**\n    * Returns the text of the current selection in from the dropdown menu.\n    */\n    getCurrentSelection() {\n        return this.optionLabels[this.currentIndex];\n    }\n    /**\n    * Returns the longest string in the given string array.\n    */\n    getLongestString(list) {\n        if (list.length == 0) {\n            return \"\";\n        }\n        let longest = list[0];\n        for (let i = 1; i < list.length; i++) {\n            if (list[i].length > longest.length) {\n                longest = list[i];\n            }\n        }\n        return longest;\n    }\n}\n//# sourceMappingURL=dropdown-control.js.map","import Text from '../svg/text.js';\nimport Input from './input.js';\n/**\n* A button that when pressed fires an onclick event.\n*/\nexport default class Button extends Input {\n    /**\n    * Constructs a button at the position (x,y)\n    */\n    constructor(x, y, str) {\n        super();\n        /**\n        * The state of the checkbox\n        */\n        this._count = 0;\n        this._x = x;\n        this._y = y;\n        this._active = false;\n        this.root.setAttribute('transform', `translate(${x},${y})`);\n        this.root.classList.add('button');\n        // Create a text element\n        this.label = new Text(0, 1, str);\n        this.label.root.setAttribute('alignment-baseline', 'middle');\n        this.label.root.style.textAnchor = 'middle';\n        // TODO: why is this.text.root.textLength returning zero?\n        this.box = this.rectangle(0, -16, this.label.length * 2 + 16, 32);\n        this.box.root.setAttribute('rx', '2px');\n        this.label.x = this.box.x + this.box.width / 2;\n        this.appendChild(this.label);\n        let temp = this;\n        this.root.onmousedown = () => {\n            temp.active = !this.active;\n        };\n        this.root.onmouseup = () => {\n            temp.active = !this.active;\n        };\n    }\n    /**\n    * Returns the top left x position of this button.\n    */\n    get x() {\n        return this._x;\n    }\n    /**\n    * Sets the top left x position of this button.\n    */\n    set x(value) {\n        this._x = value;\n        this.root.setAttribute('transform', `translate(${this._x},${this._y})`);\n    }\n    /**\n    * Returns the top left x position of this button.\n    */\n    get y() {\n        return this._y;\n    }\n    /**\n    * Sets the top left y position of this button.\n    */\n    set y(value) {\n        this._y = value;\n        this.root.setAttribute('transform', `translate(${this._x},${this._y})`);\n    }\n    /**\n    * Returns how many times this button has been pressed. Count does not\n    * increment until the button has been released.\n    */\n    get count() {\n        return this._count;\n    }\n    /**\n    * Returns true if the button is actively being pressed.\n    */\n    get active() {\n        return this._active;\n    }\n    /**\n    * Allows the user to synthetically \"press\" the button and put it into an\n    * active state.\n    */\n    set active(value) {\n        // if transitioning from an active to inactive state count the state change\n        if (this.active && !value) {\n            this._count++;\n        }\n        this._active = value;\n        if (this._active) {\n            this.box.style.fill = '#f8f8f8';\n            this.box.style.stroke = '#333333';\n            this.box.style.strokeWidth = '1px';\n            this.label.style.fill = '#404040';\n        }\n        else {\n            this.box.style.fill = '';\n            this.label.style.fill = '';\n        }\n        this.onchange();\n    }\n    /**\n    * Fires when the user clicks the left button on the button.\n    */\n    set onclick(handler) {\n        this.root.onclick = handler;\n        this.onchange();\n    }\n}\n//# sourceMappingURL=button.js.map","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport Interactive from 'src/assets/source/elements/interactive';\r\nimport { DrawsService } from './draws.service';\r\nimport { Clase, ActiveShape, Category } from './draws-class';\r\nimport { ImageAdderService } from '../imagebar/imagebar.service';\r\nimport { sidebarService } from '../sidebar/sidebar.service';\r\nimport {Papa} from 'ngx-papaparse'\r\n\r\n@Component({\r\n  selector: 'app-draws',\r\n  templateUrl: './draws.component.html',\r\n  styleUrls: ['./draws.component.css']\r\n})\r\nexport class DrawsComponent implements OnInit {\r\n\r\n  constructor(public draswService:DrawsService,\r\n              public imageService: ImageAdderService,\r\n              private sidebarService:sidebarService,\r\n              private papa:Papa) { }\r\n\r\n\r\n  // nombre de la variable debe ser \r\n  // idem al html\r\n  public color:string;\r\n  public width:any;\r\n  public height:any;\r\n  public name:any;\r\n  public message:any;\r\n  public show:boolean=false;\r\n  private temporalShape:ActiveShape;\r\n  private isHidden=false;\r\n  public categories:Category[]=[];\r\n\r\n  // Crea una zona interactive\r\n  // por defecto de 1400x300\r\n  ngOnInit(): void {\r\n    this.draswService.myInteractive=new Interactive(\"my-interactive\");\r\n    this.draswService.myInteractive.width=200;\r\n    this.draswService.myInteractive.height=200; \r\n    let cont=document.getElementById(\"draw_container_id\");\r\n    cont.addEventListener(\"click\",this.draswService.uptadeOri,false);\r\n    this.color=\"#844444\"\r\n    this.name=\"\"; \r\n    this.draswService.defaulClases()\r\n    .then(c=>{\r\n      this.fillCategories();\r\n    });\r\n\r\n      \r\n  }\r\n\r\n\r\n  // Boton formulario crear clase\r\n  mostrar(id){\r\n    \r\n    let section=document.getElementById(id);\r\n    section.style.display=\"block\";\r\n    document.getElementById(\"class-creation\").style.display=\"block\";\r\n  }\r\n\r\n  //Confirmar la creacion de nueva clase\r\n  confirmCreation(id,shapeType:string){\r\n    let check=false;\r\n    let checkField=false;\r\n    let clase:Clase;\r\n\r\n    if(shapeType.localeCompare(\"box\")===0){\r\n      this.width=document.getElementById(\"width\");\r\n      this.height=document.getElementById(\"height\");\r\n      this.name=document.getElementById(\"name\");\r\n      \r\n      clase.name=this.name.value;\r\n      clase.width=parseInt(this.width.value);\r\n      clase.height=parseInt(this.height.value);\r\n      clase.color=this.color;\r\n      clase.shape=shapeType;\r\n      clase.view=true;\r\n      let formArea=document.getElementById(\"atributeForm\") as HTMLTextAreaElement;\r\n      let atributeData=\"\";\r\n      const formLength=formArea.children.length;      \r\n      check=this.draswService.checkClassname(clase.name);\r\n      checkField=this.checkFieldNames(formArea,formLength);\r\n      if(checkField&&check){\r\n        for (let index = 0; index < formLength; index+=2) {        \r\n          let formChildren=formArea.firstChild as HTMLTextAreaElement;\r\n          atributeData=atributeData+formChildren.value+\":\";\r\n          formArea.removeChild(formArea.firstChild);\r\n          formChildren=formArea.firstChild as HTMLTextAreaElement;\r\n          if((index+2)!==formLength){\r\n            atributeData=atributeData+formChildren.value+\";\"; \r\n          }\r\n          else{\r\n            atributeData=atributeData+formChildren.value;\r\n          }       \r\n          formArea.removeChild(formArea.firstChild);        \r\n        }\r\n        clase.atribute=atributeData;\r\n      }\r\n    }\r\n    else if(shapeType.localeCompare(\"line\")===0){\r\n      this.name=document.getElementById(\"linename\");\r\n      const lines=document.getElementById(\"points\") as HTMLTextAreaElement;      \r\n      clase.lines=lines.value;\r\n      clase.name=this.name.value;\r\n      clase.color=this.color;\r\n      clase.shape=shapeType;\r\n      clase.view=true;\r\n      let formArea=document.getElementById(\"atributeFormLine\") as HTMLTextAreaElement;\r\n      let atributeData=\"\";       \r\n      const formLength=formArea.children.length;     \r\n      check=this.draswService.checkClassname(clase.name);\r\n      checkField=this.checkFieldNames(formArea,formLength);\r\n      if(checkField&&check){\r\n        for (let index = 0; index < formLength; index+=2) {        \r\n          let formChildren=formArea.firstChild as HTMLTextAreaElement;\r\n          atributeData=atributeData+formChildren.value+\":\";\r\n          formArea.removeChild(formArea.firstChild);\r\n          formChildren=formArea.firstChild as HTMLTextAreaElement;\r\n          if((index+2)!==formLength){\r\n            atributeData=atributeData+formChildren.value+\";\"; \r\n          }\r\n          else{\r\n            atributeData=atributeData+formChildren.value;\r\n          }       \r\n          formArea.removeChild(formArea.firstChild);        \r\n        }     \r\n        clase.atribute=atributeData;\r\n        \r\n        \r\n      }\r\n    }\r\n\r\n    // All right, let's reset the template\r\n    if(checkField&&check){\r\n      this.draswService.crearClase(clase);\r\n      this.show1(\"class-creation\",\"line-creation\",\"boxselector\",\"lineselector\");\r\n      this.width=document.getElementById(\"width\");\r\n      this.height=document.getElementById(\"height\");\r\n      this.name=document.getElementById(\"name\");\r\n      this.width.value=50;\r\n      this.height.value=50;\r\n      this.color=\"#844444\";\r\n      this.name.value=\"\";      \r\n      this.name=document.getElementById(\"linename\");\r\n      this.name.value=\"\";\r\n      let section=document.getElementById(id);\r\n      section.style.display=\"none\";      \r\n      document.getElementById(\"classNameAlertLine\").style.display=\"none\";      \r\n      this.show=true;     \r\n      document.getElementById(\"shape-selector\").style.display=\"none\";\r\n      // List variation function\r\n      // this.syncFunction(50).then(v=>{\r\n      //   const header=document.getElementById(\"classheaderid\");\r\n      //   const elements=header.getElementsByClassName(\"lista\");       \r\n      //   for(var i =0;i<elements.length;i++){\r\n      //     elements[i].addEventListener(\"click\",function(){\r\n      //       let current=document.getElementsByClassName(\"classActive\");\r\n      //       if(current.length>0){\r\n      //         current[0].className=current[0].className.replace(\" classActive\",\"\");\r\n      //       }\r\n      //       this.className+=\" classActive\";          \r\n      //     })\r\n          \r\n      //   }\r\n      // })\r\n\r\n    }\r\n    // Some error\r\n    else{\r\n      if(shapeType.localeCompare(\"line\")===0){\r\n        document.getElementById('classNameAlertLine').style.display=\"block\";\r\n      }\r\n      else{ document.getElementById(\"classNameAlert\").style.display=\"block\";}\r\n    }\r\n\r\n  }\r\n\r\n  // cancelar creacion de clases\r\n  cancelCreation(id){\r\n    this.show1(\"class-creation\",\"line-creation\",\"boxselector\",\"lineselector\")\r\n    this.width=document.getElementById(\"width\");\r\n    this.height=document.getElementById(\"height\");\r\n    this.name=document.getElementById(\"name\");\r\n    this.width.value=50;\r\n    this.height.value=50;\r\n    this.color=\"#844444\";    \r\n    this.name.value=\"\";\r\n    this.name=document.getElementById(\"linename\");\r\n    this.name.value=\"\";\r\n    let section=document.getElementById(id);\r\n    section.style.display=\"none\";\r\n    document.getElementById(\"classNameAlert\").style.display=\"none\";\r\n    document.getElementById(\"shape-selector\").style.display=\"none\";\r\n  }\r\n\r\n// obtiene los valores necesarios para \r\n// crear una forma rectangular\r\n\r\n   crearForma():void{\r\n    // this.draswService.crearShape(this.imageService.img.name);\r\n    \r\n  }\r\n  // Funcion que crea una forma segun\r\n  // las especificaciones del usuario\r\n\r\n  mostrarDeleteAlert(id){\r\n    document.getElementById(id).style.display=\"block\";\r\n    document.getElementById(\"shape-selector\").style.display=\"none\";\r\n    document.getElementById(\"class-creation\").style.display=\"none\";\r\n  }\r\n\r\n  confirmDelete(id){\r\n    this.draswService.deleteClase();\r\n    document.getElementById(id).style.display=\"none\";\r\n  }\r\n  cancelDelete(id){\r\n    document.getElementById(id).style.display=\"none\";\r\n  }\r\n\r\n  // Seleccion de clase\r\n  classSelector(name){  \r\n    // Asigna clase activa\r\n    document.getElementById(\"class_cretion_container\").style.display=\"block\";\r\n    document.getElementById(\"shape-management\").style.display=\"block\";\r\n    // document.getElementById(\"class-edit-container\").style.display=\"none\";\r\n    document.getElementById(\"shape-creator\").className=\"active-button\";\r\n    // document.getElementById(\"shape-editor\").className=\"inactive-button\";\r\n    this.draswService.clases.forEach(element => {\r\n      if (element.name===name) {\r\n        this.draswService.selectClase(element);   \r\n      }\r\n    });\r\n    // Actualiza la vista de clase\r\n    if(this.draswService.clase.atribute){ //Si contiene atributos\r\n      let data=this.splitAtributeData(this.draswService.clase.atribute,\";\");\r\n      let padre=document.getElementById(\"atribute_window\");\r\n        const padreLength=padre.children.length;\r\n        for (let index = 0; index <padreLength; index++) {\r\n          padre.removeChild(padre.firstChild);\r\n          \r\n        }\r\n      data.forEach(element => {\r\n        // Nombre del atributo\r\n        let text=this.splitAtributeData(element,':');\r\n        let namebar=this.createNameLabel(text[0]);\r\n        // Valor del atributo\r\n        let valuebar=this.createValueLabel(text[1]);        \r\n        padre.appendChild(namebar);\r\n        padre.appendChild(valuebar);\r\n\r\n\r\n\r\n      });\r\n    }\r\n    else{ //Si no contiene atributos\r\n      let padre=document.getElementById(\"atribute_window\");\r\n        const padreLength=padre.children.length;\r\n        for (let index = 0; index <padreLength; index++) {\r\n          padre.removeChild(padre.firstChild);\r\n          \r\n        }\r\n    }\r\n  }\r\n\r\n  \r\n\r\n  // Mostrar/Ocultar las opciones de creacion de formas\r\n  show1(id1,id2,idactive,idinactive){\r\n    document.getElementById(idactive).className=\"active-button\"\r\n    document.getElementById(idinactive).className=\"inactive-button\"\r\n    document.getElementById(id1).style.display=\"block\";\r\n    document.getElementById(id2).style.display=\"none\";\r\n  }\r\n\r\n  // Crea elementos para recibir datos extra\r\n  // durante la creacion de clase\r\n  addAtribute(id){\r\n    let namebar=this.createValueLabel(\"\");\r\n    let valuebar=this.createValueLabel(\"\");\r\n    let form=document.getElementById(id);\r\n    form.appendChild(namebar);\r\n    form.appendChild(valuebar);\r\n\r\n  }\r\n\r\n  removeAtribute(id){\r\n    let doc=document.getElementById(id);\r\n    if(doc.lastChild){\r\n      doc.removeChild(doc.lastChild);\r\n      doc.removeChild(doc.lastChild);\r\n    }\r\n  }\r\n  checkFieldNames(formArea:HTMLTextAreaElement,formLength){\r\n    let bool=true;\r\n    const regExp=/\\s/;\r\n    for (let index = 0; index < formLength; index+=2) {        \r\n      let formChildren=formArea.children[index] as HTMLTextAreaElement;\r\n      if( formChildren.value.localeCompare(\"\")===0 || formChildren.value.match(regExp)!==null){\r\n        bool=false;\r\n        this.draswService.errorMessage=\"El nombre del atributo no puede estar vaco o tener espacios.\";\r\n    }\r\n                \r\n    }  \r\n    \r\n    return bool;\r\n  }\r\n\r\n  async syncFunction(x) {\r\n    const a = await this.resolveAfter2Seconds(20);\r\n    const b = await this.resolveAfter2Seconds(30);\r\n    return x + a + b;\r\n  }\r\n  resolveAfter2Seconds(x) {\r\n    return new Promise(resolve => {\r\n      setTimeout(() => {\r\n        resolve(x);\r\n      }, 1);\r\n    });\r\n  }\r\n\r\n  \r\n  splitAtributeData(dataString:string,separator:string){\r\n    let data=dataString.split(separator);\r\n    return data;\r\n  }\r\n\r\n  showEditForm(item:ActiveShape){    \r\n    if(item.atribute){\r\n      let data=this.splitAtributeData(item.atribute,\";\");\r\n      let padre=document.getElementById(\"shape-edit-container\");\r\n      const padreLength=padre.children.length;\r\n      for(let index=0;index<padreLength;index++){\r\n        padre.removeChild(padre.firstChild);\r\n      }\r\n      data.forEach(element=>{\r\n        let text=this.splitAtributeData(element,\":\");\r\n        let namebar=this.createNameLabel(text[0]);\r\n        let valuebar=this.createValueLabel(text[1]);\r\n        padre.appendChild(namebar);\r\n        padre.appendChild(valuebar);\r\n      })\r\n\r\n      document.getElementById(\"uptade-btn\").style.display=\"block\";\r\n      this.temporalShape=item;\r\n    }\r\n    else {\r\n      let padre=document.getElementById(\"shape-edit-container\");\r\n      const padreLength=padre.children.length;\r\n      for(let index=0;index<padreLength;index++){\r\n        padre.removeChild(padre.firstChild);\r\n      }\r\n      document.getElementById(\"uptade-btn\").style.display=\"none\";\r\n    };\r\n    \r\n  }\r\n\r\n  updateShape(container:string){\r\n    let data=\"\";\r\n    let source=document.getElementById(container);\r\n    const sourcelength=source.children.length;\r\n    for (let index = 0; index < sourcelength; index+=2) {\r\n      let nombreatrib=source.children[index];\r\n      let valoratrib=source.children[index+1] as HTMLTextAreaElement;\r\n      if((index+2)!==sourcelength){\r\n        data=data+nombreatrib.textContent+valoratrib.value+\";\";\r\n    }\r\n        else{\r\n          data=data+nombreatrib.textContent+valoratrib.value;\r\n    }\r\n    }\r\n    this.temporalShape.atribute=data;    \r\n  }\r\n\r\n  createValueLabel(text: string) {\r\n    let valuebar=document.createElement(\"textarea\");\r\n        valuebar.className=\"atributebox\";\r\n        valuebar.style.border=\"none\"\r\n        valuebar.style.resize= \"none\";\r\n        valuebar.style.marginLeft=\"1em\";\r\n        valuebar.style.marginBottom= \"10px\";\r\n        valuebar.style.width= \"5em\";\r\n        valuebar.style.height= \"2.5em\";\r\n        valuebar.style.boxSizing= \"border-box\";\r\n        valuebar.style.borderBottom=\"solid var(--lightgreen)\"\r\n        valuebar.style.backgroundColor=\"var(--darkgray)\"\r\n        valuebar.style.color=\"var(--white)\"\r\n        valuebar.style.fontSize= \"small\";\r\n        valuebar.style.transition= \"all 500ms linear\";\r\n        valuebar.style.display=\"inline-block\";\r\n        valuebar.placeholder=\"Valor...\";\r\n        valuebar.value=text;\r\n        return valuebar;\r\n  }\r\n\r\n  createNameLabel(text: string) {\r\n        let namebar=document.createElement(\"p\");\r\n        namebar.className=\"namebox\";\r\n        namebar.style.color=\"var(--white)\"\r\n        namebar.style.marginLeft=\"0.5em\";\r\n        namebar.style.paddingTop= \"1em\";\r\n        namebar.style.width= \"4em\";\r\n        namebar.style.height= \"2.5em\";\r\n        namebar.style.fontSize= \"smal\";\r\n        namebar.style.resize= \"none\";\r\n        namebar.style.overflow=\"hidden\";\r\n        namebar.style.display=\"inline-block\";\r\n        namebar.title=text;\r\n        namebar.style.textAlign=\"right\"\r\n        namebar.textContent=text+\":\";\r\n        return namebar;\r\n  }\r\n\r\n  toggleClassView(className:string){\r\n    this.toggleValues(className).then(()=>{\r\n      this.refreshView(this.imageService.img.name);\r\n    })\r\n  }\r\n\r\n  async toggleValues(className:string){\r\n    this.draswService.clases.forEach(element=>{\r\n      if(className.localeCompare(element.name)===0){\r\n        \r\n        if(element.view){\r\n          element.view=false;\r\n        }\r\n        else{\r\n          element.view=true;\r\n        }\r\n      }\r\n    });\r\n    return;\r\n  }\r\n\r\n\r\n  refreshView(name:string){\r\n    console.log(\"refresque tags\");\r\n    this.draswService.refreshContainer(name).then(()=>{\r\n      this.draswService.myInteractive.remove();\r\n      // Establece a element como imagen activa y actualiza el tamao del canvas\r\n      this.imageService.images.forEach(element => {\r\n        if(element.name.localeCompare(name)===0) {\r\n          this.imageService.setImage(element);        \r\n          this.syncFunction(50).then(v => {          \r\n            this.sidebarService.removeGlass();\r\n            let img=document.getElementById('image');  \r\n            document.getElementById('image-box').style.marginTop='-'+img.clientHeight.toString()+'px';\r\n            this.draswService.myInteractive.height=img.clientHeight;      \r\n            this.sidebarService.magniGlass(\"image\");\r\n          });\r\n          \r\n        }\r\n      });\r\n      // Establece a element como imagen compleja activa\r\n      \r\n      this.imageService.complexImages.forEach(element=>{\r\n        if(element.name===name){\r\n          this.imageService.setComplex(element);\r\n        }\r\n      })\r\n      this.draswService.myInteractive=new Interactive(\"my-interactive\");\r\n      this.draswService.myInteractive.width=1400;\r\n      let img=document.getElementById('image') as HTMLImageElement;  \r\n  \r\n      document.getElementById('image-box').style.marginTop='-'+img.clientHeight.toString()+'px';\r\n      this.draswService.myInteractive.height=img.clientHeight;\r\n  \r\n      // cargar imagenes\r\n      this.draswService.clearActiveShapes();\r\n      // busco la imagen en el container\r\n      let indexA=0;\r\n      let indexB=0;\r\n      let found=false;\r\n      this.draswService.shapeContainer.forEach(element => {            \r\n          if (!(element.imgName===name)) {\r\n              indexA++;\r\n          }\r\n          else{\r\n              indexB=indexA;\r\n              found=true;\r\n  \r\n          }\r\n      });\r\n      //Se crean las formas que estn en el cotenedor\r\n      // y que tienen activa su clase\r\n      if(found){\r\n        this.draswService.shapeContainer[indexB].shapeList.forEach(element => {        \r\n          this.draswService.crearFromData(element);  \r\n        });\r\n      }\r\n    });    \r\n  }\r\n\r\n  // Load clases\r\n  loadCsvClass(files){\r\n    if(files.length===0){\r\n      return;\r\n    }\r\n    const type=files[0].type;\r\n    if(type.localeCompare(\"application/vnd.ms-excel\")!=0){\r\n      return;\r\n    }   \r\n     \r\n    this.importData(files).then(csvData=>{\r\n      this.syncFunction(50).then(v=>{\r\n        csvData.forEach(element=>{\r\n          let clase= new Clase();\r\n          clase.name=element[0];\r\n          clase.shape=element[1];\r\n          clase.atribute=element[3];\r\n          clase.color=element[6];\r\n          clase.showName=element[7];\r\n          clase.view=true;\r\n          if(clase.shape.localeCompare(\"box\")===0){\r\n            clase.width=parseInt(element[4]);\r\n            clase.height=parseInt(element[5]);              \r\n          }\r\n          else if(clase.shape.localeCompare(\"line\")===0){\r\n            clase.lines=element[2];\r\n          }\r\n          this.draswService.crearClase(clase);\r\n       })\r\n     \r\n      }); \r\n    })\r\n\r\n    \r\n\r\n\r\n  }\r\n\r\n   async importData(files){     \r\n    let csvData=[];\r\n    let counter=0;\r\n    await this.papa.parse(files[0], {\r\n      // header true->ignora el header del archivo\r\n      header: false, \r\n      step:function (results) {\r\n        if(counter!=0){\r\n          if(results.data!=\"\"){\r\n            csvData.push(results.data);\r\n          }\r\n        }\r\n        else counter++;        \r\n      }\r\n    });\r\n    return csvData;\r\n  }\r\n\r\n  toggleCreate(){\r\n    this.draswService.toggleClassCreation();\r\n  }\r\n\r\n  changeActiveUpClass(id){\r\n    const active=document.getElementById(id);\r\n    const padre = active.parentElement;\r\n    const abuelo = padre.parentElement;\r\n    const hijos=abuelo.getElementsByTagName('div');\r\n    const state=active.style.display;\r\n    for (let index = 0; index < hijos.length; index++) { \r\n      if(hijos[index].className==='simpleContainer'){\r\n        hijos[index].style.display='none';   \r\n      }      \r\n    }\r\n    if(state===\"block\"){\r\n      active.style.display=\"none\";\r\n    }\r\n    else{\r\n      active.style.display=\"block\";\r\n    }\r\n    \r\n    \r\n\r\n  }\r\n\r\n  isEmpty(obj) {\r\n    return Object.keys(obj).length === 0;\r\n  }\r\n  fillCategories(){\r\n    const id=[\"idBase\",\"idGeo\"];\r\n    const nombre=[\"Base\",\"Geotecnia\"];\r\n    const upClass=[\"base\",\"geo\"];\r\n    //const id=[\"idBase\",\"idGeo\",\"idLito\",\"idAlt\",\"idMnz\"];\r\n    //const nombre=[\"BaseLine\",\"Geotecnia\",\"Litologa\",\"Alteracin\",\"Mineralizacin\"];\r\n    //const upClass=[\"base\",\"geo\",\"lito\",\"alt\",\"mnz\"];\r\n    for (let index = 0; index < id.length; index++) {\r\n      const categoria=new Category();\r\n      categoria.id=id[index];\r\n      categoria.nombre=nombre[index];\r\n      categoria.upClass=upClass[index];\r\n      this.categories.push(categoria);\r\n      \r\n    }\r\n  }\r\n\r\n\r\n\r\n  }\r\n\r\n\r\n\r\n","<link rel=\"stylesheet\" href=\"https://vectorjs.org/library.css\">\r\n<link href=\"https://fonts.googleapis.com/icon?family=Material+Icons\" rel=\"stylesheet\">\r\n\r\n\r\n<!-- <div class=\"classContainer\"> -->\r\n<div class=\"container\">  \r\n    <!-- <ul id=\"classheaderid\">\r\n        <li class=\"lista\" *ngFor=\"let item of draswService.clases\" (click)=\"classSelector(item.name)\">{{item.name}}</li>\r\n    </ul>   -->\r\n    <div class=\"mainBlock\">\r\n        <br>\r\n        <div class=\"block\" style=\"text-align: right;\">\r\n            Editar\r\n        </div>\r\n        \r\n        <div class=\"block\">\r\n            <label class=\"switch\">\r\n                <input id=\"toggle-class\"type=\"checkbox\" (click)=\"toggleCreate()\">\r\n                <span class=\"slider round\"></span>\r\n            </label>\r\n        </div>\r\n\r\n        <div class=\"block\" style=\"text-align: left;\">&nbsp;&nbsp;Crear</div>\r\n        \r\n    </div> \r\n\r\n    <br>\r\n    <br>\r\n\r\n    <div class=\"class-container\">\r\n            <div *ngFor=\"let categoria of categories\">\r\n                <h5 (click)=\"changeActiveUpClass(categoria.id)\">{{categoria.nombre}}</h5>\r\n\r\n                <div id=\"{{categoria.id}}\" class=\"simpleContainer\" style=\"display: none;\">\r\n                    <div *ngFor=\"let clase of draswService.clases\">\r\n                        <div class=\"{{clase.upClass}}\" *ngIf=\"clase.upClass===categoria.upClass\">\r\n    \r\n                            <input id=\"{{clase.name}}\" (click)=\"toggleClassView(clase.name)\" type=\"checkbox\" class=\"eye\" checked>\r\n                            <label for=\"c1\"></label>\r\n                    \r\n                            <input id=\"{{clase.name}}\" type=\"radio\" name=\"radio\" value=\"clase.name\" (click)=\"classSelector(clase.name)\">\r\n                            <label class=\"class_name\">{{clase.showName}}</label>\r\n                            <img src=\"/assets/icons/{{clase.icon}}\" alt=\"\" style=\"float: right; max-height: 1em; max-width: 1em;\">\r\n                        </div>\r\n                    </div>\r\n                    \r\n                </div>\r\n            </div>  \r\n    </div>\r\n\r\n\r\n    \r\n\r\n</div>\r\n<!-- Crear/Eliminar clase -->\r\n\r\n\r\n<!-- Eleccion entre tipo de figura para crear -->\r\n<div id=\"shape-selector\" style=\"display: none;\">\r\n    <button class=\"active-button\" id=\"boxselector\" (click)=\"show1('class-creation','line-creation','boxselector', 'lineselector')\" >Box</button>\r\n    <button class=\"inactive-button\" id=\"lineselector\" (click)=\"show1('line-creation', 'class-creation', 'lineselector','boxselector')\">Line</button>\r\n</div>\r\n\r\n\r\n<div style=\"display: block;\">\r\n    <br>   \r\n    <!-- Form para crear la figura / editar atributos-->\r\n    <div id=\"shape-management\" style=\"display: none;\">\r\n        <button class=\"active-button\" id=\"shape-creator\" (click)=\"show1('class_cretion_container','class-edit-container','shape-creator', 'shape-editor')\" >Crear</button>\r\n        <!-- <button class=\"inactive-button\" id=\"shape-editor\" (click)=\"show1('class-edit-container', 'class_cretion_container', 'shape-editor','shape-creator')\">Editar</button> -->\r\n    </div>\r\n\r\n    <div id=\"class_cretion_container\" class=\"class_creation\"  style=\"display: none;\">\r\n        <h4 style=\"text-align: center; overflow: hidden;\">{{this.draswService.clase.showName}}</h4>\r\n        <div id=\"atribute_window\"></div>\r\n        \r\n\r\n        <!-- <button class=\"shapecreate\" (click)='crearForma()' title=\"Crea una forma a partir de la clase seleccionada.\">Crear forma</button> -->\r\n    </div>\r\n\r\n\r\n    <!-- <div id=\"class-edit-container\" class=\"class_creation\" style=\"display: none;\">\r\n        <div class=\"box\">\r\n            <select id=\"id-selector\" >\r\n                <option>ID</option>\r\n                <option class=\"opt\" *ngFor=\"let item of draswService.activesShapes\" (click)=\"showEditForm(item)\">{{item.id}}</option>\r\n            </select>\r\n        </div>\r\n\r\n        <div  id=\"shape-edit-container\">            \r\n        </div>\r\n        \r\n        <button id=\"uptade-btn\" class=\"btn\" style=\"display: none; margin-left: 1em;\" (click)=\"updateShape('shape-edit-container')\">Actualizar</button>\r\n\r\n    </div> -->\r\n\r\n      <!-- Creacion de clase -->\r\n    <div class=\"btn-container\" style=\"display: none;\">\r\n    \r\n\r\n        <input id=\"csvClass-input\" class=\"image_input\" #csvClass accept=\".csv\" type=\"file\" (change)=\"loadCsvClass(csvClass.files)\">\r\n        <label for=\"csvClass-input\" style=\"margin-left: 1em;margin-top: 0.5em;\" title=\"Importa un archivo .csv desde su dispositivo\">Importar clases</label>\r\n        <!-- <button class=\"btn\" (click)=\"mostrar('shape-selector')\" title=\"Crear una nueva clase.\">Crear</button>\r\n        <button class=\"btn delete\" (click)=\"mostrarDeleteAlert('classDeleteid')\" title=\"Eliminar clase seleccionada.\">Eliminar</button> -->\r\n    \r\n    </div>\r\n    \r\n    <!-- Confirmar eliminar clase -->\r\n    <div *ngIf=\"this.show\" class=\"classDelete\" id=\"classDeleteid\" style=\"display: none;\">\r\n        Se eliminar <strong>{{this.draswService.clase.name}}</strong>.\r\n        Desea continuar?\r\n        <div>\r\n            <button class=\"material-icons\"(click)=\"confirmDelete('classDeleteid')\" title=\"Eliminar clase.\">check</button>\r\n            <button class=\"material-icons\" (click)=\"cancelDelete('classDeleteid')\" title=\"Cancelar eliminacin.\">clear</button> \r\n        </div>\r\n    </div>\r\n    <!-- div auxiliar para obtener valores -->\r\n    <div style=\"display: none;\">\r\n        <textarea id=\"oriX\">100</textarea>        \r\n        <textarea id=\"oriY\">100</textarea>\r\n    </div>\r\n</div>\r\n\r\n","// base element for everything\r\nimport BaseElement from './elements/base-element.js';\r\n\r\n// base svg element\r\nimport Element from './elements/svg/element.js';\r\n\r\n// svg objects\r\nimport Circle from './elements/svg/circle.js';\r\nimport ClipPath from './elements/svg/clip-path.js';\r\nimport Definitions from './elements/svg/definitions.js';\r\nimport Description from './elements/svg/description.js';\r\nimport Ellipse from './elements/svg/ellipse.js';\r\nimport Group from './elements/svg/group.js';\r\nimport Line from './elements/svg/line.js';\r\nimport Marker from './elements/svg/marker.js';\r\nimport Path from './elements/svg/path.js';\r\nimport Polygon from './elements/svg/polygon.js';\r\nimport Rectangle from './elements/svg/rectangle.js';\r\nimport SVG from './elements/svg/svg.js';\r\nimport Shape from './elements/svg/shape.js';\r\nimport Symbol from './elements/svg/symbol.js';\r\nimport TSpan from './elements/svg/t-span.js';\r\nimport Text from './elements/svg/text.js';\r\nimport Use from './elements/svg/use.js';\r\n\r\n// input objects\r\nimport Button from './elements/input/button.js';\r\nimport CheckBox from './elements/input/check-box.js';\r\nimport ControlCircle from './elements/input/control-circle.js';\r\nimport Control from './elements/input/control.js';\r\nimport RadioControl from './elements/input/radio-control.js';\r\nimport DropdownControl from './elements/input/dropdown-control.js';\r\nimport Scrubber from './elements/input/scrubber.js';\r\nimport Slider from './elements/input/slider.js';\r\nimport Input from './elements/input/input.js';\r\n\r\n// complex objects\r\nimport Interactive from './elements/interactive.js';\r\nimport Plot from './elements/math/plot.js';\r\nimport Point from './elements/math/point.js';\r\n\r\n// export utility functions\r\nexport * from './util/file.js';\r\nexport * from './util/math.js';\r\n\r\n// export objects\r\nexport {\tButton,\r\n\t\t\t\t\tBaseElement,\r\n\t\t\t\t\tCircle,\r\n\t\t\t\t\tCheckBox,\r\n\t\t\t\t\tClipPath,\r\n\t\t\t\t\tControlCircle,\r\n\t\t\t\t\tControl,\r\n\t\t\t\t\tDefinitions,\r\n\t\t\t\t\tDescription,\r\n\t\t\t\t\tElement,\r\n\t\t\t\t\tEllipse,\r\n\t\t\t\t\tGroup,\r\n\t\t\t\t\tInput,\r\n\t\t\t\t\tInteractive,\r\n\t\t\t\t\tLine,\r\n\t\t\t\t\tMarker,\r\n\t\t\t\t\tPath,\r\n\t\t\t\t\tPlot,\r\n\t\t\t\t\tPoint,\r\n\t\t\t\t\tPolygon,\r\n\t\t\t\t\tRadioControl,\r\n\t\t\t\t\tDropdownControl,\r\n\t\t\t\t\tRectangle,\r\n\t\t\t\t\tScrubber,\r\n\t\t\t\t\tShape,\r\n\t\t\t\t\tSlider,\r\n\t\t\t\t\tSVG,\r\n\t\t\t\t\tSymbol,\r\n\t\t\t\t\tTSpan,\r\n\t\t\t\t\tText,\r\n\t\t\t\t\tUse };\r\n"],"sourceRoot":"webpack:///"}